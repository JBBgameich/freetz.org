<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

    <html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      patch (diff) – Freetz
    </title>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="/search" />
        <link rel="help" href="TracGuide.html" />
        <link rel="up" href="patch%3Faction=history.html" title="Änderungshistorie" />
        <link rel="start" href="/wiki" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/wiki.css" type="text/css" /><link rel="stylesheet" href="/chrome/common/css/diff.css" type="text/css" /><link rel="stylesheet" href="../chrome/wikiextras/css/phrases.css" type="text/css" /><link rel="stylesheet" href="../chrome/wikiextras/css/boxes.css" type="text/css" /><link rel="stylesheet" href="../chrome/wikiextras/css/boxes-300.css" type="text/css" /><link rel="stylesheet" href="../chrome/wikiextras/css/boxes-narrow-toc.css" type="text/css" /><link rel="stylesheet" href="../wikicss.css" type="text/css" />
        <link rel="prev" href="/wiki/patch?action=diff&amp;version=7" title="Version 7" />
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="/favicon.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="/search/opensearch" title="Freetz durchsuchen" />
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/jquery.js"></script>
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/babel.js"></script>
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/messages/de.js"></script>
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/trac.js"></script>
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/search.js"></script>
      <script type="text/javascript" charset="utf-8" src="/chrome/common/js/diff.js"></script>
    <link rel="stylesheet" type="text/css" href="/chrome/common/css/diff.css" />
    <meta name="ROBOTS" content="NOINDEX, NOFOLLOW" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="/wiki"><img src="../chrome/common/freetz_motd.png" alt="Freetz" /></a>
      </div>
      <form id="search" action="/search" method="get">
        <div>
          <label for="proj-search">Suche:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Suche" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="/login">Anmelden</a></li><li><a href="/prefs">Einstellungen</a></li><li><a href="TracGuide.html">Hilfe/Anleitung</a></li><li><a href="/about">Über Trac</a></li><li><a href="/notification" title="Wiki Pages Change Notifications">My Notifications</a></li><li><a href="/register">Registrieren</a></li><li class="last"><a href="Impressum.html">Impressum</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first active"><a href="/wiki">Wiki</a></li><li><a href="/timeline">Journal</a></li><li><a href="/roadmap">Projektplan</a></li><li><a href="/browser">Quellen durchsehen</a></li><li><a href="/report">Tickets anzeigen</a></li><li><a href="/search">Suche</a></li><li><a href="/tags">Tags</a></li><li><a href="/downloads">Downloads</a></li><li class="last"><a href="/screenshots">Bildschirmfotos</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Kontext-Navigation</h2>
        <ul>
          <li class="first"><span>&larr; <a class="prev" href="/wiki/patch?action=diff&amp;version=7" title="Version 7">Vorige Änderung</a></span></li><li><a href="patch%3Faction=history.html" title="Änderungshistorie">Änderungshistorie</a></li><li class="last"><span class="missing">Nächste Änderung &rarr;</span></li>
        </ul>
        <hr />
      </div>
    <div id="content" class="wiki">
      <h1>
        Änderungen von <a href="/wiki/patch?version=8">patch</a> zwischen
          <a href="/wiki/patch?version=7">Version 7</a> und
          <a href="/wiki/patch?version=8">Version 8</a>
      </h1>
      <form method="post" id="prefs" action="/wiki/patch?version=8"><div><input type="hidden" name="__FORM_TOKEN" value="d287ce019981e173997e036e" /></div>
        <div>
          <input type="hidden" name="action" value="diff" />
          <input type="hidden" name="version" value="8" />
          <input type="hidden" name="old_version" value="7" />
          
  <label for="style">Zeige Unterschiede</label>
  <select id="style" name="style">
    <option selected="selected" value="inline">untereinander</option>
    <option value="sidebyside">nebeneinander</option>
  </select>
  <div class="field">
    <label><input type="radio" name="contextall" value="0" checked="checked" />
             Zeige</label>
      <label><input type="text" name="contextlines" id="contextlines" size="2" maxlength="3" value="2" />
             Zeilen vor und nach jeder Änderung</label><br />
    <label><input type="radio" name="contextall" value="1" />
           gesamte Datei mit Änderungen zeigen</label>
  </div>
  <fieldset id="ignore">
    <legend>Ignorieren:</legend>
    <div class="field">
      <input type="checkbox" id="ignoreblanklines" name="ignoreblanklines" />
      <label for="ignoreblanklines">Leerzeilen</label>
    </div>
    <div class="field">
      <input type="checkbox" id="ignorecase" name="ignorecase" />
      <label for="ignorecase">Groß-/Kleinschreibung</label>
    </div>
    <div class="field">
      <input type="checkbox" id="ignorewhitespace" name="ignorewhitespace" />
      <label for="ignorewhitespace">Leerzeichen</label>
    </div>
  </fieldset>
  <div style="display:none;"><input type="text" name="sfp_email" value="" /><input type="hidden" name="sfph_mail" value="" /></div><div class="buttons">
    <input type="submit" name="update" value="Aktualisieren" />
  </div>

        </div>
      </form>
      <dl id="overview">
        <dt class="property time">Zeitstempel:</dt>
        <dd class="time">
            11.07.2011 08:27:53 (vor <a class="timeline" href="/timeline?from=2011-07-11T08%3A27%3A53Z&amp;precision=second" title="Siehe Journal am 11.07.2011 08:27:53">7 Jahren</a>)
        </dd>
        <dt class="property author">Autor:</dt>
        <dd class="author">
          oliver
        </dd>
        <dt class="property message">Kommentar:</dt>
        <dd class="message">
          
          <p>
Update patch info
</p>

        </dd>
      </dl>
      <div class="diff">
        <div class="legend" id="diff-legend">
          <h3>Legende:</h3>
          <dl>
            <dt class="unmod"></dt><dd>Unverändert</dd>
            <dt class="add"></dt><dd>Hinzugefügt</dd>
            <dt class="rem"></dt><dd>Entfernt</dd>
            <dt class="mod"></dt><dd>Geändert</dd>
          </dl>
        </div>
        <div class="diff">
  <ul class="entries">
      <li class="entry">
        <h2 id="file0">
          <a href="/wiki/patch?version=8">patch</a>
        </h2>
        <table class="trac-diff inline" summary="Unterschiede" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Version 7">
                    <a href="/wiki/patch?version=7#L1">
                      v7</a>
                  </th>
                  <th title="Version 8">
                    <a href="/wiki/patch?version=8#L1">
                      v8</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="mod">
                      <tr class="first">
                        <th>1</th><th> </th><td class="l"><span>&nbsp;* Wie finde ich die zu patchende Stelle?</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>1</th><td class="r"><span>[[TOC(heading=Inhaltsverzeichnis)]]</span> </td>
                      </tr><tr>
                        <th> </th><th>2</th><td class="r"><span>== Aufbau eines Patches ==</span> </td>
                      </tr><tr>
                        <th> </th><th>3</th><td class="r"><span>Ein Patch ist eine Datei im Textformat, die für gewöhnlich die Endung .patch (manchmal auf .diff) hat und eine Liste von Unterschieden zwischen zwei Version einer Datei enthält. Patches enthalten nur Unterschiede in Textdateien. Unterschiede in Binärdateien können nicht gepatched werden.</span> </td>
                      </tr><tr>
                        <th> </th><th>4</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>5</th><td class="r"><span>Zu Beginn eines Patch kann ein Kommentar stehen, der beschreibt wo der Patch herkommt, wer daran mitgewirkt hat, welches Problem er löst usw. Der eigentliche Beginn der Unterschiede wird durch {{{---}}} gekennzeichnet. Für gewöhnlich enthält ein Patch 3 Zeilen Kontext vor und nach jeder geänderten Zeile. Diese dienen als Referenz, so dass der Patch auch noch angewendet werden kann falls an der zu patchenden Datei eine Änderung vorgenommen wurde und die Zeilennummern nicht mehr korrekt sind.</span> </td>
                      </tr><tr>
                        <th> </th><th>6</th><td class="r"><span>{{{</span> </td>
                      </tr><tr>
                        <th> </th><th>7</th><td class="r"><span>Dieser Patch ist ein Beispiel und fügt menuconfig einen neuen Eintrag hinzu.</span> </td>
                      </tr><tr>
                        <th> </th><th>8</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>9</th><td class="r"><span>Index: make/Config.in</span> </td>
                      </tr><tr>
                        <th> </th><th>10</th><td class="r"><span>===================================================================</span> </td>
                      </tr><tr>
                        <th> </th><th>11</th><td class="r"><span>--- make/Config.in&nbsp; &nbsp;(Revision 7307)</span> </td>
                      </tr><tr>
                        <th> </th><th>12</th><td class="r"><span>+++ make/Config.in&nbsp; &nbsp;(Arbeitskopie)</span> </td>
                      </tr><tr>
                        <th> </th><th>13</th><td class="r"><span>@@ -51,6 +51,7 @@</span> </td>
                      </tr><tr>
                        <th> </th><th>14</th><td class="r"><span>&nbsp;source make/netcat/Config.in</span> </td>
                      </tr><tr>
                        <th> </th><th>15</th><td class="r"><span>&nbsp;source make/nc6/Config.in</span> </td>
                      </tr><tr>
                        <th> </th><th>16</th><td class="r"><span>&nbsp;source make/netsnmp/Config.in</span> </td>
                      </tr><tr>
                        <th> </th><th>17</th><td class="r"><span>+source make/newpackage/Config.in</span> </td>
                      </tr><tr>
                        <th> </th><th>18</th><td class="r"><span>&nbsp;source make/nfs-utils/Config.in</span> </td>
                      </tr><tr>
                        <th> </th><th>19</th><td class="r"><span>&nbsp;source make/ntfs/Config.in</span> </td>
                      </tr><tr>
                        <th> </th><th>20</th><td class="r"><span>&nbsp;source make/openntpd/Config.in</span> </td>
                      </tr><tr>
                        <th> </th><th>21</th><td class="r"><span>}}}</span> </td>
                      </tr><tr>
                        <th> </th><th>22</th><td class="r"><span>In den meisten Fällen lauten die 2 Dateinamen (hier make/Config.in) gleich, manchmal Unterscheiden sie sich in der Endung (.orig), je nachdem wie der Patch erstellt wurde. Im Beispiel ist also eine Änderung an der Datei make/Config.in beschrieben. Konkret wurde hier ein neues Paket ''newpackage'' geschrieben und soll jetzt dem menuconfig hinzugefügt werden. Die fünfte Zeile des Patches enthält Informationen darüber wo sich der zu patchende Abschnitt (hunk) in der Datei befindet und wie viele Textzeilen der Patch verändert. Im Beispiel beginnt der Patch ab Zeile 51 und fügt eine Zeile (7-6=1), gekennzeichnet durch ein {{{+}}}, hinzu. Man könnte also das gleiche Ergebnis erreichen, wenn man die Datei make/Config.in in einem Texteditor öffnet und die Zeile {{{source make/newpackage/Config.in}}} an der beschriebenen Stelle hinzufügt.</span> </td>
                      </tr><tr>
                        <th> </th><th>23</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>24</th><td class="r"><span>== Erzeugen eines Patches ==</span> </td>
                      </tr><tr>
                        <th> </th><th>25</th><td class="r"><span>Man hat eine Datei (Config.in) geändert und difft sie gegen SVN:</span> </td>
                      </tr><tr>
                        <th> </th><th>26</th><td class="r"><span>{{{</span> </td>
                      </tr><tr>
                        <th> </th><th>27</th><td class="r"><span>&nbsp;svn diff Config.in &gt; Config.patch</span> </td>
                      </tr><tr>
                        <th> </th><th>28</th><td class="r"><span>}}}</span> </td>
                      </tr><tr>
                        <th> </th><th>29</th><td class="r"><span>Alle Änderungen im Verzeichnis + Unterverzeichnisse:</span> </td>
                      </tr><tr>
                        <th> </th><th>30</th><td class="r"><span>{{{</span> </td>
                      </tr><tr>
                        <th> </th><th>31</th><td class="r"><span>svn diff &gt; all.patch</span> </td>
                      </tr><tr>
                        <th> </th><th>32</th><td class="r"><span>}}}</span> </td>
                      </tr><tr>
                        <th> </th><th>33</th><td class="r"><span>Falls man neue Dateien angelegt hat müssen diese erst dem SVN hinzugefügt werden:</span> </td>
                      </tr><tr>
                        <th> </th><th>34</th><td class="r"><span>{{{</span> </td>
                      </tr><tr>
                        <th> </th><th>35</th><td class="r"><span>svn add Datei- oder Verzeichnisname</span> </td>
                      </tr><tr>
                        <th> </th><th>36</th><td class="r"><span>}}}</span> </td>
                      </tr><tr>
                        <th> </th><th>37</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>38</th><td class="r"><span>== Patch anwenden oder rückgängig machen ==</span> </td>
                      </tr><tr>
                        <th> </th><th>39</th><td class="r"><span>Patch anwenden:</span> </td>
                      </tr><tr>
                        <th> </th><th>40</th><td class="r"><span>{{{</span> </td>
                      </tr><tr>
                        <th> </th><th>41</th><td class="r"><span>$ patch -p0 &lt; Config.patch</span> </td>
                      </tr><tr>
                        <th> </th><th>42</th><td class="r"><span>patching file Config.in</span> </td>
                      </tr><tr>
                        <th> </th><th>43</th><td class="r"><span>$</span> </td>
                      </tr><tr>
                        <th> </th><th>44</th><td class="r"><span>}}}</span> </td>
                      </tr><tr>
                        <th> </th><th>45</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>46</th><td class="r"><span>Patch rückgängig machen:</span> </td>
                      </tr><tr>
                        <th> </th><th>47</th><td class="r"><span>{{{</span> </td>
                      </tr><tr>
                        <th> </th><th>48</th><td class="r"><span>$ patch -Rp0 &lt; Config.patch</span> </td>
                      </tr><tr>
                        <th> </th><th>49</th><td class="r"><span>patching file Config.in</span> </td>
                      </tr><tr>
                        <th> </th><th>50</th><td class="r"><span>$</span> </td>
                      </tr><tr>
                        <th> </th><th>51</th><td class="r"><span>}}}</span> </td>
                      </tr><tr>
                        <th> </th><th>52</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>53</th><td class="r"><span>Falls ihr so etwas seht:</span> </td>
                      </tr><tr>
                        <th> </th><th>54</th><td class="r"><span>{{{</span> </td>
                      </tr><tr>
                        <th> </th><th>55</th><td class="r"><span>$ patch -p0 &lt; Config.patch</span> </td>
                      </tr><tr>
                        <th> </th><th>56</th><td class="r"><span>patching file Config.in</span> </td>
                      </tr><tr>
                        <th> </th><th>57</th><td class="r"><span>Hunk #1 FAILED at 1.</span> </td>
                      </tr><tr>
                        <th> </th><th>58</th><td class="r"><span>1 out of 1 hunk FAILED -- saving rejects to file Config.in.rej</span> </td>
                      </tr><tr>
                        <th> </th><th>59</th><td class="r"><span>}}}</span> </td>
                      </tr><tr>
                        <th> </th><th>60</th><td class="r"><span>Dann passt der Patch nicht mehr und muss erneuert werden.</span> </td>
                      </tr><tr>
                        <th> </th><th>61</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>62</th><td class="r"><span>* TODO (evtl. aus dem [http://wiki.ip-phone-forum.de/software:ds-mod:howtos#patches_in_den_ds-mod_einspielen ippf-Wiki] kopieren)</span> </td>
                      </tr><tr>
                        <th> </th><th>63</th><td class="r"><span></span> </td>
                      </tr><tr class="last">
                        <th> </th><th>64</th><td class="r"><span>== Wie finde ich die zu patchende Stelle? ==</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>2</th><th>65</th><td class="l"><span>Auf diese Frage muss man primär antworten: Es kommt darauf an, worum es geht. Weil das aber hier im Wiki natürlich nicht so befriedigend ist, folgen ein paar Tipps von RalfFriedl am konkreten Beispiel von crond bzw. dem Frotend dazu, nämlich dem crontab-Fenster im Freetz WebGUI.</span> </td>
                  </tr><tr>
                          <th>3</th><th>66</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>4</th><th> </th><td class="l"><span>Da cron nicht ein extra Paket ist, sondern zum Freetz Basis-System gehört, liegen die Dateien für cron unter dem Verzeichnis "<del>root</del>". Wenn es ein eigenes Paket wäre, z.B. inetd, wären die Dateien unter "make/inetd/files/root".</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>67</th><td class="r"><span>Da cron nicht ein extra Paket ist, sondern zum Freetz Basis-System gehört, liegen die Dateien für cron unter dem Verzeichnis "<ins>make/mod/root/files</ins>". Wenn es ein eigenes Paket wäre, z.B. inetd, wären die Dateien unter "make/inetd/files/root".</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>5</th><th>68</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>6</th><th>69</th><td class="l"><span>Im folgenden geht es darum, wie man die Web-Oberfläche von crontab ändert und dann patcht. Am einfachsten findet man die Datei, wenn man nach einem Text sucht, der sonst hoffentlich selten vorkommt, "crontab" scheint hier ein guter Wert zu sein.</span> </td>
                  </tr><tr>
                          <th>7</th><th>70</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>8</th><th>71</th><td class="l"><span>{{{</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>9</th><th> </th><td class="l"><span>$ grep -r Crontab root make 2&gt; /dev/null | fgrep -v /.svn/</span> </td>
                      </tr><tr>
                        <th>10</th><th> </th><td class="l"><span>root/etc/default.mod/crontab.def:CAPTION='Crontab'</span> </td>
                      </tr><tr>
                        <th>11</th><th> </th><td class="l"><span>root/etc/init.d/rc.crond:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;modreg file 'crontab' 'Crontab' 0 "$deffile"</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>72</th><td class="r"><span>$ grep -r crontab make 2&gt; /dev/null | fgrep -v /.svn/</span> </td>
                      </tr><tr>
                        <th> </th><th>73</th><td class="r"><span>make/mod/files/root/etc/init.d/rc.crond:&nbsp; &nbsp; &nbsp; &nbsp; cat /tmp/flash/mod/crontab /etc/cron.d/* /tmp/cron.d/* 2&gt; /dev/null |</span> </td>
                      </tr><tr>
                        <th> </th><th>74</th><td class="r"><span>make/mod/files/root/etc/init.d/rc.crond:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; crontab -u root -</span> </td>
                      </tr><tr>
                        <th> </th><th>75</th><td class="r"><span>make/mod/files/root/etc/init.d/rc.crond:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [ -r /tmp/flash/crontab.save ] &amp;&amp; mv /tmp/flash/crontab.save /tmp/flash/mod/crontab</span> </td>
                      </tr><tr>
                        <th> </th><th>76</th><td class="r"><span>make/mod/files/root/etc/init.d/rc.crond:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; modreg file mod crontab 'crontab' 0 "crontab"</span> </td>
                      </tr><tr>
                        <th> </th><th>77</th><td class="r"><span>make/mod/files/root/etc/init.d/rc.crond:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; modunreg file mod crontab</span> </td>
                      </tr><tr>
                        <th> </th><th>78</th><td class="r"><span>make/mod/files/root/etc/default.mod/crontab.def:CAPTION='Freetz: crontab'</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>79</th><td class="r"><span>make/mod/files/root/etc/default.mod/crontab.def:CONFIG_FILE='/tmp/flash/mod/crontab'</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>12</th><th>80</th><td class="l"><span>}}}</span> </td>
                  </tr><tr>
                          <th>13</th><th>81</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>14</th><th> </th><td class="l"><span>Das suchen in "<del>root" und "make" ist nur für den Fall, dass man nicht sicher ist, in welchem Verzeichnis sich die Dateien befinden. Wenn man weiss, daß cron zum Hauptsystem gehört, kann man das Verzeichnis "make" auch weglass</del>en, dann geht es schneller. Die Umleitung "2&gt; /dev/null" unterdrückt Fehlermeldungen wegen nicht gefundener Dateien/Links.</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>82</th><td class="r"><span>Das suchen in "<ins>make" ist nur für den Fall, dass man nicht sicher ist, in welchem Verzeichnis sich die Dateien befinden. Wenn man weiss, daß cron zum Hauptsystem gehört, kann man direkt in "make/mod/files" such</ins>en, dann geht es schneller. Die Umleitung "2&gt; /dev/null" unterdrückt Fehlermeldungen wegen nicht gefundener Dateien/Links.</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>15</th><th>83</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>16</th><th>84</th><td class="l"><span>Die Ergebnisse in Dateien mit "/.svn/" im Pfad sind hier nicht von Bedeutung.</span> </td>
                  </tr><tr>
                          <th>17</th><th>85</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>18</th><th> </th><td class="l"><span>D<del>ie zweite Zeile mit "modreg" ist auch uninteressant. Der Text "crontab" kommt also aus der Datei root/etc/default.mod/crontab.def</del>. Das sagt uns leider noch nicht, was man machen muss, um eine Hilfe auf die Seite zu bringen. Also suchen wir einmal nach "Hosts", weil auf der Hosts-Seite schon eine Hilfe da ist.</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>86</th><td class="r"><span>D<ins>er Text "crontab" kommt also in den Dateien rc.crond und crontab.def vor</ins>. Das sagt uns leider noch nicht, was man machen muss, um eine Hilfe auf die Seite zu bringen. Also suchen wir einmal nach "Hosts", weil auf der Hosts-Seite schon eine Hilfe da ist.</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>19</th><th>87</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>20</th><th>88</th><td class="l"><span>{{{</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>21</th><th> </th><td class="l"><span>$ grep -r Hosts root make 2&gt; /dev/null | fgrep -v /.svn/</span> </td>
                      </tr><tr>
                        <th>22</th><th> </th><td class="l"><span>root/etc/default.mod/exhosts.def:CAPTION='Hosts'</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>89</th><td class="r"><span>$ grep -r Hosts make 2&gt; /dev/null | fgrep -v /.svn/</span> </td>
                      </tr><tr>
                        <th> </th><th>90</th><td class="r"><span>...</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>91</th><td class="r"><span>make/mod/files/root/etc/default.mod/hosts.def:CAPTION='Freetz: hosts'</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>23</th><th>92</th><td class="l"><span>root/etc/init.d/rc.mod:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;modreg file 'exhosts' 'Hosts' 1 "$deffile"</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>24</th><th> </th><td class="l"><span>... und noch viele <del>Treffer unter make/</del></span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>93</th><td class="r"><span>... und noch viele <ins>andere Treffer</ins></span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>25</th><th>94</th><td class="l"><span>}}}</span> </td>
                  </tr><tr>
                          <th>26</th><th>95</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>27</th><th> </th><td class="l"><span>Die Definitionsdatei, aus der der Text "<del>Hosts" kommt, ist also root/etc/default.mod/ex</del>hosts.def. Schauen wir uns also mal die Datei an:</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>96</th><td class="r"><span>Die Definitionsdatei, aus der der Text "<ins>hosts" kommt, ist also make/mod/files/root/etc/default.mod/</ins>hosts.def. Schauen wir uns also mal die Datei an:</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>28</th><th>97</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>29</th><th>98</th><td class="l"><span>{{{</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>30</th><th> </th><td class="l"><span>$ cat <del>root/etc/default.mod/ex</del>hosts.def</span> </td>
                      </tr><tr>
                        <th>31</th><th> </th><td class="l"><span>CAPTION='<del>H</del>osts'</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>99</th><td class="r"><span>$ cat <ins>make/mod/files/root/etc/default.mod/</ins>hosts.def</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>100</th><td class="r"><span>CAPTION='<ins>Freetz: h</ins>osts'</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>32</th><th>101</th><td class="l"><span>DESCRIPTION='Syntax: &amp;lt;ip&amp;gt; &amp;lt;mac&amp;gt; &amp;lt;interface&amp;gt; &amp;lt;host&amp;gt; [&amp;lt;aliases|#description&amp;gt;]&lt;br&gt;</span> </td>
                  </tr><tr>
                          <th>33</th><th>102</th><td class="l"><span>($(lang de:"z.B.: 10.0.0.1 * * www.local mfh1 # Mein Server" en:"e.g. 10.0.0.1 * * www.local mfh1 # my server")) *=&amp;quot;$(lang de:"nicht definiert" en:"not defined")&amp;quot;'</span> </td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="last first">
                          <th> </th><th>103</th><td class="r"><ins>... der Rest ist hier nicht von Bedeutung</ins> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>34</th><th>104</th><td class="l"><span>}}}</span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="last first">
                          <th>35</th><th> </th><td class="l"><del>... hier nicht von Bedeutung.</del> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>36</th><th>105</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>37</th><th> </th><td class="l"><span>Wir sehen also, dass die Beschreibung aus dem Eintrag DESCRIPTION kommt, der in der Datei <del></del>root/etc/default.mod/crontab.def nicht vorhanden ist.</span> </td>
                      </tr><tr>
                        <th>38</th><th> </th><td class="l"><span>Man muss also in der Datei <del></del>root/etc/default.mod/crontab.def einen Eintrag DESCRIPTION anlegen.</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>106</th><td class="r"><span>Wir sehen also, dass die Beschreibung aus dem Eintrag DESCRIPTION kommt, der in der Datei <ins>make/mod/files/</ins>root/etc/default.mod/crontab.def nicht vorhanden ist.</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>107</th><td class="r"><span>Man muss also in der Datei <ins>make/mod/files/</ins>root/etc/default.mod/crontab.def einen Eintrag DESCRIPTION anlegen.</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>39</th><th>108</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>40</th><th> </th><td class="l"><span>Wenn man will, dass mehrere Sprachen mit $(lang ...) unterstützt werden, dann muss man auch sicherstellen, dass die Datei in der passenden Liste hinterlegt ist. Dies ist die datei ".language"<del>, entweder im Hauptverzeichnis oder im Verzeichnis make/&lt;Paket&gt;/files. Da hier die Datei unter dem Verzeichnis "root" liegt, muss sie in die Datei ".language" im Hauptverzeichnis eingetragen werden</del>.</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>109</th><td class="r"><span>Wenn man will, dass mehrere Sprachen mit $(lang ...) unterstützt werden, dann muss man auch sicherstellen, dass die Datei in der passenden Liste hinterlegt ist. Dies ist die datei ".language"<ins>&nbsp;im Verzeichnis make/&lt;Paket&gt;/files</ins>.</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>41</th><th>110</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>42</th><th>111</th><td class="l"><span>Die Datei sieht so aus:</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/wiki/patch?version=7#L50">…</a></th>
                  <th><a href="/wiki/patch?version=8#L119">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>50</th><th>119</th><td class="l"><span>files</span> </td>
                  </tr><tr>
                          <th>51</th><th>120</th><td class="l"><span>{</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>52</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; etc/default.mod/<del>exhosts</del>.def</span> </td>
                      </tr><tr>
                        <th>53</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; etc/<del>default.mod/rc_custom.def</del></span> </td>
                      </tr><tr>
                        <th>54</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; <del>etc/default.mod/modules.def</del></span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>121</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; etc/default.mod/<ins>*</ins>.def</span> </td>
                      </tr><tr>
                        <th> </th><th>122</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; etc/<ins>init.d/rc.mod</ins></span> </td>
                      </tr><tr class="last">
                        <th> </th><th>123</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; <ins>usr/bin/modreg</ins></span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>55</th><th>124</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; ...</span> </td>
                  </tr><tr>
                          <th>56</th><th>125</th><td class="l"><span>}</span> </td>
                  </tr><tr>
                          <th>57</th><th>126</th><td class="l"><span>}}}</span> </td>
                  </tr><tr>
                          <th>58</th><th>127</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>59</th><th> </th><td class="l"><span>Wir sehen hier<del>&nbsp;die Datei etc/default.mod/exhosts.def. Also machen wir davor noch einen Eintrag etc/default.mod/crontab.def. Die Reihenfolge der hier genannten Dateien hat keine Bedeutung, aber vor "exhosts" passt es gut, weil auch in der Konfiguration "crontab" vor "hosts" steht.</del></span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>128</th><td class="r"><span>Wir sehen hier<ins>, dass alle Dateien etc/default.mod/*.def schon inkludiert werden und kein weiterer Eintrag notwendig ist. </ins></span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>60</th><th>129</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>61</th><th> </th><td class="l"><span><del>Nach dieser Änderung macht man den Patch so wie weiter unten beschrieben. Die geänderten Dateien sind in diesem Fall root/etc/default.mod/crontab.def und .language</del>.</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>130</th><td class="r"><span><ins>Die geänderte Datei ist in diesem Fall nur make/mod/files/root/etc/default.mod/crontab.def und es geht weiter wie unten beschrieben</ins>.</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>62</th><th>131</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>63</th><th>132</th><td class="l"><span>Hintergrundinfos finden sich in diesem [http://www.ip-phone-forum.de/showthread.php?p=1274104#post1274104 IPPF-Thread].</span> </td>
                  </tr><tr>
                          <th>64</th><th>133</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>65</th><th> </th><td class="l"><span>&nbsp;* Aufbau eines Patches:</span> </td>
                      </tr><tr>
                        <th>66</th><th> </th><td class="l"><span>&nbsp; * TODO</span> </td>
                      </tr><tr>
                        <th>67</th><th> </th><td class="l"><span>&nbsp;* Erzeugen eines Patches:</span> </td>
                      </tr><tr>
                        <th>68</th><th> </th><td class="l"><span>&nbsp; * Work in Progress (Ich mache hier mal den Anfang...)</span> </td>
                      </tr><tr>
                        <th>69</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>70</th><th> </th><td class="l"><span>&nbsp; Man hat eine Datei (Config.in) geändert und difft sie gegen&nbsp; SVN:</span> </td>
                      </tr><tr>
                        <th>71</th><th> </th><td class="l"><span>{{{</span> </td>
                      </tr><tr>
                        <th>72</th><th> </th><td class="l"><span>&nbsp;svn diff Config.in &gt; Config.patch</span> </td>
                      </tr><tr>
                        <th>73</th><th> </th><td class="l"><span>}}}</span> </td>
                      </tr><tr>
                        <th>74</th><th> </th><td class="l"><span>&nbsp; Alle Änderungen im Verzeichnis + Unterverzeichnisse:</span> </td>
                      </tr><tr>
                        <th>75</th><th> </th><td class="l"><span>{{{</span> </td>
                      </tr><tr>
                        <th>76</th><th> </th><td class="l"><span>svn diff &gt; all.patch</span> </td>
                      </tr><tr>
                        <th>77</th><th> </th><td class="l"><span>}}}</span> </td>
                      </tr><tr>
                        <th>78</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>79</th><th> </th><td class="l"><span>&nbsp;* Anwenden eines Patches:</span> </td>
                      </tr><tr>
                        <th>80</th><th> </th><td class="l"><span>&nbsp; * TODO (evtl. aus dem [http://wiki.ip-phone-forum.de/software:ds-mod:howtos#patches_in_den_ds-mod_einspielen ippf-Wiki] kopieren)</span> </td>
                      </tr><tr>
                        <th>81</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>82</th><th> </th><td class="l"><span>&nbsp; &nbsp;Patch anwenden</span> </td>
                      </tr><tr>
                        <th>83</th><th> </th><td class="l"><span>{{{</span> </td>
                      </tr><tr>
                        <th>84</th><th> </th><td class="l"><span>patch -p0 &lt; Config.patch</span> </td>
                      </tr><tr>
                        <th>85</th><th> </th><td class="l"><span>}}}</span> </td>
                      </tr><tr>
                        <th>86</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>87</th><th> </th><td class="l"><span>&nbsp; &nbsp;Patch rückgängig machen</span> </td>
                      </tr><tr>
                        <th>88</th><th> </th><td class="l"><span>{{{</span> </td>
                      </tr><tr>
                        <th>89</th><th> </th><td class="l"><span>patch -Rp0 &lt; Config.patch</span> </td>
                      </tr><tr>
                        <th>90</th><th> </th><td class="l"><span>}}}</span> </td>
                      </tr><tr>
                        <th>91</th><th> </th><td class="l"><span></span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>134</th><td class="r"><span>== Links ==</span> </td>
                      </tr><tr>
                        <th> </th><th>135</th><td class="r"><span>[http://en.wikipedia.org/wiki/Diff Wikipedia Artikel zu diff (Englisch)]</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>136</th><td class="r"><span>[http://en.wikipedia.org/wiki/Patch_(Unix) Wikipedia Artikel zu patch (Englisch)]</span> </td>
                      </tr>
            </tbody>
        </table>
      </li>
  </ul>
</div>
      </div>
  </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Betrieben mit <a href="/about"><strong>Trac 1.0.1</strong></a><br />
        von <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right"><div class="field" align="right"><form action="https://www.paypal.com/cgi-bin/webscr" method="post"><input type="hidden" name="cmd" value="_donations"/><input type="hidden" name="business" value="spenden@freetz.org"/><input type="hidden" name="item_name" value="Freetz Entwickler-Team"/><input type="hidden" name="no_shipping" value="1"/><input type="hidden" name="return" value="http://freetz.org"/><input type="hidden" name="cn" value="Name oder IPPF-Pseudonym"/><input type="hidden" name="currency_code" value="EUR"/><input type="hidden" name="tax" value="0"/><input type="hidden" name="lc" value="DE"/><input type="hidden" name="bn" value="PP-DonationsBF"/><input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" alt="Zahlen Sie mit PayPal - schnell, kostenlos und sicher!"/><img alt="" border="0" src="/pixel.gif" width="1" height="1"/></form></div></p>
    </div>
  </body>
</html>
