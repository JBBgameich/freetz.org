<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      TracWikiMacros – Freetz
    </title>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="/search" />
        <link rel="help" href="TracGuide.html" />
        <link rel="alternate" href="/wiki/TracWikiMacros?format=txt" type="text/x-trac-wiki" title="Reiner Text" />
        <link rel="start" href="/wiki" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/wiki.css" type="text/css" /><link rel="stylesheet" href="../chrome/wikiextras/css/phrases.css" type="text/css" /><link rel="stylesheet" href="../chrome/wikiextras/css/boxes.css" type="text/css" /><link rel="stylesheet" href="../chrome/wikiextras/css/boxes-300.css" type="text/css" /><link rel="stylesheet" href="../chrome/wikiextras/css/boxes-narrow-toc.css" type="text/css" /><link rel="stylesheet" href="../wikicss.css" type="text/css" /><link rel="stylesheet" href="../chrome/tags/css/tractags.css" type="text/css" /><link rel="stylesheet" href="../chrome/wikinegotiator/css/langmenu-ctxnav.css" type="text/css" />
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="/favicon.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="/search/opensearch" title="Freetz durchsuchen" />
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/jquery.js"></script>
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/babel.js"></script>
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/messages/de.js"></script>
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/trac.js"></script>
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/search.js"></script>
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/folding.js"></script>
    <meta name="ROBOTS" content="NOINDEX, NOFOLLOW" />
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("#content").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $("#content").find(".wikianchor").each(function() {
          $(this).addAnchor(babel.format(_("Link to #%(id)s"), {id: $(this).attr('id')}));
        });
        $(".foldable").enableFolding(true, true);
      });
    </script>
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="/wiki"><img src="../chrome/common/freetz_motd.png" alt="Freetz" /></a>
      </div>
      <form id="search" action="/search" method="get">
        <div>
          <label for="proj-search">Suche:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Suche" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="/login">Anmelden</a></li><li><a href="/prefs">Einstellungen</a></li><li><a href="TracGuide.html">Hilfe/Anleitung</a></li><li><a href="/about">Über Trac</a></li><li><a href="/notification" title="Wiki Pages Change Notifications">My Notifications</a></li><li><a href="/register">Registrieren</a></li><li class="last"><a href="Impressum.html">Impressum</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first active"><a href="/wiki">Wiki</a></li><li><a href="/timeline">Journal</a></li><li><a href="/roadmap">Projektplan</a></li><li><a href="/browser">Quellen durchsehen</a></li><li><a href="/report">Tickets anzeigen</a></li><li><a href="/search">Suche</a></li><li><a href="/tags">Tags</a></li><li><a href="/downloads">Downloads</a></li><li class="last"><a href="/screenshots">Bildschirmfotos</a></li>
    </ul>
  </div>
    <div id="langmenu"><ul><li class="first"><span title="Select a language of wiki content">Language:</span></li><li class=" active"><a class="" href="/wiki/TracWikiMacros." title="displaying language (default)">German</a></li><li class=" last"><a class=" notexist" href="/wiki/TracWikiMacros.en" title="(not available)">English</a></li></ul></div><div id="main">
      <div id="pagepath" class="noprint">
  <a class="pathentry first" title="Zeige WikiStart an" href="/wiki">Wiki:</a><a class="pathentry" href="TracWikiMacros.html" title="Zeige TracWikiMacros an">TracWikiMacros</a>
</div>
      <div id="ctxtnav" class="nav">
        <h2>Kontext-Navigation</h2>
        <ul>
          <li class="first"><a href="WikiStart.html">Startseite</a></li><li><a href="TitleIndex.html">Inhaltsverzeichnis</a></li><li><a href="/wiki/TracWikiMacros?action=history">Änderungshistorie</a></li><li class="last"><a href="/notification/TracWikiMacros" title="Watch Page">Watch Page</a></li>
        </ul>
        <hr />
      </div>
    <div id="content" class="wiki">
      <div class="wikipage searchable">
        
          <div id="wikipage" class="trac-content"><h1 id="TracMacros">Trac Macros</h1>
<p>
</p><div class="wiki-toc">
<ol>
  <li>
    <a href="TracWikiMacros.html#TracMacros">Trac Macros</a>
    <ol>
      <li>
        <a href="TracWikiMacros.html#UsingMacros">Using Macros</a>
        <ol>
          <li>
            <a href="TracWikiMacros.html#Example">Example</a>
          </li>
        </ol>
      </li>
      <li>
        <a href="TracWikiMacros.html#AvailableMacros">Available Macros</a>
      </li>
      <li>
        <a href="TracWikiMacros.html#Macrosfromaroundtheworld">Macros from around the world</a>
      </li>
      <li>
        <a href="TracWikiMacros.html#DevelopingCustomMacros">Developing Custom Macros</a>
      </li>
      <li>
        <a href="TracWikiMacros.html#Implementation">Implementation</a>
        <ol>
          <li>
            <a href="TracWikiMacros.html#Macrowithoutarguments">Macro without arguments</a>
          </li>
          <li>
            <a href="TracWikiMacros.html#Macrowitharguments">Macro with arguments</a>
          </li>
          <li>
            <a href="TracWikiMacros.html#expand_macrodetails"><tt>expand_macro</tt> details</a>
          </li>
        </ol>
      </li>
    </ol>
  </li>
</ol>
</div><p>
</p>
<p>
Trac macros are plugins to extend the Trac engine with custom 'functions' written in Python. A macro inserts dynamic HTML data in any context supporting <a class="wiki" href="WikiFormatting.html">WikiFormatting</a>.
</p>
<p>
Another kind of macros are <a class="wiki" href="WikiProcessors.html">WikiProcessors</a>. They typically deal with alternate markup formats and representation of larger blocks of information (like source code highlighting).
</p>
<h2 id="UsingMacros">Using Macros</h2>
<p>
Macro calls are enclosed in two <em>square brackets</em>. Like Python functions, macros can also have arguments, a comma separated list within parentheses. 
</p>
<p>
Trac macros can also be written as <a class="wiki" href="/wiki/TracPlugins">TracPlugins</a>. This gives them some capabilities that macros do not have, such as being able to directly access the HTTP request.
</p>
<h3 id="Example">Example</h3>
<p>
A list of 3 most recently changed wiki pages starting with 'Trac':
</p>
<pre class="wiki"> [[RecentChanges(Trac,3)]]
</pre><p>
Display:
</p>
<blockquote>
<p>
</p><div><h3>03.11.2012</h3><ul><li><a href="/wiki/TracIni">TracIni</a><small> (<a href="/wiki/TracIni?action=diff&amp;version=6">diff</a>)</small>
</li><li><a href="/wiki/TracSyntaxColoring">TracSyntaxColoring</a><small> (<a href="/wiki/TracSyntaxColoring?action=diff&amp;version=6">diff</a>)</small>
</li><li><a href="/wiki/TracAdmin">TracAdmin</a><small> (<a href="/wiki/TracAdmin?action=diff&amp;version=6">diff</a>)</small>
</li></ul></div><p>
</p>
</blockquote>
<h2 id="AvailableMacros">Available Macros</h2>
<p>
<em>Note that the following list will only contain the macro documentation if you've not enabled <tt>-OO</tt> optimizations, or not set the <tt>PythonOptimize</tt> option for <a class="wiki" href="/wiki/TracModPython">mod_python</a>.</em>
</p>
<p>
</p><div class="trac-macrolist"><h3 id="AboutWikiBoxes-macro"><code>[[AboutWikiBoxes]]</code></h3><p>
Display a wiki page on how to use boxes.
</p>
<h3 id="AboutWikiIcons-macro"><code>[[AboutWikiIcons]]</code></h3><p>
Display a wiki page on how to use icons.
</p>
<h3 id="AboutWikiPhrases-macro"><code>[[AboutWikiPhrases]]</code></h3><p>
Display a wiki page on how to use attentional phrases.
</p>
<h3 id="Color-macro"><code>[[Color]]</code></h3><p>
Decorate text with colors.
</p>
<p>
Syntax:
</p>
<pre class="wiki">[[Color(text, fg/bg/size)]]
</pre><p>
where
</p>
<ul><li><tt>text</tt> is the text to decorate. Enter a leading and/or
trailing space character to surround the text with a
decorated space.
</li><li><tt>fg/bg/size</tt> defines the foreground and background colors,
and a font size. All parameters are optional and separated
by slash character (<tt>/</tt>).
</li></ul><p>
Colors may be specified as an RGB triplet in hexadecimal format
(a hex triplet; e.g. <tt>#000</tt> or <tt>#000000</tt> for black); they may
also be specified according to their common English names (e.g.
red, green, blue etc.). See
<a class="ext-link" href="http://en.wikipedia.org/wiki/Web_colors"><span class="icon">​</span>here</a> for details.
</p>
<p>
Examples:
</p>
<pre class="wiki">[[Color(Large red on yellow, red/yellow/150%)]]
[[Color(Red on yellow, red/yellow)]]
[[Color(Yellow background, /yellow)]]
[[Color(Large red, #f00/2em)]]
[[Color(Large on yellow, /yellow/20px)]]
[[Color(Text, can, have, commas, /yellow)]]
[[Color( Surrounding space is also decorated , white/red)]]
</pre><p>
To set the foreground color for a larger block, the processor
variant can be used <em>(background color and font size may not
display as expected due to the mechanisms of cascading style
sheets, be advised and use the </em>color<em> parameter only)</em>:
 
</p>
<pre class="wiki">{{{#!Color color=green
...
}}}
</pre><h3 id="CommitTicketReference-macro"><code>[[CommitTicketReference]]</code></h3><p>
Insert a changeset message into the output.
</p>
<p>
This macro must be called using wiki processor syntax as follows:
</p>
<pre class="wiki">{{{
#!CommitTicketReference repository="reponame" revision="rev"
}}}
</pre><p>
where the arguments are the following:
</p>
<ul><li><tt>repository</tt>: the repository containing the changeset
</li><li><tt>revision</tt>: the revision of the desired changeset
</li></ul><h3 id="DownloadsCount-macro"><code>[[DownloadsCount]]</code></h3><p>
Display count of downloads.
</p>
<h3 id="Icon-macro"><code>[[Icon]]</code></h3><p>
Shows a named icon that can be in line with text.
</p>
<p>
Syntax:
</p>
<pre class="wiki">[[Icon(name, size)]]
</pre><p>
where
</p>
<ul><li><tt>name</tt> is the name of the icon.  When <tt>name</tt> contains a
pattern character (<tt>*</tt> or <tt>?</tt>), a 2-column preview of
matching icons is presented, which should mainly be used for
finding and selecting an icon during wiki page editing in
side-by-side mode (however, no more than 32 icons are
presented to prevent exhaustive network traffic.)
</li><li><tt>size</tt> is optionally one of <tt>small</tt>, <tt>medium</tt> or <tt>large</tt> or
an abbreviation thereof (defaults <tt>small</tt>).
</li></ul><p>
Example:
</p>
<pre class="wiki">[[Icon(smiley)]]
</pre><p>
Use <tt>ShowIcons</tt> for static presentation of available icons.
Smileys like <tt>:-)</tt> are automatically rendered as icons. Use
<tt>ShowSmileys</tt> to se all available smileys.
</p>
<p>
Following wiki markup is equivalent to using this macro:
</p>
<pre class="wiki">(|name, size|)
</pre><h3 id="Image-macro"><code>[[Image]]</code></h3><p>
Embed an image in wiki-formatted text.
</p>
<p>
The first argument is the file specification. The file specification may
reference attachments in three ways:
</p>
<ul><li><tt>module:id:file</tt>, where module can be either <strong>wiki</strong> or <strong>ticket</strong>,
to refer to the attachment named <em>file</em> of the specified wiki page or
ticket.
</li><li><tt>id:file</tt>: same as above, but id is either a ticket shorthand or a Wiki
page name.
</li><li><tt>file</tt> to refer to a local attachment named 'file'. This only works from
within that wiki page or a ticket.
</li></ul><p>
Also, the file specification may refer to repository files, using the
<tt>source:file</tt> syntax (<tt>source:file@rev</tt> works also).
</p>
<p>
Files can also be accessed with a direct URLs; <tt>/file</tt> for a
project-relative, <tt>//file</tt> for a server-relative, or <tt>http://server/file</tt>
for absolute location of the file.
</p>
<p>
The remaining arguments are optional and allow configuring the attributes
and style of the rendered <tt>&lt;img&gt;</tt> element:
</p>
<ul><li>digits and unit are interpreted as the size (ex. 120, 25%)
for the image
</li><li><tt>right</tt>, <tt>left</tt>, <tt>center</tt>, <tt>top</tt>, <tt>bottom</tt> and <tt>middle</tt> are interpreted
as the alignment for the image (alternatively, the first three can be
specified using <tt>align=...</tt> and the last three using <tt>valign=...</tt>)
</li><li><tt>link=some TracLinks...</tt> replaces the link to the image source by the
one specified using a <a class="wiki" href="/wiki/TracLinks">TracLinks</a>. If no value is specified, the link is
simply removed.
</li><li><tt>nolink</tt> means without link to image source (deprecated, use <tt>link=</tt>)
</li><li><tt>key=value</tt> style are interpreted as HTML attributes or CSS style
indications for the image. Valid keys are:
<ul><li>align, valign, border, width, height, alt, title, longdesc, class,
margin, margin-(left,right,top,bottom), id and usemap
</li><li><tt>border</tt>, <tt>margin</tt>, and <tt>margin-</tt>* can only be a single number
</li><li><tt>margin</tt> is superseded by <tt>center</tt> which uses auto margins
</li></ul></li></ul><p>
Examples:
</p>
<pre class="wiki">    [[Image(photo.jpg)]]                           # simplest
    [[Image(photo.jpg, 120px)]]                    # with image width size
    [[Image(photo.jpg, right)]]                    # aligned by keyword
    [[Image(photo.jpg, nolink)]]                   # without link to source
    [[Image(photo.jpg, align=right)]]              # aligned by attribute
</pre><p>
You can use image from other page, other ticket or other module.
</p>
<pre class="wiki">    [[Image(OtherPage:foo.bmp)]]    # if current module is wiki
    [[Image(base/sub:bar.bmp)]]     # from hierarchical wiki page
    [[Image(#3:baz.bmp)]]           # if in a ticket, point to #3
    [[Image(ticket:36:boo.jpg)]]
    [[Image(source:/images/bee.jpg)]] # straight from the repository!
    [[Image(htdocs:foo/bar.png)]]   # image file in project htdocs dir.
</pre><p>
<em>Adapted from the Image.py macro created by Shun-ichi Goto
&lt;gotoh@…&gt;</em>
</p>
<h3 id="InterTrac-macro"><code>[[InterTrac]]</code></h3><p>
Geben Sie eine Liste der bekannten <a class="wiki" href="/wiki/InterTrac">InterTrac</a>-Präfixe an.
</p>
<h3 id="InterWiki-macro"><code>[[InterWiki]]</code></h3><p>
Provide a description list for the known <a class="wiki" href="/wiki/InterWiki">InterWiki</a> prefixes.
</p>
<h3 id="KnownMimeTypes-macro"><code>[[KnownMimeTypes]]</code></h3><p>
List all known mime-types which can be used as <a class="wiki" href="WikiProcessors.html">WikiProcessors</a>.
</p>
<p>
Can be given an optional argument which is interpreted as mime-type filter.
</p>
<h3 id="ListDownloads-macro"><code>[[ListDownloads]]</code></h3><p>
Display list of download files.
</p>
<h3 id="ListTagged-macro"><code>[[ListTagged]]</code></h3><p>
Zeite eine Liste von Dokumenten mit Tags.
</p>
<blockquote>
<p>
Aufruf:
</p>
</blockquote>
<pre class="wiki">[[ListTagged(query)]]
</pre><blockquote>
<p>
Die Abfrage-Syntax finden Sie in der Beschreibung zu Tags.
</p>
</blockquote>
<p>
    
</p>
<h3 id="MacroList-macro"><code>[[MacroList]]</code></h3><p>
Display a list of all installed Wiki macros, including documentation if
available.
</p>
<p>
Optionally, the name of a specific macro can be provided as an argument. In
that case, only the documentation for that macro will be rendered.
</p>
<p>
Note that this macro will not be able to display the documentation of
macros if the <tt>PythonOptimize</tt> option is enabled for mod_python!
</p>
<h3 id="MultiLangTitleIndex-macro"><code>[[MultiLangTitleIndex]]</code></h3><p>
Inserts an alphabetic list of all wiki pages cosidering suffixes.
</p>
<p>
This macro is similar to <a class="wiki" href="TitleIndex.html">TitleIndex</a> macro but differ in two points.
</p>
<ul><li>All the variants are displayed in one line.
</li><li>Displayed in two columns. One is for the pages made for the project.
One is for the pages provided by Trac. <tt>WikiStart</tt> and <tt>SandBox</tt>
are grouped in project pages as default. This is configurable
via <tt>_explicit_user_pages</tt> option.
</li></ul><p>
One entry displayed by this macro has a format like this:
</p>
<pre class="wiki">WikiStart (en, fr, ja, default)
</pre><p>
Left most page name is for usual access with negotiation.
Items in paren are existing language variants for the page.
</p>
<p>
System pages are decided by listing files in wiki-default
directory. As described before, you can exclude some pages as user
page by spcifying <tt>_explicit_user_pages</tt>. Likewise, you can
specify the system pages via <tt>_explicit_system_pages</tt> option.
</p>
<p>
These two options are list of page names separated by comma. If
the page name ends with '*' character, it works as prefix for
matching. For exmaple, 'Trac*' means "page names staring with
'Trac'".
</p>
<h3 id="NTOC-macro"><code>[[NTOC]]</code></h3><p>
Language-aware version of TOC Macro.
</p>
<h3 id="Dependency">Dependency</h3>
<ul><li>trac 0.11 or later
</li><li>tractoc macro for trac 0.11
</li></ul><h3 id="Description">Description</h3>
<p>
This macro is an alternative of TOC macro (written by
coderanger) extending to use content of localized page if
exist. You can write TOC macro entry by normal page name
wihtout lang suffix.
</p>
<p>
For example, if you specify the page 'SubPage' in argument on
the Japanese localized page 'BasePage.ja', find 'SubPage.ja'
first and return it's content if exist.  Or find localized
page regarding preferred languages from browser's
Accept-Language: header.  Or, finally, exact given page name
is used.
</p>
<p>
If you specify the page with lang suffix, that page is used.
</p>
<h3 id="LIMITATION">LIMITATION</h3>
<p>
TOC macro accepts wildcard like <tt>Trac*</tt> to list multiple pages
but NTOC macro cannot hook it. In such case, all the variants
will match and be used. It'd be better not to use wildcard
with NTOC macro.
</p>
<h3 id="PageOutline-macro"><code>[[PageOutline]]</code></h3><p>
Display a structural outline of the current wiki page, each item in the
outline being a link to the corresponding heading.
</p>
<p>
This macro accepts four optional parameters:
</p>
<ul><li>The first is a number or range that allows configuring the minimum and
maximum level of headings that should be included in the outline. For
example, specifying "1" here will result in only the top-level headings
being included in the outline. Specifying "2-3" will make the outline
include all headings of level 2 and 3, as a nested list. The default is
to include all heading levels.
</li><li>The second parameter can be used to specify a custom title (the default
is no title).
</li><li>The third parameter selects the style of the outline. This can be
either <tt>inline</tt> or <tt>pullout</tt> (the latter being the default). The
<tt>inline</tt> style renders the outline as normal part of the content, while
<tt>pullout</tt> causes the outline to be rendered in a box that is by default
floated to the right side of the other content.
</li><li>The fourth parameter specifies whether the outline is numbered or not.
It can be either <tt>numbered</tt> or <tt>unnumbered</tt> (the former being the
default). This parameter only has an effect in <tt>inline</tt> style.
</li></ul><h3 id="ProjectStats-macro"><code>[[ProjectStats]]</code></h3><p>
Wiki macro listing some generic Trac statistics.
</p>
<p>
This macro accepts a comma-separated list of keyed parameters, in the form
"key=value". Valid keys:
</p>
<ul><li><strong>wiki</strong> &mdash; statistics for <a class="wiki" href="/wiki/TracWiki">TracWiki</a>, values:
<ul><li><em>count</em> &mdash; show wiki page count
</li></ul></li><li><strong>prefix</strong> &mdash; use with <em>wiki</em> key: only names that start with that
prefix are included
</li></ul><p>
'count' is also recognized without prepended key name.
</p>
<h3 id="RecentChanges-macro"><code>[[RecentChanges]]</code></h3><p>
List all pages that have recently been modified, ordered by the
time they were last modified.
</p>
<p>
This macro accepts two ordered arguments and a named argument. The named
argument can be placed in any position within the argument list.
</p>
<p>
The first parameter is a prefix string: if provided, only pages with names
that start with the prefix are included in the resulting list. If this
parameter is omitted, all pages are included in the list.
</p>
<p>
The second parameter is the maximum number of pages to include in the
list.
</p>
<p>
The <tt>group</tt> parameter determines how the list is presented:
<dl class="wiki"><dt><tt>group=date</tt></dt><dd>The pages are presented in bulleted lists that are
grouped by date (default).
</dd><dt><tt>group=none</tt></dt><dd>The pages are presented in a single bulleted list.
</p>
</dd></dl>
<p>
Tip: if you only want to specify a maximum number of entries and
don't want to filter by prefix, specify an empty first parameter,
e.g. <tt>[[RecentChanges(,10,group=none)]]</tt>.
</p>
<h3 id="RepositoryIndex-macro"><code>[[RepositoryIndex]]</code></h3><p>
Display the list of available repositories.
</p>
<p>
Can be given the following named arguments:
</p>
<dl class="wiki"><dt><em>format</em></dt><dd>
Select the rendering format:
<ul><li><em>compact</em> produces a comma-separated list of repository prefix
names (default)
</li><li><em>list</em> produces a description list of repository prefix names
</li><li><em>table</em> produces a table view, similar to the one visible in
the <em>Browse View</em> page
</li></ul></dd><dt><em>glob</em></dt><dd>
Do a glob-style filtering on the repository names (defaults to '*')
</dd><dt><em>order</em></dt><dd>
Order repositories by the given column (one of "name", "date" or
"author")
</dd><dt><em>desc</em></dt><dd>
When set to 1, order by descending order
</dd></dl>
<p>
(<em>since 0.12</em>)
</p>
<h3 id="Screenshot-macro"><code>[[Screenshot]]</code></h3><p>
Allows embed screenshot image in
wiki page. First mandatory argument is ID of the screenshot. Number or
image attributes can be specified next:
</p>
<ul><li><tt>align</tt> - Specifies image alignment in wiki page. Possible values are:
<tt>left</tt>, <tt>right</tt> and <tt>center</tt>.
</li><li><tt>alt</tt> - Alternative description of image.
</li><li><tt>border</tt> - Sets image border of specified width in pixels.
</li><li><tt>class</tt> - Class of image for CSS styling.
</li><li><tt>description</tt> - Brief description under the image. Accepts several
variables (see bellow).
</li><li><tt>format</tt> - Format of returned image or screenshot behind link.
</li><li><tt>height</tt> - Height of image. Set to 0 if you want original image height.
</li><li><tt>id</tt> - ID of image for CSS styling.
</li><li><tt>longdesc</tt> - Detailed description of image.
</li><li><tt>title</tt> - Title of image.
</li><li><tt>usemap</tt> - Image map for clickable images.
</li><li><tt>width</tt> - Width of image. Set to 0 if you want original image width.
</li></ul><p>
Attribute <tt>description</tt> displays several variables:
</p>
<ul><li><tt>$id</tt> - ID of image.
</li><li><tt>$name</tt> - Name of image.
</li><li><tt>$author</tt> - User name who uploaded image.
</li><li><tt>$time</tt> - Time when image was uploaded.
</li><li><tt>$file</tt> - File name of image.
</li><li><tt>$description</tt> - Detailed description of image.
</li><li><tt>$width</tt> - Original width of image.
</li><li><tt>$height</tt> - Original height of image.
</li><li><tt>$tags</tt> - Comma separated list of screenshot tags.
</li><li><tt>$components</tt> - Comma separated list of screenshot components.
</li><li><tt>$versions</tt> - Comma separated list of screenshot versions.
</li></ul><p>
Example:
</p>
<pre class="wiki"> [[Screenshot(2,width=400,height=300,description=The $name by $author: $description,align=left)]]
</pre><h3 id="ScreenshotsList-macro"><code>[[ScreenshotsList]]</code></h3><p>
Displays list of all available
screenshots on wiki page. Accepts one argument which is template for
list items formatting. Possible variables in this template are:
</p>
<ul><li><tt>$id</tt> - ID of image.
</li><li><tt>$name</tt> - Name of image.
</li><li><tt>$author</tt> - User name who uploaded image.
</li><li><tt>$time</tt> - Time when image was uploaded.
</li><li><tt>$file</tt> - File name of image.
</li><li><tt>$description</tt> - Detailed description of image.
</li><li><tt>$width</tt> - Original width of image.
</li><li><tt>$height</tt> - Original height of image.
</li><li><tt>$tags</tt> - Comma separated list of screenshot tags.
</li><li><tt>$components</tt> - Comma separated list of screenshot components.
</li><li><tt>$versions</tt> - Comma separated list of screenshot versions.
</li></ul><p>
Example:
</p>
<pre class="wiki"> [[ScreenshotsList($name - $description ($widthx$height))]]
</pre><h3 id="ShowEntities-macro"><code>[[ShowEntities]]</code></h3><p>
Renders in a table the list of HTML entities.  Optional argument is the number of columns in the table (defaults 3).
</p>
<h3 id="ShowIcons-macro"><code>[[ShowIcons]]</code></h3><p>
Renders in a table a list of available icons.
No more than 96 icons are displayed to prevent
exhaustive network traffic.
</p>
<p>
Syntax:
</p>
<pre class="wiki">[[ShowIcons(cols, name-pattern, size, header, limit)]]
</pre><p>
where
</p>
<ul><li><tt>cols</tt> is optionally the number of columns in the table
(defaults 3).
</li><li><tt>name-pattern</tt> selects which icons to list (use <tt>*</tt> and
<tt>?</tt>).
</li><li><tt>size</tt> is optionally one of <tt>small</tt>, <tt>medium</tt> or <tt>large</tt> or
an abbreviation thereof (defaults <tt>small</tt>).
</li><li><tt>header</tt> is optionally one of <tt>header</tt> and <tt>noheader</tt> or
an abbreviation thereof (header is displayed by default)
</li><li><tt>limit</tt> specifies an optional upper limit of number of
displayed icons (however, no more than 96
will be displayed).
</li></ul><p>
The last three optional parameters (<tt>size</tt>, <tt>header</tt> and
<tt>limit</tt>) can be stated in any order.
</p>
<p>
Example:
</p>
<pre class="wiki">[[ShowIcons(smile*)]]              # all small icons matching smile*
[[ShowIcons(4, smile*)]]           # four columns
[[ShowIcons(smile*, 10)]]          # limit to 10 icons
[[ShowIcons(smile*, 10, nohead)]]  # no header
[[ShowIcons(smile*, m)]]           # medium-size
</pre><h3 id="ShowPhrases-macro"><code>[[ShowPhrases]]</code></h3><p>
Renders in a table the list of known phrases that
are highlighted to catch attention.
</p>
<p>
Comment: Any delimiter <tt>():&lt;&gt;</tt> adjacent to a phrase will not be
presented. This makes it possible to naturally write <tt>FIXME:</tt>,
for example, but view the phrase highlighted without the colon
(<tt>:</tt>) which would not look natural. Prefixing a phrase with <tt>!</tt>
prevents it from being highlighted.
</p>
<h3 id="ShowSmileys-macro"><code>[[ShowSmileys]]</code></h3><p>
Renders in a table the list of available smileys.
Optional argument is the number of columns in the table
(defaults 3).
</p>
<p>
Comment: Prefixing a character sequence with <tt>!</tt> prevents it
from being interpreted as a smiley.
</p>
<h3 id="ShowSymbols-macro"><code>[[ShowSymbols]]</code></h3><p>
Renders in a table the list of known symbols. Optional argument is the number of columns in the table (defaults 3).
</p>
<h3 id="TOC-macro"><code>[[TOC]]</code></h3><p>
Generate a table of contents for the current page or a set of pages.
If no arguments are given, a table of contents is generated for the
current page, with the top-level title stripped: 
</p>
<pre class="wiki">    [[TOC]] 
</pre><p>
To generate a table of contents for a set of pages, simply pass them
as comma separated arguments to the TOC macro, e.g. as in
</p>
<pre class="wiki">[[TOC(TracGuide, TracInstall, TracUpgrade, TracIni, TracAdmin, TracBackup,
      TracLogging, TracPermissions, TracWiki, WikiFormatting, TracBrowser,
      TracRoadmap, TracChangeset, TracTickets, TracReports, TracQuery,
      TracTimeline, TracRss, TracNotification)]]
</pre><p>
A wildcard '*' can be used to fetch a sorted list of all pages starting with
the preceding pagename stub:
</p>
<pre class="wiki">[[TOC(Trac*, WikiFormatting, WikiMacros)]]
</pre><p>
The following <em>control</em> arguments change the default behaviour of
the TOC macro: 
</p>
<table class="wiki">
<tr><td> <strong>Argument</strong>    </td><td> <strong>Meaning</strong> 
</td></tr><tr><td> <tt>heading=&lt;x&gt;</tt> </td><td> Override the default heading of "Table of Contents" 
</td></tr><tr><td> <tt>noheading</tt>   </td><td> Suppress display of the heading. 
</td></tr><tr><td> <tt>depth=&lt;n&gt;</tt>   </td><td> Display headings of <em>subsequent</em> pages to a maximum depth of <strong>&lt;n&gt;</strong>. 
</td></tr><tr><td> <tt>inline</tt>      </td><td> Display TOC inline rather than as a side-bar. 
</td></tr><tr><td> <tt>sectionindex</tt> </td><td> Only display the page name and title of each page in the wiki section. 
</td></tr><tr><td> <tt>titleindex</tt>  </td><td> Only display the page name and title of each page, similar to <a class="wiki" href="TitleIndex.html">TitleIndex</a>. 
</td></tr><tr><td> <tt>notitle</tt>     </td><td> Supress display of page title. 
</td></tr></table>
<p>
For 'titleindex' argument, an empty pagelist will evaluate to all pages:
</p>
<pre class="wiki">[[TOC(titleindex, notitle, heading=All pages)]]
</pre><p>
'sectionindex' allows to generate a title index for all pages in a given section of the wiki.
A section is defined by wiki page name, using '/' as a section level delimiter (like directories in a
file system). Giving '/' or '*' as the page name produces the same result as 'titleindex' (title of all pages).
If a page name ends with a '/', only children of this page will be processed. Else the page given in
the argument is also included, if it exists. For 'sectionindex' argument, an empty pagelist will evaluate
to all page below the same parent as the current page:
</p>
<pre class="wiki">[[TOC(sectionindex, notitle, heading=This section pages)]]
</pre><h3 id="TOC-macro"><code>[[TOC]]</code></h3><p>
This is placeholder macro to override with <tt>NTOC</tt> macro.
By enabling wikinegotiator plugin, original <tt>TOCMacro</tt> is
replaced by <tt>NTOCMacro</tt> by this definition.
To use original, disable this macro in the admin panel or
add following line in your <tt>trac.ini</tt>:
</p>
<pre class="wiki">wikinegotiator.macros.tocmacro = disabled
</pre><p>
If you cannot get expected result, you may disable original
macro.
</p>
<h3 id="TagCloud-macro"><code>[[TagCloud]]</code></h3><p>
Stelle eine Tag-Wolke dar.
</p>
<blockquote>
<p>
Zeige eine Tag-Wolke mit allen auf die Abfrage zutreffenden Dokumenten-Tags an.
</p>
</blockquote>
<blockquote>
<p>
Aufruf:
</p>
</blockquote>
<pre class="wiki">[[TagCloud(query,caseless_sort=&lt;bool&gt;,mincount=&lt;n&gt;)]]
</pre><dl class="wiki"><dt>caseless_sort</dt><dd>
Ob Gross-/Kleinschreibung beim Tag-Sortierung berücksichtigt wird.
</dd><dt>mincount</dt><dd>
Optionaler Ganzzahl-Grenzwert, bis zu dem Tags mit geringerer Anzahl ausgeblendet werden.
</dd></dl>
<blockquote>
<p>
Die Abfrage-Syntax finden Sie in der Beschreibung zu Tags.
</p>
</blockquote>
<p>
    
</p>
<h3 id="TicketQuery-macro"><code>[[TicketQuery]]</code></h3><p>
Wiki macro listing tickets that match certain criteria.
</p>
<p>
This macro accepts a comma-separated list of keyed parameters,
in the form "key=value".
</p>
<p>
If the key is the name of a field, the value must use the syntax
of a filter specifier as defined in <a class="wiki" href="/wiki/TracQuery#QueryLanguage">TracQuery#QueryLanguage</a>.
Note that this is <em>not</em> the same as the simplified URL syntax
used for <tt>query:</tt> links starting with a <tt>?</tt> character. Commas (<tt>,</tt>)
can be included in field values by escaping them with a backslash (<tt>\</tt>).
</p>
<p>
Groups of field constraints to be OR-ed together can be separated by a
litteral <tt>or</tt> argument.
</p>
<p>
In addition to filters, several other named parameters can be used
to control how the results are presented. All of them are optional.
</p>
<p>
The <tt>format</tt> parameter determines how the list of tickets is
presented:
</p>
<ul><li><strong>list</strong> &mdash; the default presentation is to list the ticket ID next
to the summary, with each ticket on a separate line.
</li><li><strong>compact</strong> &mdash; the tickets are presented as a comma-separated
list of ticket IDs.
</li><li><strong>count</strong> &mdash; only the count of matching tickets is displayed
</li><li><strong>table</strong>  &mdash; a view similar to the custom query view (but without
the controls)
</li><li><strong>progress</strong> &mdash; a view similar to the milestone progress bars
</li></ul><p>
The <tt>max</tt> parameter can be used to limit the number of tickets shown
(defaults to <strong>0</strong>, i.e. no maximum).
</p>
<p>
The <tt>order</tt> parameter sets the field used for ordering tickets
(defaults to <strong>id</strong>).
</p>
<p>
The <tt>desc</tt> parameter indicates whether the order of the tickets
should be reversed (defaults to <strong>false</strong>).
</p>
<p>
The <tt>group</tt> parameter sets the field used for grouping tickets
(defaults to not being set).
</p>
<p>
The <tt>groupdesc</tt> parameter indicates whether the natural display
order of the groups should be reversed (defaults to <strong>false</strong>).
</p>
<p>
The <tt>verbose</tt> parameter can be set to a true value in order to
get the description for the listed tickets. For <strong>table</strong> format only.
<em>deprecated in favor of the <tt>rows</tt> parameter</em>
</p>
<p>
The <tt>rows</tt> parameter can be used to specify which field(s) should
be viewed as a row, e.g. <tt>rows=description|summary</tt>
</p>
<p>
For compatibility with Trac 0.10, if there's a last positional parameter
given to the macro, it will be used to specify the <tt>format</tt>.
Also, using "&amp;" as a field separator still works (except for <tt>order</tt>)
but is deprecated.
</p>
<h3 id="TitleIndex-macro"><code>[[TitleIndex]]</code></h3><p>
Insert an alphabetic list of all wiki pages into the output.
</p>
<p>
Accepts a prefix string as parameter: if provided, only pages with names
that start with the prefix are included in the resulting list. If this
parameter is omitted, all pages are listed.
If the prefix is specified, a second argument of value <tt>hideprefix</tt>
can be given as well, in order to remove that prefix from the output.
</p>
<p>
Alternate <tt>format</tt> and <tt>depth</tt> named parameters can be specified:
</p>
<ul><li><tt>format=compact</tt>: The pages are displayed as comma-separated links.
</li><li><tt>format=group</tt>: The list of pages will be structured in groups
according to common prefix. This format also supports a <tt>min=n</tt>
argument, where <tt>n</tt> is the minimal number of pages for a group.
</li><li><tt>format=hierarchy</tt>: The list of pages will be structured according
to the page name path hierarchy. This format also supports a <tt>min=n</tt>
argument, where higher <tt>n</tt> flatten the display hierarchy
</li><li><tt>depth=n</tt>: limit the depth of the pages to list. If set to 0,
only toplevel pages will be shown, if set to 1, only immediate
children pages will be shown, etc. If not set, or set to -1,
all pages in the hierarchy will be shown.
</li><li><tt>include=page1:page*2</tt>: include only pages that match an item in the
colon-separated list of pages. If the list is empty, or if no <tt>include</tt>
argument is given, include all pages.
</li><li><tt>exclude=page1:page*2</tt>: exclude pages that match an item in the colon-
separated list of pages.
</li></ul><p>
The <tt>include</tt> and <tt>exclude</tt> lists accept shell-style patterns.
</p>
<h3 id="TitleIndex-macro"><code>[[TitleIndex]]</code></h3><p>
This is placeholder macro to override with <tt>MultiLangTitleIndex</tt> macro.
By enabling wikinegotiator plugin, original <tt>TitleIndexMacro</tt> is
replaced by <tt>MultiLangTitleIndex</tt> by this definition.
To use original, disable this macro in the admin panel or add following
line in your <tt>trac.ini</tt>:
</p>
<pre class="wiki">wikinegotiator.macros.titleindexmacro = disabled
</pre><h3 id="TracAdminHelp-macro"><code>[[TracAdminHelp]]</code></h3><p>
Display help for trac-admin commands.
</p>
<p>
Examples:
</p>
<pre class="wiki">[[TracAdminHelp]]               # all commands
[[TracAdminHelp(wiki)]]         # all wiki commands
[[TracAdminHelp(wiki export)]]  # the "wiki export" command
[[TracAdminHelp(upgrade)]]      # the upgrade command
</pre><h3 id="TracGuideToc-macro"><code>[[TracGuideToc]]</code></h3><p>
Display a table of content for the Trac guide.
</p>
<p>
This macro shows a quick and dirty way to make a table-of-contents
for the Help/Guide. The table of contents will contain the Trac* and
<a class="wiki" href="WikiFormatting.html">WikiFormatting</a> pages, and can't be customized. Search for TocMacro for a
a more customizable table of contents.
</p>
<h3 id="TracIni-macro"><code>[[TracIni]]</code></h3><p>
Produce documentation for the Trac configuration file.
</p>
<p>
Typically, this will be used in the <a class="wiki" href="/wiki/TracIni">TracIni</a> page.
Optional arguments are a configuration section filter,
and a configuration option name filter: only the configuration
options whose section and name start with the filters are output.
</p>
<h3 id="UserQuery-macro"><code>[[UserQuery]]</code></h3><p>
Wiki macro listing users that match certain criteria.
</p>
<p>
This macro accepts a comma-separated list of keyed parameters, in the form
"key=value". Valid keys:
</p>
<ul><li><strong>perm</strong> &mdash; show only that users, a permission action given by <em>value</em>
has been granted to
</li><li><strong>locked</strong> &mdash; retrieve users, who's account has/has not been locked
depending on boolean value
</li><li><strong>format</strong> &mdash; output style: 'count', 'list' or comma-separated values
(default)
</li><li><strong>nomatch</strong> &mdash; replacement wiki markup that is displayed, if there's
no match and output style isn't 'count' either
</li></ul><p>
'count' is also recognized without prepended key name. Other non-keyed
parameters are:
</p>
<ul><li><strong>locked</strong> &mdash; alias for 'locked=True'
</li><li><strong>visit</strong> &mdash; show a list of accounts with last-login information, only
available in table format
</li><li><strong>name</strong> &mdash; forces replacement of maching username with their
corresponding full names, if available; adds a full names column if combined
with 'visit'
</li><li><strong>email</strong> &mdash; append email address to usernames, if available
</li></ul><p>
Requires <tt>USER_VIEW</tt> permission for output in any format other then 'count'.
A misc placeholder with this statement is presented to unprivileged users.
</p>
<h3 id="Workflow-macro"><code>[[Workflow]]</code></h3><p>
Render a workflow graph.
</p>
<p>
This macro accepts a <a class="wiki" href="/wiki/TracWorkflow">TracWorkflow</a> configuration and renders the states
and transitions as a directed graph. If no parameters are given, the
current ticket workflow is rendered. In <a class="wiki" href="WikiProcessors.html">WikiProcessors</a> mode the <tt>width</tt>
and <tt>height</tt> arguments can be specified.
</p>
<p>
(Defaults: <tt>width = 800</tt> and <tt>heigth = 600</tt>)
</p>
<p>
Examples:
</p>
<pre class="wiki">    [[Workflow()]]

    [[Workflow(go = here -&gt; there; return = there -&gt; here)]]

    {{{
    #!Workflow width=700 height=700
    leave = * -&gt; *
    leave.operations = leave_status
    leave.default = 1

    accept = new,assigned,accepted,reopened -&gt; accepted
    accept.permissions = TICKET_MODIFY
    accept.operations = set_owner_to_self

    resolve = new,assigned,accepted,reopened -&gt; closed
    resolve.permissions = TICKET_MODIFY
    resolve.operations = set_resolution

    reassign = new,assigned,accepted,reopened -&gt; assigned
    reassign.permissions = TICKET_MODIFY
    reassign.operations = set_owner

    reopen = closed -&gt; reopened
    reopen.permissions = TICKET_CREATE
    reopen.operations = del_resolution
    }}}
</pre><h3 id="box-macro"><code>[[box]]</code></h3><p>
View wiki text in a box.
</p>
<p>
Syntax:
</p>
<pre class="wiki">{{{#!box type align=... width=...
wiki text
}}}
</pre><p>
or preferably when content is short:
</p>
<pre class="wiki">[[box(wiki text, type=..., align=..., width=...)]]
</pre><p>
where
</p>
<ul><li><tt>type</tt> is an optional flag, or parameter, to call for
attention depending on type of matter. When <tt>type</tt> is set,
the box is decorated with an icon (except for <tt>news</tt>) and
colored, depending on what <em>urgency</em> the type represents:
</li></ul><blockquote>
<blockquote>
<table class="wiki">
<tr><th> Urgency <em>(box color)</em> </th><th> type 
</th></tr><tr><th> warn <em>(red)</em> </th><td> <tt>bug</tt>, <tt>critical</tt>, <tt>error</tt>, <tt>important</tt>, <tt>stop</tt>, <tt>warning</tt> 
</td></tr><tr><th> highlight <em>(yellow)</em> </th><td> <tt>help</tt>, <tt>information</tt>, <tt>note</tt>, <tt>question</tt>, <tt>tips</tt> 
</td></tr><tr><th> elaborate <em>(blue)</em> </th><td> <tt>bad</tt>, <tt>chat</tt>, <tt>comment</tt>, <tt>discussion</tt>, <tt>good</tt>, <tt>no</tt>, <tt>nok</tt>, <tt>ok</tt>, <tt>talk</tt>, <tt>yes</tt> 
</td></tr><tr><th> news <em>(green)</em> </th><td> <tt>news</tt> 
</td></tr><tr><th> normal <em>(white)</em> </th><td> <tt>configuration</tt>, <tt>configure</tt>, <tt>details</tt>, <tt>look</tt>, <tt>magnifier</tt>, <tt>tool</tt> 
</td></tr></table>
<p>
<tt>type</tt> may be abbreviated as long as the abbreviation is
unique for one of the keywords above.
</p>
</blockquote>
</blockquote>
<ul><li><tt>align</tt> is optionally one of <tt>right</tt>, <tt>left</tt> or <tt>center</tt>.
The <tt>rbox</tt> macro is an alias for <tt>align=right</tt>.
</li><li><tt>width</tt> is optional and sets the width of the box (defaults
<tt>auto</tt> except for right aligned boxes which defaults a fixed
width). <tt>width</tt> should be set when <tt>align=center</tt> for
proper results.
</li></ul><p>
Examples:
</p>
<pre class="wiki">{{{#!box warn
= Warning
Beware of the bugs
}}}

[[box(Beware of the bugs, type=warn)]]
</pre><p>
A <tt>style</tt> parameter is also accepted, to allow for custom
styling of the box. See also the <tt>rbox</tt>, <tt>newsbox</tt> and
<tt>imagebox</tt> macros (processors).
</p>
<h3 id="imagebox-macro"><code>[[imagebox]]</code></h3><p>
Present a centered box suitable for one image.
</p>
<p>
Syntax:
</p>
<pre class="wiki">{{{#!imagebox
wiki text
}}}
</pre><p>
This box is typically used together with the <tt>Image</tt> macro:
</p>
<pre class="wiki">{{{#!imagebox
[[Image(file)]]

Caption
}}}
</pre><p>
Note that the <tt>size</tt> parameter of the <tt>Image</tt> macro may not
behave as expected when using relative sizes (<tt>%</tt>).
</p>
<p>
The following parameters are also accepted:
</p>
<ul><li><tt>align</tt> &mdash; One of <tt>right</tt>, <tt>left</tt> or <tt>center</tt> (defaults
<tt>center</tt>).
</li><li><tt>width</tt> &mdash; Set the width of the box (defaults <tt>auto</tt> except
for right aligned boxes which defaults a fixed width).
</li><li><tt>style</tt> &mdash; Custom styling of the box.
</li></ul><p>
See also the <tt>box</tt>, <tt>rbox</tt> and <tt>newsbox</tt> macros (processors).
</p>
<h3 id="mediawiki-macro"><code>[[mediawiki]]</code></h3><p>
desc
</p>
<h3 id="mediawiki-macro"><code>[[mediawiki]]</code></h3><p>
desc
</p>
<h3 id="newsbox-macro"><code>[[newsbox]]</code></h3><p>
Present a news box to the right. (This is a shorthand for
<tt>rbox news</tt>)
</p>
<p>
Syntax:
</p>
<pre class="wiki">{{{#!newsbox
wiki text
}}}
</pre><p>
The following parameters are also accepted:
</p>
<ul><li><tt>width</tt> &mdash; Set the width of the box (defaults a fixed
width).
</li><li><tt>style</tt> &mdash; Custom styling of the box.
</li></ul><p>
See also the <tt>box</tt>, <tt>rbox</tt> and <tt>imagebox</tt> macros (processors).
<em>(Comment: This box corresponds to the well-known
</em><tt>NewsFlash</tt><em> macro.)</em>
</p>
<h3 id="rbox-macro"><code>[[rbox]]</code></h3><p>
View a right-aligned box. (This is a shorthand for
<tt>box align=right</tt>)
</p>
<p>
Syntax:
</p>
<pre class="wiki">{{{#!rbox type width=...
wiki text
}}}
</pre><p>
or preferably when content is short:
</p>
<pre class="wiki">[[rbox(wiki text, type=..., width=...)]]
</pre><p>
where
</p>
<ul><li><tt>type</tt> is an optional flag, or parameter, to call for
attention depending on type of matter. When <tt>type</tt> is set,
the box is decorated with an icon (except for <tt>news</tt>) and
colored, depending on what <em>urgency</em> the type represents:
</li></ul><blockquote>
<blockquote>
<table class="wiki">
<tr><th> Urgency <em>(box color)</em> </th><th> type 
</th></tr><tr><th> warn <em>(red)</em> </th><td> <tt>bug</tt>, <tt>critical</tt>, <tt>error</tt>, <tt>important</tt>, <tt>stop</tt>, <tt>warning</tt> 
</td></tr><tr><th> highlight <em>(yellow)</em> </th><td> <tt>help</tt>, <tt>information</tt>, <tt>note</tt>, <tt>question</tt>, <tt>tips</tt> 
</td></tr><tr><th> elaborate <em>(blue)</em> </th><td> <tt>bad</tt>, <tt>chat</tt>, <tt>comment</tt>, <tt>discussion</tt>, <tt>good</tt>, <tt>no</tt>, <tt>nok</tt>, <tt>ok</tt>, <tt>talk</tt>, <tt>yes</tt> 
</td></tr><tr><th> news <em>(green)</em> </th><td> <tt>news</tt> 
</td></tr><tr><th> normal <em>(white)</em> </th><td> <tt>configuration</tt>, <tt>configure</tt>, <tt>details</tt>, <tt>look</tt>, <tt>magnifier</tt>, <tt>tool</tt> 
</td></tr></table>
<p>
<tt>type</tt> may be abbreviated as long as the abbreviation is
unique for one of the keywords above.
</p>
</blockquote>
</blockquote>
<ul><li><tt>width</tt> is optional and sets the width of the box (defaults
a fixed width). Use <tt>width=auto</tt> for an automatically sized
box.
</li></ul><p>
Examples:
</p>
<pre class="wiki">{{{#!rbox warn
= Warning
Beware of the bugs
}}}

[[rbox(Beware of the bugs, type=warn)]]
</pre><p>
A <tt>style</tt> parameter is also accepted, to allow for custom
styling of the box. See also the <tt>box</tt>, <tt>newsbox</tt> and
<tt>imagebox</tt> macros (processors).
</p>
</div><p>
</p>
<h2 id="Macrosfromaroundtheworld">Macros from around the world</h2>
<p>
The <a class="ext-link" href="http://trac-hacks.org/"><span class="icon">​</span>Trac Hacks</a> site provides a wide collection of macros and other Trac <a class="wiki" href="/wiki/TracPlugins">plugins</a> contributed by the Trac community. If you're looking for new macros, or have written one that you'd like to share with the world, please don't hesitate to visit that site.
</p>
<h2 id="DevelopingCustomMacros">Developing Custom Macros</h2>
<p>
Macros, like Trac itself, are written in the <a class="ext-link" href="http://python.org/"><span class="icon">​</span>Python programming language</a>.
</p>
<p>
For more information about developing macros, see the <a class="missing wiki">development resources?</a> on the main project site.
</p>
<h2 id="Implementation">Implementation</h2>
<p>
Here are 2 simple examples on how to create a Macro with <a class="missing wiki">Trac 0.11?</a> have a look at <a class="missing source">source:trunk/sample-plugins/Timestamp.py</a> for an example that shows the difference between old style and new style macros and also <a class="missing source">source:trunk/wiki-macros/README</a> which provides a little more insight about the transition.
</p>
<h3 id="Macrowithoutarguments">Macro without arguments</h3>
<p>
It should be saved as <tt>TimeStamp.py</tt> as Trac will use the module name as the Macro name
</p>
<div class="code"><pre><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> datetime
<span class="c"># Note: since Trac 0.11, datetime objects are used internally</span>

<span class="kn">from</span> <span class="nn">genshi.builder</span> <span class="kn">import</span> tag

<span class="kn">from</span> <span class="nn">trac.util.datefmt</span> <span class="kn">import</span> format_datetime<span class="p">,</span> utc
<span class="kn">from</span> <span class="nn">trac.wiki.macros</span> <span class="kn">import</span> WikiMacroBase

<span class="k">class</span> <span class="nc">TimestampMacro</span><span class="p">(</span>WikiMacroBase<span class="p">):</span>
    <span class="sd">"""Inserts the current time (in seconds) into the wiki page."""</span>

    revision <span class="o">=</span> <span class="s">"$Rev$"</span>
    url <span class="o">=</span> <span class="s">"$URL$"</span>

    <span class="k">def</span> <span class="nf">expand_macro</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> formatter<span class="p">,</span> name<span class="p">,</span> args<span class="p">):</span>
        t <span class="o">=</span> datetime<span class="o">.</span>now<span class="p">(</span>utc<span class="p">)</span>
        <span class="k">return</span> tag<span class="o">.</span>b<span class="p">(</span>format_datetime<span class="p">(</span>t<span class="p">,</span> <span class="s">'</span><span class="si">%c</span><span class="s">'</span><span class="p">))</span>
</pre></div><h3 id="Macrowitharguments">Macro with arguments</h3>
<p>
It should be saved as <tt>HelloWorld.py</tt> (in the plugins/ directory) as Trac will use the module name as the Macro name
</p>
<div class="code"><pre><span class="kn">from</span> <span class="nn">trac.wiki.macros</span> <span class="kn">import</span> WikiMacroBase

<span class="k">class</span> <span class="nc">HelloWorldMacro</span><span class="p">(</span>WikiMacroBase<span class="p">):</span>
    <span class="sd">"""Simple HelloWorld macro.

    Note that the name of the class is meaningful:
     - it must end with "Macro"
     - what comes before "Macro" ends up being the macro name

    The documentation of the class (i.e. what you're reading)
    will become the documentation of the macro, as shown by
    the !MacroList macro (usually used in the TracWikiMacros page).
    """</span>

    revision <span class="o">=</span> <span class="s">"$Rev$"</span>
    url <span class="o">=</span> <span class="s">"$URL$"</span>

    <span class="k">def</span> <span class="nf">expand_macro</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> formatter<span class="p">,</span> name<span class="p">,</span> args<span class="p">):</span>
        <span class="sd">"""Return some output that will be displayed in the Wiki content.

        `name` is the actual name of the macro (no surprise, here it'll be
        `'HelloWorld'`),
        `args` is the text enclosed in parenthesis at the call of the macro.
          Note that if there are ''no'' parenthesis (like in, e.g.
          [[HelloWorld]]), then `args` is `None`.
        """</span>
        <span class="k">return</span> <span class="s">'Hello World, args = '</span> <span class="o">+</span> <span class="nb">unicode</span><span class="p">(</span>args<span class="p">)</span>
    
    <span class="c"># Note that there's no need to HTML escape the returned data,</span>
    <span class="c"># as the template engine (Genshi) will do it for us.</span>
</pre></div><h3 id="expand_macrodetails"><tt>expand_macro</tt> details</h3>
<p>
<tt>expand_macro</tt> should return either a simple Python string which will be interpreted as HTML, or preferably a Markup object (use <tt>from trac.util.html import Markup</tt>).  <tt>Markup(string)</tt> just annotates the string so the renderer will render the HTML string as-is with no escaping. You will also need to import Formatter using <tt>from trac.wiki import Formatter</tt>.
</p>
<p>
If your macro creates wiki markup instead of HTML, you can convert it to HTML like this:
</p>
<div class="code"><pre>  text <span class="o">=</span> <span class="s">"whatever wiki markup you want, even containing other macros"</span>
  <span class="c"># Convert Wiki markup to HTML, new style</span>
  out <span class="o">=</span> StringIO<span class="p">()</span>
  Formatter<span class="p">(</span><span class="bp">self</span><span class="o">.</span>env<span class="p">,</span> formatter<span class="o">.</span>context<span class="p">)</span><span class="o">.</span>format<span class="p">(</span>text<span class="p">,</span> out<span class="p">)</span>
  <span class="k">return</span> Markup<span class="p">(</span>out<span class="o">.</span>getvalue<span class="p">())</span>
</pre></div></div>
          
          <div class="trac-modifiedby">
            <span><a href="/wiki/TracWikiMacros?action=diff&amp;version=1" title="Version 1 von trac">zuletzt geändert</a> <a class="timeline" href="/timeline?from=2008-06-09T11%3A41%3A43Z&amp;precision=second" title="Siehe Journal am 09.06.2008 11:41:43">vor 10 Jahren</a></span>
            <span class="trac-print">Zuletzt geändert am 09.06.2008 11:41:43</span>
          </div>
        
        
      </div>
      

    </div>
    <script type="text/javascript">
        jQuery.loadStyleSheet("/pygments/trac.css", "text/css");
    </script>
    <div id="altlinks">
      <h3>In anderen Formaten herunterladen:</h3>
      <ul>
        <li class="last first">
          <a rel="nofollow" href="/wiki/TracWikiMacros?format=txt">Reiner Text</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Betrieben mit <a href="/about"><strong>Trac 1.0.1</strong></a><br />
        von <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right"><div class="field" align="right"><form action="https://www.paypal.com/cgi-bin/webscr" method="post"><input type="hidden" name="cmd" value="_donations"/><input type="hidden" name="business" value="spenden@freetz.org"/><input type="hidden" name="item_name" value="Freetz Entwickler-Team"/><input type="hidden" name="no_shipping" value="1"/><input type="hidden" name="return" value="http://freetz.org"/><input type="hidden" name="cn" value="Name oder IPPF-Pseudonym"/><input type="hidden" name="currency_code" value="EUR"/><input type="hidden" name="tax" value="0"/><input type="hidden" name="lc" value="DE"/><input type="hidden" name="bn" value="PP-DonationsBF"/><input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" alt="Zahlen Sie mit PayPal - schnell, kostenlos und sicher!"/><img alt="" border="0" src="/pixel.gif" width="1" height="1"/></form></div></p>
    </div>
  </body>
</html>