<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      packages/mediaserver – Freetz
    </title>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="/search" />
        <link rel="help" href="../TracGuide.html" />
        <link rel="alternate" href="mediaserver%3Fformat=txt" type="text/x-trac-wiki" title="Reiner Text" />
        <link rel="up" href="../packages.html" title="Übergeordnete Wiki-Seite anzeigen" />
        <link rel="start" href="/wiki" />
        <link rel="stylesheet" href="../../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../../chrome/common/css/wiki.css" type="text/css" /><link rel="stylesheet" href="../../chrome/wikiextras/css/phrases.css" type="text/css" /><link rel="stylesheet" href="../../chrome/wikiextras/css/boxes.css" type="text/css" /><link rel="stylesheet" href="../../chrome/wikiextras/css/boxes-300.css" type="text/css" /><link rel="stylesheet" href="../../chrome/wikiextras/css/boxes-narrow-toc.css" type="text/css" /><link rel="stylesheet" href="../../wikicss.css" type="text/css" /><link rel="stylesheet" href="../../chrome/tags/css/tractags.css" type="text/css" /><link rel="stylesheet" href="../../chrome/wikinegotiator/css/langmenu-ctxnav.css" type="text/css" />
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="/favicon.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="/search/opensearch" title="Freetz durchsuchen" />
      <script type="text/javascript" charset="utf-8" src="../../chrome/common/js/jquery.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../chrome/common/js/babel.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../chrome/common/js/messages/de.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../chrome/common/js/trac.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../chrome/common/js/search.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../chrome/common/js/folding.js"></script>
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("#content").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $("#content").find(".wikianchor").each(function() {
          $(this).addAnchor(babel.format(_("Link to #%(id)s"), {id: $(this).attr('id')}));
        });
        $(".foldable").enableFolding(true, true);
      });
    </script>
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="/wiki"><img src="../../chrome/common/freetz_motd.png" alt="Freetz" /></a>
      </div>
      <form id="search" action="/search" method="get">
        <div>
          <label for="proj-search">Suche:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Suche" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="/login">Anmelden</a></li><li><a href="/prefs">Einstellungen</a></li><li><a href="../TracGuide.html">Hilfe/Anleitung</a></li><li><a href="/about">Über Trac</a></li><li><a href="/notification" title="Wiki Pages Change Notifications">My Notifications</a></li><li><a href="/register">Registrieren</a></li><li class="last"><a href="../Impressum.html">Impressum</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first active"><a href="/wiki">Wiki</a></li><li><a href="/timeline">Journal</a></li><li><a href="/roadmap">Projektplan</a></li><li><a href="/browser">Quellen durchsehen</a></li><li><a href="/report">Tickets anzeigen</a></li><li><a href="/search">Suche</a></li><li><a href="/tags">Tags</a></li><li><a href="/downloads">Downloads</a></li><li class="last"><a href="/screenshots">Bildschirmfotos</a></li>
    </ul>
  </div>
    <div id="langmenu"><ul><li class="first"><span title="Select a language of wiki content">Language:</span></li><li class=" active"><a class="" href="mediaserver..html" title="displaying language (default)">German</a></li><li class=" last"><a class=" notexist" href="/wiki/packages/mediaserver.en" title="(not available)">English</a></li></ul></div><div id="main">
      <div id="pagepath" class="noprint">
  <a class="pathentry first" title="Zeige WikiStart an" href="/wiki">Wiki:</a><a class="pathentry" href="../packages.html" title="Zeige packages an">packages</a><span class="pathentry sep">/</span><a class="pathentry" href="mediaserver.html" title="Zeige packages/mediaserver an">mediaserver</a>
</div>
      <div id="ctxtnav" class="nav">
        <h2>Kontext-Navigation</h2>
        <ul>
          <li class="first"><a href="../packages.html">Aufwärts</a></li><li><a href="../WikiStart.html">Startseite</a></li><li><a href="../TitleIndex.html">Inhaltsverzeichnis</a></li><li><a href="mediaserver%3Faction=history.html">Änderungshistorie</a></li><li class="last"><a href="/notification/packages/mediaserver" title="Watch Page">Watch Page</a></li>
        </ul>
        <hr />
      </div>
    <div id="content" class="wiki">
      <div class="wikipage searchable">
        
          <div id="wikipage" class="trac-content"><p>
</p><div class="wiki-toc"><h4>Inhaltsverzeichnis</h4><ol><li><a href="mediaserver.html#Funktionsweise">Funktionsweise</a></li><li><a href="mediaserver.html#Dateien">Dateien</a></li><li><a href="mediaserver.html#KompatibleClientsAuswahl">Kompatible Clients (Auswahl)</a><ol><li><a href="mediaserver.html#Software">Software</a></li><li><a href="mediaserver.html#Hardware">Hardware</a></li></ol></li><li><a href="mediaserver.html#Firmware-Kompatibilität">Firmware-Kompatibilität</a></li></ol></div><p>
</p>
<p>
<strong>This package was removed in <a class="changeset" href="/changeset/1823" title=" * igdd can be removed without removing UPnP libs
 * UPnP libs are removed ...">r1823</a> ! </strong>
</p>
<h1 id="Mediaserver">Mediaserver</h1>
<p>
Der Mediaserver kann mittels Freetz aus der Labor-Version von AVM extrahiert und in andere Firmwares integriert werden. AVM beschreibt den Server als 
<a class="ext-link" href="http://www.avm.de/de/Service/Service-Portale/Service-Portal/Labor/labor_download_usb_host/labor_download_usb_host.php"><span class="icon">​</span>FRITZ!Musikbox</a> - im Grunde ist es aber "nur" ein UPnP-Mediaserver, welcher Mediendaten (in diesem Fall MP3s) an kompatible Hard- und Software streamt.
</p>
<p>
Wer den <em>Mediaserver</em> in der Firmware seiner FritzBox hat, ihn aber gar nicht benötigt, kann ihn auch mit einem <a class="wiki" href="../patches/remove_mediasrv.html">Patch</a> aus selbiger entfernen lassen. Er macht ja z.B. keinerlei Sinn, wenn auf der Box gar keine Media-Dateien (MP3 etc.) vorhanden sind, und mangels angeschlossenem Storage auch gar kein Platz für selbige vorhanden wäre.
</p>
<h2 id="Funktionsweise">Funktionsweise</h2>
<p>
Sobald ein USB-Massenspeicher mit FAT32-Dateisystem von der FritzBox erkannt wird, wird über die storage-Konfig des Hotplug-Daemons der Mediaserver gestartet.
Der FTP-Server läuft weiterhin, der Mediaserver verlinkt sogar auf das Verzeichnis des FTP-Servers.
</p>
<p>
In der Ereignisanzeige sollte folgende Meldung erscheinen:
</p>
<pre class="wiki">Mediaserver mit xx Mediendateien gestartet. Alle Mediendateien stehen zur Verfügung.
</pre><p>
Mit den entsprechenden UPnP-Clients kann dann auf die MP3s zugegriffen werden.
</p>
<h2 id="Dateien">Dateien</h2>
<p>
Folgende Dateien gehören zum Mediaserver-Paket:
</p>
<table class="wiki">
<tr><td>|Datei</td><td style="text-align: left">|Zweck
</td></tr><tr><td> <tt>/sbin/start_mediasrv</tt> </td><td> Prüft verschiedene Ordner, setzt einen Link von /var/media/ftp auf /var/media/mediapath, startet den Mediaserver.
</td></tr><tr><td> <tt>/sbin/stop_mediasrv</tt> </td><td> Stoppt den Mediaserver.
</td></tr><tr><td> <tt>/sbin/mediasrv</tt> </td><td> Das eigentliche Server-Binary.
</td></tr><tr><td> <tt>/usr/lib/mediasrv/ConnectionManager.xml</tt> 
</td></tr><tr><td> <tt>/usr/lib/mediasrv/MediaServerDevDesc-template.xml</tt> 
</td></tr><tr><td> <tt>/usr/lib/mediasrv/mediapath</tt> 
</td></tr><tr><td> <tt>/usr/lib/mediasrv/MediaServerDevDesc.xml</tt> 
</td></tr><tr><td> <tt>/usr/lib/mediasrv/ContentDirectory.xml</tt> 
</td></tr><tr><td> <tt>/etc/default.Fritz_Box_7170/{avm,1und1,freenet}/ConnectionManager.xml</tt> 
</td></tr><tr><td> <tt>/etc/default.Fritz_Box_7170/{avm,1und1,freenet}/MediaServerDevDesc-template.xml</tt> 
</td></tr><tr><td> <tt>/etc/default.Fritz_Box_7170/{avm,1und1,freenet}/mediapath</tt> 
</td></tr><tr><td> <tt>/etc/default.Fritz_Box_7170/{avm,1und1,freenet}/MediaServerDevDesc.xml</tt> 
</td></tr><tr><td> <tt>/etc/default.Fritz_Box_7170/{avm,1und1,freenet}/ContentDirectory.xml</tt> 
</td></tr></table>
<p>
Außerdem werden verschiedene Bibliotheken benutzt, die auch in normalen Firmware enthalten sind (z.B. für UPnP oder HTTP), und verschiedene Skripte prüfen, ob ein Mediaserver in der Firmware enthalten ist und reagieren entsprechend.
</p>
<h2 id="KompatibleClientsAuswahl">Kompatible Clients (Auswahl)</h2>
<h3 id="Software">Software</h3>
<ul><li>Itunes
</li><li>Windows Mediaplayer 11
</li></ul><h3 id="Hardware">Hardware</h3>
<ul><li>Roku Soundbridge
</li><li>Terractec Noxon
</li><li>Pinnacle Systems Soundbridge
</li></ul><h2 id="Firmware-Kompatibilität">Firmware-Kompatibilität</h2>
<p>
Ein extrahierter Mediaserver lässt sich nicht wahllos mit jeder anderen Firmware kombinieren, zum einen müssen verschiedene Scripte für das Starten des Mediaservers schon vorbereitet sein, zum anderen müssen die Bibliotheken der beiden Firmwares kompatibel sein, da verschiedene Querabhängigkeiten existieren.
</p>
<p>
Der Mediaserver aus der Laborversion 29.04.95-7553 funktioniert z.B. mit den stabilen Firmwares 29.04.37 und 40.04.37.
</p>
<p>
Der Mediaserver aus 29.04.95-8221 geht mit den beiden obigen Firmwares nicht, dafür aber mit der 29.04.39.
</p>
</div>
          
          <div class="trac-modifiedby">
            <span><a href="mediaserver%3Faction=diff&amp;version=3.html" title="Version 3 von Izzy">zuletzt geändert</a> <a class="timeline" href="/timeline?from=2011-04-11T20%3A02%3A05Z&amp;precision=second" title="Siehe Journal am 11.04.2011 20:02:05">vor 7 Jahren</a></span>
            <span class="trac-print">Zuletzt geändert am 11.04.2011 20:02:05</span>
          </div>
        
        
      </div><ul class="tags"><li class="header">Tags</li><li><a href="/tags/audio" rel="tag">audio</a> </li><li><a href="/tags/network" rel="tag">network</a> </li><li><a href="../packages.html" rel="tag">packages</a> </li></ul>
      

    </div>
    <div id="altlinks">
      <h3>In anderen Formaten herunterladen:</h3>
      <ul>
        <li class="last first">
          <a rel="nofollow" href="mediaserver%3Fformat=txt">Reiner Text</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Betrieben mit <a href="/about"><strong>Trac 1.0.1</strong></a><br />
        von <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right"><div class="field" align="right"><form action="https://www.paypal.com/cgi-bin/webscr" method="post"><input type="hidden" name="cmd" value="_donations"/><input type="hidden" name="business" value="spenden@freetz.org"/><input type="hidden" name="item_name" value="Freetz Entwickler-Team"/><input type="hidden" name="no_shipping" value="1"/><input type="hidden" name="return" value="http://freetz.org"/><input type="hidden" name="cn" value="Name oder IPPF-Pseudonym"/><input type="hidden" name="currency_code" value="EUR"/><input type="hidden" name="tax" value="0"/><input type="hidden" name="lc" value="DE"/><input type="hidden" name="bn" value="PP-DonationsBF"/><input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" alt="Zahlen Sie mit PayPal - schnell, kostenlos und sicher!"/><img alt="" border="0" src="/pixel.gif" width="1" height="1"/></form></div></p>
    </div>
  </body>
</html>