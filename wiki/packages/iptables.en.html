

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="de" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="de" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>iptables &mdash; Freetz master Dokumentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script type="text/javascript" src="../../_static/translations.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Stichwortverzeichnis" href="../../genindex.html" />
    <link rel="search" title="Suche" href="../../search.html" />
    <link rel="next" title="dnsd" href="dnsd.en.html" />
    <link rel="prev" title="Mediaserver" href="mediaserver.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Freetz
          

          
            
            <img src="../../_static/freetz.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Inhaltsverzeichnis</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../packages_tagged.html">Pakete nach Anwendungsgebieten</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Download.html">Stabile Versionen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Download.html#entwickler-versionen">Entwickler Versionen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Download.html#upload-und-statistik">Upload und Statistik</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Download.html#veraltete-versionen">Veraltete Versionen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../freetz.html">Freetz macht mehr aus der Box!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FAQ.html">Freetz-FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Impressum.html">Impressum</a></li>
<li class="toctree-l1"><a class="reference internal" href="../libs_tagged.html">Bibliotheken nach Anwendungsgebieten</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ticket.html">Was sollte ich bei der Erstellung eines neuen Tickets beachten?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../style.html">Aussehen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../packages.html">Pakete, Addons und CGI-Erweiterungen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FreetzConf2011.html">FreetzConf 2011</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patch.html">Aufbau eines Patches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patch.html#erzeugen-eines-patches">Erzeugen eines Patches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patch.html#patch-anwenden-oder-ruckgangig-machen">Patch anwenden oder rückgängig machen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patch.html#wie-finde-ich-die-zu-patchende-stelle">Wie finde ich die zu patchende Stelle?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patch.html#links">Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Press.en.html">Freetz in public press &amp; web</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patches.html">Freetz Patches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help.html">Hilfe</a></li>
<li class="toctree-l1"><a class="reference internal" href="../libs.html">Bibliotheken (libraries)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../costumscript_dublesyslog.html">Schritte zur Lösung, kann übersprungen werden…</a></li>
<li class="toctree-l1"><a class="reference internal" href="../costumscript_dublesyslog.html#also-hier-die-anleitung-zur-editierung-der-rc-costum-ueber-die-shell">Also hier die Anleitung zur Editierung der rc.costum ueber die shell:</a></li>
<li class="toctree-l1"><a class="reference internal" href="../costumscript_dublesyslog.html#weiter-durch-die-herleitung-schritte-zur-loesung-whatever">weiter durch die herleitung (schritte zur loesung, whatever)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../costumscript_dublesyslog.html#losung">…Lösung:</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kernel.html">Tree like overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Press.html">Freetz in Presse und Web</a></li>
<li class="toctree-l1"><a class="reference internal" href="../freetz.en.html">Freetz gets more from the Box!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FAQ.en.html">Freetz-FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/source_code.en.html">Source code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/source_code.html">Quellcode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patches/remove_myfritz.html">Remove MyFritz</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patches/remove_tr069.html">Remove tr069 stuff</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patches/remove_assistant.html">Remove assistant</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patches/remove_help.html">Remove help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patches/remove_usermand.html">Remove usermand &amp; userman.ko</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patches/remove_samba.html">Remove Samba daemon (smbd)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patches/signed.html">Patch Webmenu Signed Message</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patches/remove_upnp.html">Remove uPnP daemon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patches/usb_names.html">Patch USB storage names, make FAT filesystems world-writable, automount feature</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patches/remove_mediasrv.html">Remove MediaServer daemon (mediasrv)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patches/remove_dsld.html">Remove dsld</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patches/onlinechanged.html">Onlinechanged</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patches/freetzmount.html">FREETZMOUNT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patches/replace_onlinechanged.html">Replace onlinechanged</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patches/remove_capi.html">Remove CapiOverTCP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patches/exec_autorun.html">Execute autorun.sh/autoend.sh script on (un)mount</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patches/exec_autorun.html#hinweis">Hinweis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patches/maxdevcount.html">MaxDevCount</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patches/remove_minid.html">Remove minid</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patches/multpile_printers.html">FritzBox als Printserver für mehrere Drucker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patches/alarmclock.html">Patch third alarm-clock</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patches/freetzmount.en.html">FREETZMOUNT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patches/remove_vpn.html">Remove AVM vpn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patches/remove_support.html">Remove the support-files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patches/remove_ftpd.html">Remove FTP deamon (ftpd)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patches/remove_aura_usb.html">Remove aura USB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos.html">HowTos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/trouble_shooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/fritz_faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/irc.html">Intro</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/irc.html#irc-netiquette">IRC Netiquette</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/irc.html#troubleshooting-irc">Troubleshooting IRC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/irc.html#konfiguration-chatzilla-plugin-in-firefox">Konfiguration Chatzilla-Plugin in Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/wikiedit.html">Wiki Bearbeitung - Tipps und Tricks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/common.html">Allgemeines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/troubleshoot.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development.html">Development Howtos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/common/freetz_linux.html">Freetz Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/common/shutdown.html">Rechner im Netz herunterfahren</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/common/newbie.en.html">Freetz for beginners</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/common/first_trunk.html">Wie baue ich meinen ersten trunk ?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/common/install.en.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/common/install.en.html#aktualisierung">Aktualisierung</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/common/install.en.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/common/install.en.html#weiterfuhrende-links">Weiterführende Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/common/external.html">External</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/common/external.html#konfiguration">Konfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/common/external.html#auswahl">Auswahl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/common/external.html#installation">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/common/external.html#automatisches-starten-stoppen-von-diensten">Automatisches starten/stoppen von Diensten</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/common/external.html#firmware-build-prozess-und-update">Firmware-build-Prozess und Update</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/common/create_swap.html">Swap-File anlegen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/common/install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/common/install.html#aktualisierung">Aktualisierung</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/common/install.html#fehlerbehebung">Fehlerbehebung</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/common/install.html#manuelles-einspielen-des-images">Manuelles einspielen des Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/common/install.html#weiterfuhrende-links">Weiterführende Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/common/newbie.html">Erste Schritte mit Freetz</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/common/wol.html">Wake on Lan (WoL) mit der Fritzbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/common/user.html">Benutzer dauerhaft in der passwd speichern</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/common/busybox_httpd.html">Kleiner Webserver mit BusyBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/common/install/menuconfig.html">Konfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/common/newbie/other.html">Sonstige Infos für Newbie’s</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/common/newbie/errors.html">Was mache ich, wenn sich meine Box nicht Freetzen lässt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/troubleshoot/repair_phonebook.html">Kaputtes Telefonbuch reparieren</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/troubleshoot/recover_firmware.html">Original Firmware wiederherstellen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/troubleshoot/reboots.html">Häufige selbständige Reboots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/security/switch_config.html">Konfiguration des eingebauten Switches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/security/router_and_firewall.html">Freetz als interner Router mit Firewall</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/security/user_management.html">Benutzerverwaltung</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/security/split_wlan_lan.html">WLAN von LAN trennen mit iptables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/sign_image.html">Signieren von Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/sign_image.html#konkrete-anwendung-in-freetz">Konkrete Anwendung in Freetz</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/integrate_patches.html">Patches in Freetz einspielen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/bandwidth_svg.html">Dynamische Bandbreitenanzeige per SVG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/create_cross-compiler_toolchain.html">Cross-Compiler / Toolchain erstellen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/create_cross-compiler_toolchain.html#eigene-download-toolchain-erstellen">Eigene Download-Toolchain erstellen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/create_cross-compiler_toolchain.html#target-native-compiler-toolchain-erstellen">Target/Native-Compiler-Toolchain erstellen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/release_management.html">Release Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/package_creation.html">Wie baue ich ein eigenes Paket für Freetz?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/save_mtd_2.html">Flash-Partitionen von außen mit FTP sichern</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/developer_information.html">Developer Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/create_gui.html">Erstellen einer GUI für Pakete in Freetz</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/manipulation_detection.html">Wie die FritzBox Manipulationen erkennt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/freetz_make.html">Freetz Build-Prozeß</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/urlader_flags.html">Einstellungen speichern im Urlader-Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/flash.html">Flash Partitionierung</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/firmware_update_details.html">Ablauf eines Firmware-Updates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/repack_fw.html">Entpacken und Packen von Firmware-Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/install_addon.html">Addon Paket installieren</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/make_busybox.html">Busybox konfigurieren und kompilieren</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/adam2.html">ADAM2-Bootloader</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/save_mtd_1.html">Flash-Partitionen im laufenden Betrieb sichern</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/integrate_own_files.html">Eigene Dateien in die Firmware integrieren</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/analyse_image_names.html">Firmware-Image-Namen analysieren und interpretieren</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/menuconfig.html">Menükonfiguration pflegen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/compile_own_progs.html">Eigene Programme kompilieren</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/make_kernel.html">Kernel konfigurieren und kompilieren</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/make_room.html">Platz sparen im Dateisystem der FritzBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/developer_information/package_development.html">Package Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/developer_information/post_commit_hook.html">Trac Hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/developer_information/shell_coding_conventions.html">Shell Coding Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/developer_information/package_development_advanced.html">Package Developing - Advanced Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/developer_information/package_development_dynamic.html">Paketverwaltung für Freetz</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/developer_information/package_development_start.html">First steps - How to start your first freetz package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/developer_information/package_development_start/example_2.html">Example 2: par2cmdline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/developer_information/package_development_start/example_1.html">Example 1: Httptunnel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/developer_information/package_development_start/.language.html">.language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/developer_information/package_development_start/webinterface_example_1.html">Web-interface HTTPTunnel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/developer_information/package_development_start/example_3.html">Example 3: NZBGet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/howtos/development/developer_information/webif/libmodcgi.html">libmodcgi.sh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/wikiedit/screenshots.html">Screenshots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/wikiedit/toc.html">Inhaltsverzeichnis erstellen (lassen)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/wikiedit/tagging.html">Tagging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/wikiedit/tables.html">Tabellen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/wikiedit/formatting_guide.html">Formatierungs-Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/wikiedit/goodies.html">Wiki Goodies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../style/tagging.html">Tagging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../style/skins.html">Skins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../style/favicons.html">Favicons</a></li>
<li class="toctree-l1"><a class="reference internal" href="../style/mounted.html">Aussehen von mounted.cgi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../libs/ftdi.html">ftdi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../libs/ftdi.en.html">libftdi</a></li>
<li class="toctree-l1"><a class="reference internal" href="bridge-utils.html">bridge-utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="sispmctl.html">sispmctl</a></li>
<li class="toctree-l1"><a class="reference internal" href="empty.html">Empty</a></li>
<li class="toctree-l1"><a class="reference internal" href="apache.html">Apache Webserver mit PHP CGI</a></li>
<li class="toctree-l1"><a class="reference internal" href="polipo.en.html">Using with Tor</a></li>
<li class="toctree-l1"><a class="reference internal" href="polipo.en.html#using-at-your-office">Using at your office</a></li>
<li class="toctree-l1"><a class="reference internal" href="polipo.en.html#security">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="polipo.en.html#blocking-domains">Blocking domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="polipo.en.html#issues">Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="polipo.en.html#links">Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="autofs.html">autofs</a></li>
<li class="toctree-l1"><a class="reference internal" href="strace.html">strace</a></li>
<li class="toctree-l1"><a class="reference internal" href="syslogd.html">Syslogd</a></li>
<li class="toctree-l1"><a class="reference internal" href="lsof.html">lsof</a></li>
<li class="toctree-l1"><a class="reference internal" href="dns2tcp.html">Dns2Tcp</a></li>
<li class="toctree-l1"><a class="reference internal" href="tinyproxy.html">Tinyproxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="davfs2.html">WebDAV mit davfs2</a></li>
<li class="toctree-l1"><a class="reference internal" href="s3fslite.html">s3fslite</a></li>
<li class="toctree-l1"><a class="reference internal" href="dropbear.en.html">Dropbear</a></li>
<li class="toctree-l1"><a class="reference internal" href="ctorrent.html">CTorrent</a></li>
<li class="toctree-l1"><a class="reference internal" href="irssi.html">irssi</a></li>
<li class="toctree-l1"><a class="reference internal" href="hplip.html">HPLIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="lighttpd.html">lighttpd Webserver</a></li>
<li class="toctree-l1"><a class="reference internal" href="privoxy.html">Privoxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="radvd.en.html">RADVD</a></li>
<li class="toctree-l1"><a class="reference internal" href="usbroot.html">USB-Root</a></li>
<li class="toctree-l1"><a class="reference internal" href="vim.html">vim</a></li>
<li class="toctree-l1"><a class="reference internal" href="bluez-utils.html">Bluez-Utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="sane-backends.html">SANE</a></li>
<li class="toctree-l1"><a class="reference internal" href="usbip.html">USB/IP</a></li>
<li class="toctree-l1"><a class="reference internal" href="dropbear.html">Dropbear</a></li>
<li class="toctree-l1"><a class="reference internal" href="iptables-cgi.html">iptables-cgi</a></li>
<li class="toctree-l1"><a class="reference internal" href="hd-idle.html">hd-idle</a></li>
<li class="toctree-l1"><a class="reference internal" href="fhem.html">FHEM</a></li>
<li class="toctree-l1"><a class="reference internal" href="igmpproxy.html">igmpproxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="usbutils.html">usbutils</a></li>
<li class="toctree-l1"><a class="reference internal" href="inotify-tools.html">Inotify-Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="authorized-keys.en.html">authorized-keys</a></li>
<li class="toctree-l1"><a class="reference internal" href="rrdstats.html">RRDstats</a></li>
<li class="toctree-l1"><a class="reference internal" href="mcabber.html">mcabber</a></li>
<li class="toctree-l1"><a class="reference internal" href="dtmfbox.html">DTMFBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="nfsd.en.html">NFSD_CGI</a></li>
<li class="toctree-l1"><a class="reference internal" href="espeak.html">eSpeak</a></li>
<li class="toctree-l1"><a class="reference internal" href="dnsd.html">dnsd</a></li>
<li class="toctree-l1"><a class="reference internal" href="tor.html">Tor Proxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="spindown.html">Spindown</a></li>
<li class="toctree-l1"><a class="reference internal" href="ncftp.html">ncftp</a></li>
<li class="toctree-l1"><a class="reference internal" href="lynx.html">Lynx</a></li>
<li class="toctree-l1"><a class="reference internal" href="smstools3.html">SMStools3</a></li>
<li class="toctree-l1"><a class="reference internal" href="smstools3.html#weiteres">Weiteres</a></li>
<li class="toctree-l1"><a class="reference internal" href="debootstrap.html">Debootstrap</a></li>
<li class="toctree-l1"><a class="reference internal" href="ppp.html">ppp-cgi</a></li>
<li class="toctree-l1"><a class="reference internal" href="ppp.html#allgemeine-konfiguration">Allgemeine Konfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="ppp.html#konfiguration-fur-umts">Konfiguration für UMTS</a></li>
<li class="toctree-l1"><a class="reference internal" href="ppp.html#namensauflosung">Namensauflösung</a></li>
<li class="toctree-l1"><a class="reference internal" href="ppp.html#firewall-routing-nat">Firewall, Routing &amp; NAT</a></li>
<li class="toctree-l1"><a class="reference internal" href="ppp.html#fallback">Fallback</a></li>
<li class="toctree-l1"><a class="reference internal" href="ppp.html#treiberprobleme">Treiberprobleme</a></li>
<li class="toctree-l1"><a class="reference internal" href="ppp.html#was-ist-noch-zu-beachten-2do-liste">Was ist noch zu beachten? (2do-Liste)</a></li>
<li class="toctree-l1"><a class="reference internal" href="ppp.html#weiteres">Weiteres</a></li>
<li class="toctree-l1"><a class="reference internal" href="xmail.html">Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="sundtek.html">Sundtek DVB Treiber</a></li>
<li class="toctree-l1"><a class="reference internal" href="iptables.html">iptables</a></li>
<li class="toctree-l1"><a class="reference internal" href="iptables.html#altere-beitrage-betreffen-fritzboxen-vor-der-72xx-serie">Ältere Beiträge (betreffen FritzBoxen vor der 72xx Serie)</a></li>
<li class="toctree-l1"><a class="reference internal" href="subversion.html">Subversion</a></li>
<li class="toctree-l1"><a class="reference internal" href="dtach.html">dtach</a></li>
<li class="toctree-l1"><a class="reference internal" href="vsftpd.html">VSFTPd</a></li>
<li class="toctree-l1"><a class="reference internal" href="ziproxy.html">ziproxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="ntfs-3g.html">NTFS-3G</a></li>
<li class="toctree-l1"><a class="reference internal" href="ruby.html">Ruby</a></li>
<li class="toctree-l1"><a class="reference internal" href="aiccu.html">Aiccu</a></li>
<li class="toctree-l1"><a class="reference internal" href="mc.html">Midnight Commander</a></li>
<li class="toctree-l1"><a class="reference internal" href="nfs.html">NFS</a></li>
<li class="toctree-l1"><a class="reference internal" href="streamripper.html">Streamripper</a></li>
<li class="toctree-l1"><a class="reference internal" href="htpdate.html">htpdate</a></li>
<li class="toctree-l1"><a class="reference internal" href="lua.html">Lua</a></li>
<li class="toctree-l1"><a class="reference internal" href="emailrelay.html">E-MailRelay</a></li>
<li class="toctree-l1"><a class="reference internal" href="madplay.html">madplay</a></li>
<li class="toctree-l1"><a class="reference internal" href="nhipt.html">NHIPT - iptables firewall GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="netsnmp.html">Net-SNMP</a></li>
<li class="toctree-l1"><a class="reference internal" href="transmission.en.html">Blocklist</a></li>
<li class="toctree-l1"><a class="reference internal" href="transmission.en.html#number-of-peers">Number of peers</a></li>
<li class="toctree-l1"><a class="reference internal" href="transmission.en.html#memory-usage">Memory usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="transmission.en.html#limit-memory-usage">Limit memory usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="transmission.en.html#watchdog">Watchdog</a></li>
<li class="toctree-l1"><a class="reference internal" href="transmission.en.html#links">Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="imapproxy.en.html">ImapProxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="fuse.html">FUSE</a></li>
<li class="toctree-l1"><a class="reference internal" href="hiawatha.html">hiawatha</a></li>
<li class="toctree-l1"><a class="reference internal" href="cifsmount.html">cifsmount</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrixtunnel.html">matrixtunnel</a></li>
<li class="toctree-l1"><a class="reference internal" href="ndas.en.html">NDAS</a></li>
<li class="toctree-l1"><a class="reference internal" href="nfs-utils.html">NFS-Utils / NFS-Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="vpnc.html">vpnc</a></li>
<li class="toctree-l1"><a class="reference internal" href="haserl.html">Haserl</a></li>
<li class="toctree-l1"><a class="reference internal" href="obexftp.html">ObexFTP</a></li>
<li class="toctree-l1"><a class="reference internal" href="nmap.html">Nmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="httptunnel.html">httptunnel</a></li>
<li class="toctree-l1"><a class="reference internal" href="onlinechanged.html">Onlinechanged</a></li>
<li class="toctree-l1"><a class="reference internal" href="mini_fo.html">mini_fo</a></li>
<li class="toctree-l1"><a class="reference internal" href="mini_fo.html#konfiguration-webinterface">Konfiguration (Webinterface)</a></li>
<li class="toctree-l1"><a class="reference internal" href="mini_fo.html#konfiguration-per-hand">Konfiguration (per Hand)</a></li>
<li class="toctree-l1"><a class="reference internal" href="mini_fo.html#mogliche-nebeneffekte">Mögliche Nebeneffekte</a></li>
<li class="toctree-l1"><a class="reference internal" href="mini_fo.html#restore-original-file">Restore original file</a></li>
<li class="toctree-l1"><a class="reference internal" href="mini_fo.html#siehe-auch">Siehe auch</a></li>
<li class="toctree-l1"><a class="reference internal" href="pingtunnel.html">pingtunnel</a></li>
<li class="toctree-l1"><a class="reference internal" href="tcp_wrappers.html">TCP Wrapper</a></li>
<li class="toctree-l1"><a class="reference internal" href="netsnmp.en.html">Net-SNMP</a></li>
<li class="toctree-l1"><a class="reference internal" href="netsnmp.en.html#mrtg">MRTG</a></li>
<li class="toctree-l1"><a class="reference internal" href="wol.html">Wake on LAN (WoL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="cpmaccfg.html">cpmaccfg</a></li>
<li class="toctree-l1"><a class="reference internal" href="cpmaccfg.html#cpmaccfg-cgi">cpmaccfg-cgi</a></li>
<li class="toctree-l1"><a class="reference internal" href="syslogd.en.html">Syslog</a></li>
<li class="toctree-l1"><a class="reference internal" href="checkmaild.html">checkmaild 0.4.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="portmap.html">portmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitemp.html"><strong>Was ist digitemp?</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="digitemp.html#wichtiger-hinweis">Wichtiger Hinweis</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitemp.html#tipp-bei-verwendung-mehrerer-usb-rs232-adapter-an-einer-fritzbox">Tipp bei Verwendung mehrerer USB-RS232-Adapter an einer Fritzbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitemp.html#datenbank">Datenbank</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitemp.html#weiterfuhrende-links">Weiterführende Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloader.html">Downloader-CGI</a></li>
<li class="toctree-l1"><a class="reference internal" href="bip.html">BIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="fortune.html">fortune</a></li>
<li class="toctree-l1"><a class="reference internal" href="xrelayd.html">xrelayd</a></li>
<li class="toctree-l1"><a class="reference internal" href="tinc.html">Tinc</a></li>
<li class="toctree-l1"><a class="reference internal" href="bird.html">Bird</a></li>
<li class="toctree-l1"><a class="reference internal" href="onlinechanged_cgi.html">Onlinechanged-CGI</a></li>
<li class="toctree-l1"><a class="reference internal" href="php.html">PHP</a></li>
<li class="toctree-l1"><a class="reference internal" href="pptp.html">PPTP Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="mediatomb.html">MediaTomb</a></li>
<li class="toctree-l1"><a class="reference internal" href="inetd.html">inetd</a></li>
<li class="toctree-l1"><a class="reference internal" href="owfs.html">owfs</a></li>
<li class="toctree-l1"><a class="reference internal" href="unbound.html">Unbound</a></li>
<li class="toctree-l1"><a class="reference internal" href="fstyp.html">fstyp</a></li>
<li class="toctree-l1"><a class="reference internal" href="prosody.en.html">Prosody IM</a></li>
<li class="toctree-l1"><a class="reference internal" href="bftpd.html">Bftpd</a></li>
<li class="toctree-l1"><a class="reference internal" href="mod.html">(Freetz-) MOD</a></li>
<li class="toctree-l1"><a class="reference internal" href="br2684ctl.en.html">br2684ctl</a></li>
<li class="toctree-l1"><a class="reference internal" href="deco.html">Demos Commander</a></li>
<li class="toctree-l1"><a class="reference internal" href="trickle.html">trickle</a></li>
<li class="toctree-l1"><a class="reference internal" href="radvd.html">Radvd</a></li>
<li class="toctree-l1"><a class="reference internal" href="opendd.html">OpenDD</a></li>
<li class="toctree-l1"><a class="reference internal" href="pptpd.html">PoPTop - PPTP-VPN-Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="mediaserver.html">Mediaserver</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">iptables</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#current-state-largely-broken">Current state (largely broken)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-is-iptables-and-who-needs-it">What is iptables and who needs it?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-is-the-difference-between-avm-firewall-and-iptables-can-they-co-exist-on-the-same-system">What is the difference between AVM Firewall and iptables, can they co-exist on the same system?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-build-iptables-for-freetz">How to build iptables for Freetz?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#configuration-after-successful-firmware-build-and-upload">Configuration: After successful firmware build and upload</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hints-regarding-fritzbox-7270">Hints regarding FritzBox 7270:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#what-is-the-difference-of-input-output-and-forward-chains">What is the difference of INPUT, OUTPUT and FORWARD chains</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hints-regarding-the-example-code">Hints regarding the example code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#isolate-guest-network-from-lan">Isolate guest network from LAN</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#more-links">More Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="#questions">Questions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dnsd.en.html">dnsd</a></li>
<li class="toctree-l1"><a class="reference internal" href="hp-utils.html">hp-utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="screen.html">screen</a></li>
<li class="toctree-l1"><a class="reference internal" href="ndas.html">1. Using NDAS driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="ndas.html#using-ndas-harddisk-array">2. Using NDAS harddisk array</a></li>
<li class="toctree-l1"><a class="reference internal" href="ndas.html#share-the-data-files-on-the-ndas-hard-disks">3. Share the data/files on the NDAS hard disks</a></li>
<li class="toctree-l1"><a class="reference internal" href="ndas.html#ndas-robustnes">4. NDAS robustnes?</a></li>
<li class="toctree-l1"><a class="reference internal" href="ndas.html#referenzen">Referenzen</a></li>
<li class="toctree-l1"><a class="reference internal" href="dnsmasq.html">dnsmasq</a></li>
<li class="toctree-l1"><a class="reference internal" href="wget.html">wget</a></li>
<li class="toctree-l1"><a class="reference internal" href="e2fsprogs.html">e2fsprogs</a></li>
<li class="toctree-l1"><a class="reference internal" href="bind.html">bind</a></li>
<li class="toctree-l1"><a class="reference internal" href="tcpdump.html">tcpdump</a></li>
<li class="toctree-l1"><a class="reference internal" href="gw6.html">gw6</a></li>
<li class="toctree-l1"><a class="reference internal" href="nhipt.en.html">NHIPT - iptables firewall GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="openntpd.html">OpenNTPD</a></li>
<li class="toctree-l1"><a class="reference internal" href="rudi-shell.html">Rudi-Shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="nano.html">nano</a></li>
<li class="toctree-l1"><a class="reference internal" href="nfsd.html">NFSD_CGI</a></li>
<li class="toctree-l1"><a class="reference internal" href="stunnel.html">Stunnel</a></li>
<li class="toctree-l1"><a class="reference internal" href="rrdtool.html">RRDTool</a></li>
<li class="toctree-l1"><a class="reference internal" href="ldd.html">ldd</a></li>
<li class="toctree-l1"><a class="reference internal" href="prosody.html">Prosody IM</a></li>
<li class="toctree-l1"><a class="reference internal" href="fhzctrl.html">fhzctrl</a></li>
<li class="toctree-l1"><a class="reference internal" href="aiccu.en.html">AICCU</a></li>
<li class="toctree-l1"><a class="reference internal" href="authorized-keys.html">authorized_keys</a></li>
<li class="toctree-l1"><a class="reference internal" href="pciutils.html">pciutils</a></li>
<li class="toctree-l1"><a class="reference internal" href="vtund.html">VTUN freetz Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="fritzload.html">FritzLoad</a></li>
<li class="toctree-l1"><a class="reference internal" href="jamvm.html">JamVM</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor.html">Callmonitor</a></li>
<li class="toctree-l1"><a class="reference internal" href="br2684ctl.html">br2684ctl</a></li>
<li class="toctree-l1"><a class="reference internal" href="netcat.html">netcat</a></li>
<li class="toctree-l1"><a class="reference internal" href="quagga.html">Quagga</a></li>
<li class="toctree-l1"><a class="reference internal" href="samba.html">Samba</a></li>
<li class="toctree-l1"><a class="reference internal" href="iodine.html">iodine</a></li>
<li class="toctree-l1"><a class="reference internal" href="nagios.html">Nagios</a></li>
<li class="toctree-l1"><a class="reference internal" href="smartmontools.html">Smartmontools (smartctl)</a></li>
<li class="toctree-l1"><a class="reference internal" href="mtr.html">mtr</a></li>
<li class="toctree-l1"><a class="reference internal" href="avm-firewall.html">AVM-firewall-cgi</a></li>
<li class="toctree-l1"><a class="reference internal" href="bash.html">Bash</a></li>
<li class="toctree-l1"><a class="reference internal" href="bash.html#ash">Ash</a></li>
<li class="toctree-l1"><a class="reference internal" href="bash.html#bash-als-loginshell">Bash als Loginshell</a></li>
<li class="toctree-l1"><a class="reference internal" href="asterisk.html">Asterisk</a></li>
<li class="toctree-l1"><a class="reference internal" href="microperl.html">microperl</a></li>
<li class="toctree-l1"><a class="reference internal" href="nano-shell.html">Nano-Shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="m-i-t.html">module-init-tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="minidlna.html">MiniDLNA</a></li>
<li class="toctree-l1"><a class="reference internal" href="inadyn-mt.html">Inadyn-MT</a></li>
<li class="toctree-l1"><a class="reference internal" href="bluez.html">BlueZ 4.x</a></li>
<li class="toctree-l1"><a class="reference internal" href="DemoPackageA.html">DemoPackageA „Hello World“</a></li>
<li class="toctree-l1"><a class="reference internal" href="DemoPackageA.html#quellen">Quellen</a></li>
<li class="toctree-l1"><a class="reference internal" href="openvpn.html">OpenVPN freetz Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="knock.html">knockd</a></li>
<li class="toctree-l1"><a class="reference internal" href="ltrace.html">ltrace</a></li>
<li class="toctree-l1"><a class="reference internal" href="curl.html">cURL</a></li>
<li class="toctree-l1"><a class="reference internal" href="inadyn-mt.en.html">Inadyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="virtualip.html">Virtual IP</a></li>
<li class="toctree-l1"><a class="reference internal" href="socat.html">socat</a></li>
<li class="toctree-l1"><a class="reference internal" href="transmission.html">Transmission</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/config.html">Konfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/reverse_search.html">Rückwärtssuche</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/phonebook.html">Telefonbuch (Callers)</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/maintenance.html">Wartung</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/adapt_messages.html">Anpassen der Benachrichtigungstexte</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/actions.html">Aktionen</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/listeners.html">Regeln (Listeners)</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/testcall.html">Testanruf</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/faq.html">Callmonitor-FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/events.html">Ereignisse</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/actions/config.html">FritzBox-Konfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/actions/config.html#alternative">Alternative</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/actions/call.html">Allgemeine Hinweise zu Funktionsaufrufen</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/actions/relook.html">DGStation Relook 400S</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/actions/rawmsg.html">Einfache TCP-Verbindungen (rawmsg)</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/actions/snarl.html">Listener-Eintrag:</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/actions/snarl.html#screenshots">Screenshots:</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/actions/dbox.html">DBox2</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/actions/xbox.html">XBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/actions/getmsg.html">HTTP-Requests (getmsg)</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/actions/mail.html">E-Mail-Benachrichtigung</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/actions/samsung.html">Benachrichtigung auf einem Samsung TV</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/actions/self-defined.html">Selbstdefinierte Aktionen</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/actions/wol.html">Wake on LAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/actions/yac.html">YAC</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/actions/dial.html">Wählhilfe</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/actions/vdr.html">VDR</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/actions/dreambox.html">DreamBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/actions/password.html">Benutzernamen und Passwörter</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/actions/musicpal.html">Freecom MusicPal</a></li>
<li class="toctree-l1"><a class="reference internal" href="callmonitor/actions/soundbridge.html">Roku SoundBridge</a></li>
<li class="toctree-l1"><a class="reference internal" href="netsnmp/mrtg.en.html">MRTG</a></li>
<li class="toctree-l1"><a class="reference internal" href="pptpd/config.html">Konfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="pptpd/webif.html">Das Web-Frontend zum Paket</a></li>
<li class="toctree-l1"><a class="reference internal" href="pptpd/install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="rudi-shell/tips.html">Tips &amp; Tricks</a></li>
<li class="toctree-l1"><a class="reference internal" href="rudi-shell/limits.html">Grenzen &amp; Einschränkungen</a></li>
<li class="toctree-l1"><a class="reference internal" href="rudi-shell/install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="rudi-shell/usage.html">Illustrierte Anwendungsfälle</a></li>
<li class="toctree-l1"><a class="reference internal" href="rudi-shell/functions.html">Funktionsweise</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Freetz</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>iptables</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/wiki/packages/iptables.en.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="iptables">
<h1>iptables<a class="headerlink" href="#iptables" title="Link zu dieser Überschrift">¶</a></h1>
<div class="section" id="current-state-largely-broken">
<span id="currentstatelargelybroken"></span><h2>Current state (largely broken)<a class="headerlink" href="#current-state-largely-broken" title="Link zu dieser Überschrift">¶</a></h2>
<div class="line-block">
<div class="line">For the 7390 and later, but also for the 7270 with releases from the
last years, iptables doesn’t work with ‚connection tracking‘ and
‚state matching‘.</div>
<div class="line">Without these two options a lot of configuration scenarios are not
possible. If you look for an iptables/ip6tables solution without the
use of connection tracking or state matching you can try to add ip
tables form the Freetz menu configuration (make menuconfig), but read
on for additional information.</div>
</div>
<div class="line-block">
<div class="line">What I understood the reason for connection tracking &amp; state matching
not working is two fold.</div>
<div class="line">For connection tracking and state matching specifically, AVM has its
own connection tracking solution, which uses the same symbol names,
causing a conflict with the iptables modules. Secondly the behavior of
Packet Acceleration (PA) causes packets not to be handled by the
kernel, but by the PA kernel module
(<a class="reference external" href="http://www.wehavemorefun.de/fritzbox/Avm_pa.ko">​Avm_pa.ko</a>).
Packet Acceleration is a feature that AVM introduced years back (end
2011).</div>
</div>
<div class="line-block">
<div class="line">An reason not to use an older firmware for e.g. the 7270 is a
significant vulnerability that was publically misused around February
2014 (<a class="reference external" href="https://www.heise.de/newsticker/meldung/Angriffe-auf-Fritzboxen-AVM-empfiehlt-Abschaltung-der-Fernkonfiguration-2106542.html">​vulnerability
info</a>).
AVM released firmware fixes for most boxes.</div>
</div>
</div>
<div class="section" id="what-is-iptables-and-who-needs-it">
<span id="whatisiptablesandwhoneedsit"></span><h2>What is iptables and who needs it?<a class="headerlink" href="#what-is-iptables-and-who-needs-it" title="Link zu dieser Überschrift">¶</a></h2>
<div class="line-block">
<div class="line"><strong>iptables</strong> is a command line user interface for managing and
configuring the built-in Linux kernel netfilter firewall.</div>
</div>
<div class="line-block">
<div class="line">It targets users, who want to achieve full control over their network
traffic and efficiently protect their private networks from Internet
hacker attacks and spy-ware.</div>
</div>
<p>Properly configured, the iptables / netfilter package on the FritzBox
router protects all devices behind from unwanted access. This filter is
able to check, dump, forward, prioritize or manipulate network packages
and implement a border line defense against DoS attacks, port scans and
unwanted traffic. It can e.g. stop „home calling“ of installed software
packages etc. This package leverages the FritzBox hardware to a
feature-rich, powerful Firewall solution, comparable to expensive
professional business grade devices.</p>
<p>The basic netfilter filter engine is built-in into the Linux kernel -
this has implications to the different FritzBox types since the 72xx
boxes all have a more recent kernel than the 71xx variants. So some
features of iptables are only available in the newer 7270.</p>
<ul class="simple">
<li>the older boxes (71xx) have issues with the conntrack module (limited
RAM and the old Linux kernel leads to Memory overflows of the
tracking tables resulting in unexpected reboots of the box)</li>
<li>There is no Web UI for iptables on the 7270 yet.</li>
<li>7270 has more RAM and a more recent kernel - conntrack works great
(conntrack = connection tracking module, implements stateful firewall
package rules, e.g. for ftp, VoIP, etc.)</li>
<li>some syntax of iptables commands / abilities differ between 71xx and
7270 boxes.</li>
<li>the command / abilities depend on loaded modules (iptables is a
modular system!), some error messages result from missing / not yet
loaded modules.</li>
</ul>
</div>
<div class="section" id="what-is-the-difference-between-avm-firewall-and-iptables-can-they-co-exist-on-the-same-system">
<span id="whatisthedifferencebetweenavmfirewallandiptablescantheyco-existonthesamesystem"></span><h2>What is the difference between AVM Firewall and iptables, can they co-exist on the same system?<a class="headerlink" href="#what-is-the-difference-between-avm-firewall-and-iptables-can-they-co-exist-on-the-same-system" title="Link zu dieser Überschrift">¶</a></h2>
<ul class="simple">
<li>The <a class="reference external" href="avm-firewall.html">AVM Firewall</a> is an integrated part of the
<strong>dsld</strong> from AVM (dsl daemon). It „sits“ on the DSL interface and
controls exclusively the traffic trough this interface. The abilities
include connection tracking (stateful), port forwarding, traffic
shaping and packet filtering. After passing the dsld module, the data
packages arrive at the internal interface and are distributed to the
box and their interfaces without further control. The default input /
output rules are set to PERMIT, anything is allowed, what is not
blocked by a specific rule. There are only few rules set to block
some NetBIOS ports and a known virus port. Inbound traffic is
protected by NAT (network address translation) only, only packages
requested from inside (connection tracking) or set by port forwarding
rules can be translated to the destination private (RFC) IP address
range. However this is a week protection, many ports are open by
default (VoIP, TR064 / TR069 …), the dsld is a piece of proprietary
undocumented software of AVM, no source code is available, many
multimedia ports are open, also remote management via tr069/tr064 is
by default open to the ISPs, what is a potential vulnerability.
Logging is not implemented.</li>
<li>iptables based firewalls are deeply integrated into lowest layers of
the Linux kernel. They control any network traffic from / to or
through the box. They are the ultimate protection of the box from
unwanted access both from outside and LAN traffic. Using iptables one
can implement powerful DMZ security zones, protection against DoS
attacks and port scans, and even a deep-inspection of data packages
is possible. Beside this, one can define rules for virtual
interfaces, control VPN tunnel traffic and create source /
destination NAT rules for virtual hosts. Iptables / netfilter is a
powerful, state-of-the-art Open Source firewall - and last but not
least it can log the traffic by rules!</li>
<li>Both firewall solutions act on completely different areas (AVM FW is
completely encapsulated in the dsld module, iptables/netfilter is
integrated in the OS kernel), so they and their rules are independent
from each other, beside the fact, that the (external) traffic is
serialized and must bypass both: that means a ALLOW rule of the one
cannot bypass a DENY/REJECT rule of the other, both must be
configured to allow the desired traffic. Here some pass-trough
examples:</li>
</ul>
<blockquote>
<div><div class="line-block">
<div class="line">Traffic targeting the FritzBox:</div>
<div class="line"><strong>DSL &lt; — &gt; AVM Firewall (NAT) &lt; — &gt; iptables Firewall &lt; — &gt;
(FritzBox) &lt; — &gt; iptables Firewall &lt; — &gt; LAN / WLAN</strong></div>
</div>
<div class="line-block">
<div class="line">Traffic between the Internet and LAN interfaces:</div>
<div class="line"><strong>DSL &lt; — &gt; AVM Firewall (NAT) &lt; — &gt; iptables Firewall &lt; — &gt; LAN
/ WLAN</strong></div>
</div>
</div></blockquote>
<blockquote>
<div><div class="line-block">
<div class="line">DMZ or VPN Tunnel traffic to LAN/WLAN :</div>
<div class="line"><strong>DMZ / Tunnel Interfaces &lt; — &gt; iptables Firewall &lt; — &gt; LAN /
WLAN</strong></div>
</div>
</div></blockquote>
<ul class="simple">
<li>Because AVM FW controls the dsl modem, one cannot completely remove
it without a replacement while operating the box as a DSL router.</li>
<li>Both firewalls can operate side-by-side without any issues, one has
to consider, that both need to be configured to allow desired traffic
(serialization)</li>
<li>Because they are „cascaded“, one can benefit from increased security:
a hacker must bypass 2 independent firewall solutions to gain access
to the box and devices behind.</li>
<li>Even ISP operators are using the „backdoor“ configuration
capabilities of tr064/tr069 protocol have no chance to access the
router and devices behind protected by well-configured iptables
rules.</li>
<li>The best-practise configuration / strongest protection can be
achieved by applying rigorous traffic rules on both firewalls and
allowing only necessary traffic.</li>
</ul>
</div>
<div class="section" id="how-to-build-iptables-for-freetz">
<span id="howtobuildiptablesforfreetz"></span><h2>How to build iptables for Freetz?<a class="headerlink" href="#how-to-build-iptables-for-freetz" title="Link zu dieser Überschrift">¶</a></h2>
<ul class="simple">
<li>select iptables <strong>and</strong> all needed modules using <a class="reference external" href="../help/howtos/common/install/menuconfig.html">make
menuconfig</a> while
building the firmware (unstable branch)</li>
<li>not listed modules (e.g. ULOG target) can be added after
reconfiguring and replacing the kernel <a class="reference external" href="../help/howtos/development/make_kernel.html">replace
kernel</a> / <strong>make
kernelconfig</strong> (for experienced developers only!)</li>
<li>the availability of the modules depends on the kernel version and
configured kernel options.</li>
</ul>
<div class="section" id="configuration-after-successful-firmware-build-and-upload">
<span id="configuration-aftersuccessfulfirmwarebuildandupload"></span><h3>Configuration: After successful firmware build and upload<a class="headerlink" href="#configuration-after-successful-firmware-build-and-upload" title="Link zu dieser Überschrift">¶</a></h3>
<ul class="simple">
<li>first of all: it is recommended to test the rules interactively using
ssh or telnet.</li>
<li>before one can start defining rules, the modules have to be loaded by
<strong>modprobe</strong> into the RAM.</li>
</ul>
<div class="line-block">
<div class="line">Here an example script to load the necessary modules for the rules
described in this wiki:</div>
</div>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># the most common modules needed:</span>
<span class="n">modprobe</span> <span class="n">ip_tables</span>
<span class="n">modprobe</span> <span class="n">iptable_filter</span>
<span class="n">modprobe</span> <span class="n">x_tables</span>
<span class="n">modprobe</span> <span class="n">xt_tcpudp</span>

<span class="c1"># Alternative LOG und REJECT targets:</span>
<span class="n">modprobe</span> <span class="n">ipt_LOG</span>
<span class="n">modprobe</span> <span class="n">ipt_REJECT</span>

<span class="c1"># if one wants to use ip ranges in the rules:</span>
<span class="n">modprobe</span> <span class="n">ipt_iprange</span>

<span class="c1"># same for port ranges:</span>
<span class="n">modprobe</span> <span class="n">xt_multiport</span>

<span class="c1"># for stateful firewall rules (conntrack):</span>
<span class="n">modprobe</span> <span class="n">xt_state</span>
<span class="n">modprobe</span> <span class="n">xt_conntrack</span>
<span class="n">modprobe</span> <span class="n">ip_conntrack</span>
<span class="n">modprobe</span> <span class="n">ip_conntrack_ftp</span>
<span class="n">modprobe</span> <span class="n">ip_conntrack_tftp</span>
</pre></div>
</div>
<ul class="simple">
<li>After registering / loading the modules we can start defining rules
(here some rules for a strong basic protection):</li>
</ul>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># # # FIREWALL RULES</span>

<span class="n">iptables</span> <span class="o">-</span><span class="n">N</span> <span class="n">TRANS</span>
<span class="c1"># Outbound for surfing the Internet:</span>
<span class="c1"># 20 FTP data, 21 FTP, 22 SSH, 25 SMTP, 80 HTTP, 110 POP3, 443 HTTPS, 465 SSMTP, 995 POP3S, 5060 VoIP</span>
<span class="c1"># 53 DNS, 67/68 DHCP, 80 HTTP, 123 NTP, 5060 VoIP</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">TRANS</span> <span class="o">-</span><span class="n">p</span> <span class="n">tcp</span>  <span class="o">-</span><span class="n">s</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">0.0</span><span class="o">/</span><span class="mi">24</span> <span class="o">-</span><span class="n">m</span> <span class="n">multiport</span> <span class="o">--</span><span class="n">dport</span> <span class="mi">20</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">110</span><span class="p">,</span><span class="mi">443</span><span class="p">,</span><span class="mi">465</span><span class="p">,</span><span class="mi">995</span><span class="p">,</span><span class="mi">5060</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">TRANS</span> <span class="o">-</span><span class="n">p</span> <span class="n">udp</span>  <span class="o">-</span><span class="n">s</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">0.0</span><span class="o">/</span><span class="mi">24</span> <span class="o">-</span><span class="n">m</span> <span class="n">multiport</span> <span class="o">--</span><span class="n">dport</span> <span class="mi">53</span><span class="p">,</span><span class="mi">67</span><span class="p">,</span><span class="mi">68</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">123</span><span class="p">,</span><span class="mi">5060</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">TRANS</span> <span class="o">-</span><span class="n">p</span> <span class="n">icmp</span> <span class="o">-</span><span class="n">s</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">0.0</span><span class="o">/</span><span class="mi">24</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>

<span class="c1"># conntrack rules for returning data packages:</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">TRANS</span> <span class="o">-</span><span class="n">m</span> <span class="n">state</span> <span class="o">--</span><span class="n">state</span> <span class="n">RELATED</span><span class="p">,</span><span class="n">ESTABLISHED</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>

<span class="c1"># ... Some rules for known hosts</span>
<span class="c1"># ...</span>

<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">TRANS</span> <span class="o">-</span><span class="n">j</span> <span class="n">LOG</span> <span class="o">--</span><span class="n">log</span><span class="o">-</span><span class="n">prefix</span> <span class="s2">&quot;[IPT] DENY-LAN-ACCESS &quot;</span>          <span class="c1"># log all dropped packets</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">TRANS</span> <span class="o">-</span><span class="n">j</span> <span class="n">DROP</span>                                               <span class="c1"># PARANOIA LINK</span>

<span class="c1"># # # Rules for Fritz Device</span>

<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">INPUT</span> <span class="o">-</span><span class="n">p</span> <span class="n">udp</span> <span class="o">-</span><span class="n">s</span> <span class="mf">0.0</span><span class="o">.</span><span class="mf">0.0</span> <span class="o">-</span><span class="n">d</span> <span class="mf">255.255</span><span class="o">.</span><span class="mf">255.255</span> <span class="o">--</span><span class="n">sport</span> <span class="mi">68</span> <span class="o">--</span><span class="n">dport</span> <span class="mi">67</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span> <span class="c1">#DHCP</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">INPUT</span> <span class="o">-</span><span class="n">s</span> <span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span> <span class="o">-</span><span class="n">d</span> <span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>                 <span class="c1"># LOCALHOST</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">INPUT</span> <span class="o">-</span><span class="n">s</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">0.0</span><span class="o">/</span><span class="mi">24</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>                         <span class="c1"># LAN</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">INPUT</span> <span class="o">-</span><span class="n">s</span> <span class="mf">169.254</span><span class="o">.</span><span class="mf">0.0</span><span class="o">/</span><span class="mi">16</span> <span class="o">-</span><span class="n">i</span> <span class="n">lan</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>                  <span class="c1"># EMERGENCY LAN</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">INPUT</span> <span class="o">-</span><span class="n">m</span> <span class="n">state</span> <span class="o">--</span><span class="n">state</span> <span class="n">RELATED</span><span class="p">,</span><span class="n">ESTABLISHED</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">INPUT</span> <span class="o">-</span><span class="n">p</span> <span class="n">tcp</span> <span class="o">--</span><span class="n">dport</span> <span class="mi">5060</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>                       <span class="c1"># VoIP</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">INPUT</span> <span class="o">-</span><span class="n">p</span> <span class="n">udp</span> <span class="o">--</span><span class="n">dport</span> <span class="mi">5060</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>                       <span class="c1"># VoIP</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">INPUT</span> <span class="o">-</span><span class="n">j</span> <span class="n">LOG</span> <span class="o">--</span><span class="n">log</span><span class="o">-</span><span class="n">prefix</span> <span class="s2">&quot;[IPT] DENY-FRITZ-ACCESS &quot;</span>      <span class="c1"># Log other traffic</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">INPUT</span> <span class="o">-</span><span class="n">j</span> <span class="n">DROP</span>                                             <span class="c1"># PARANOIA IN</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">P</span> <span class="n">INPUT</span> <span class="n">DROP</span>                                                <span class="c1"># Default policy DROP</span>

<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">OUTPUT</span> <span class="o">-</span><span class="n">d</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">0.0</span><span class="o">/</span><span class="mi">24</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>                        <span class="c1"># Allow LAN</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">OUTPUT</span> <span class="o">-</span><span class="n">d</span> <span class="mf">224.0</span><span class="o">.</span><span class="mf">0.1</span><span class="o">/</span><span class="mi">24</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>                          <span class="c1"># UPnP</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">OUTPUT</span> <span class="o">-</span><span class="n">d</span> <span class="mf">239.255</span><span class="o">.</span><span class="mf">255.250</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">OUTPUT</span> <span class="o">-</span><span class="n">d</span> <span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>                             <span class="c1"># Local Host</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">OUTPUT</span> <span class="o">-</span><span class="n">p</span> <span class="n">udp</span> <span class="o">-</span><span class="n">m</span> <span class="n">multiport</span> <span class="o">--</span><span class="n">dport</span> <span class="mi">53</span><span class="p">,</span><span class="mi">123</span><span class="p">,</span><span class="mi">5060</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>  <span class="c1"># DNS, TIME, VoIP</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">OUTPUT</span> <span class="o">-</span><span class="n">p</span> <span class="n">tcp</span> <span class="o">--</span><span class="n">dport</span> <span class="mi">5060</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>                      <span class="c1"># VoIP</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">OUTPUT</span> <span class="o">-</span><span class="n">p</span> <span class="n">tcp</span> <span class="o">--</span><span class="n">dport</span> <span class="mi">80</span> <span class="o">-</span><span class="n">d</span> <span class="mf">63.208</span><span class="o">.</span><span class="mf">196.0</span><span class="o">/</span><span class="mi">24</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>     <span class="c1"># DynDNS</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">OUTPUT</span> <span class="o">-</span><span class="n">d</span> <span class="n">myMailServer</span><span class="o">.</span><span class="n">com</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>                      <span class="c1"># e-Mail OUT</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">OUTPUT</span> <span class="o">-</span><span class="n">m</span> <span class="n">state</span> <span class="o">--</span><span class="n">state</span> <span class="n">RELATED</span><span class="p">,</span><span class="n">ESTABLISHED</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>     <span class="c1"># stateful conntrack</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">OUTPUT</span> <span class="o">-</span><span class="n">d</span> <span class="mf">212.42</span><span class="o">.</span><span class="mf">244.73</span> <span class="o">-</span><span class="n">p</span> <span class="n">tcp</span> <span class="o">--</span><span class="n">dport</span> <span class="mi">80</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>       <span class="c1"># Plugins Server AVM</span>

<span class="c1"># iptables -A OUTPUT -d www.dasoertliche.de    -p tcp --dport 80 -j ACCEPT # Phone book reverse look-up targets</span>
<span class="c1"># iptables -A OUTPUT -d www.dastelefonbuch.de  -p tcp --dport 80 -j ACCEPT</span>
<span class="c1"># iptables -A OUTPUT -d www.goyellow.de        -p tcp --dport 80 -j ACCEPT</span>
<span class="c1"># iptables -A OUTPUT -d www.11880.com          -p tcp --dport 80 -j ACCEPT</span>
<span class="c1"># iptables -A OUTPUT -d www.google.de          -p tcp --dport 80 -j ACCEPT</span>
<span class="c1"># iptables -A OUTPUT -d www.das-telefonbuch.at -p tcp --dport 80 -j ACCEPT</span>
<span class="c1"># iptables -A OUTPUT -d www.search.ch          -p tcp --dport 80 -j ACCEPT</span>
<span class="c1"># iptables -A OUTPUT -d www.anywho.com         -p tcp --dport 80 -j ACCEPT</span>

<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">OUTPUT</span> <span class="o">-</span><span class="n">j</span> <span class="n">LOG</span> <span class="o">--</span><span class="n">log</span><span class="o">-</span><span class="n">prefix</span> <span class="s2">&quot;[IPT] WARNING-CALL-HOME &quot;</span>      <span class="c1"># Log forbidden outbound traffic</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">P</span> <span class="n">OUTPUT</span> <span class="n">DROP</span>                                                <span class="c1"># and DROP it.</span>

<span class="c1"># # # Rules for FORWARD</span>

<span class="n">iptables</span> <span class="o">-</span><span class="n">P</span> <span class="n">FORWARD</span> <span class="n">DROP</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">FORWARD</span> <span class="o">-</span><span class="n">j</span> <span class="n">TRANS</span>                                           <span class="c1"># LAN - WAN traffic rules</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">FORWARD</span> <span class="o">-</span><span class="n">j</span> <span class="n">LOG</span> <span class="o">--</span><span class="n">log</span><span class="o">-</span><span class="n">prefix</span> <span class="s2">&quot;[IPT] DENY-FWD-ACCESS &quot;</span>
</pre></div>
</div>
<ul class="simple">
<li>compared to the AVM firewall, iptables rules apply immediately,
without the need of a restart.</li>
<li>after testing, iptables rules can be persisted in the following
script: <strong>/var/flash/debug.cfg</strong>, so they survive a box reboot.</li>
<li>first load all needed modules with <strong>modprobe</strong></li>
<li>than define <strong>iptables</strong> rules in the right order (top down
processing)</li>
<li>Packages passing LOG targets are shown on console 0.</li>
</ul>
</div>
<div class="section" id="hints-regarding-fritzbox-7270">
<h3>Hints regarding FritzBox 7270:<a class="headerlink" href="#hints-regarding-fritzbox-7270" title="Link zu dieser Überschrift">¶</a></h3>
<p>AVM has customized the printk module while implementing DECT base
station functions, that is responsible for the handling of the kernel
log messages, and they do not hit the syslog any longer. With this
command one can temporary turn off the AVM printk (what leads to
unavailability of DECT) to get a real syslog / klog of system messages.</p>
<blockquote>
<div><strong>echo STD_PRINTK &gt; /dev/debug</strong></div></blockquote>
<p>To revert the settings to AVM printk and re-enable DECT type:</p>
<blockquote>
<div><strong>echo AVM_PRINTK &gt; /dev/debug</strong></div></blockquote>
<p>The log appears then again on console 0 and is no longer in the syslog.</p>
<p>You can also try a patch from <a class="reference external" href="/ticket/254">this ticket</a>, but first
read the comments carefully.</p>
</div>
<div class="section" id="what-is-the-difference-of-input-output-and-forward-chains">
<span id="whatisthedifferenceofinputoutputandforwardchains"></span><h3>What is the difference of INPUT, OUTPUT and FORWARD chains<a class="headerlink" href="#what-is-the-difference-of-input-output-and-forward-chains" title="Link zu dieser Überschrift">¶</a></h3>
<ul class="simple">
<li>the INPUT chain filters inbound traffic to the box / localhost
itself, this rules expose services of the FritzBox to the „rest of
the world“.</li>
<li>the OUTPUT chain filters outbound traffic initiated by the box, this
are rules for services the box needs from outside (e.g. DNS,
NTP,etc.)</li>
<li>the FORWARD chain filters traffic trough the box from one interface
to another (e.g. Internet &lt; — &gt; LAN/WLAN ) (pass-trough services)</li>
<li>the conntrack rules target the returning data packets, they must be
defined in the complementary path (for INPUT rules in the OUTPUT path
etc.)</li>
</ul>
</div>
<div class="section" id="hints-regarding-the-example-code">
<span id="hintsregardingtheexamplecode"></span><h3>Hints regarding the example code<a class="headerlink" href="#hints-regarding-the-example-code" title="Link zu dieser Überschrift">¶</a></h3>
<ul class="simple">
<li>the first rule of the INPUT chain should be an ACCEPT rule for the
admin interface to prevent a lock-out from the box (don’t forget the
according conntrack rule in the OUTPUT chain!).</li>
<li>set the default policy for all chains to DENY after everything is
tested and works (last rule!)</li>
<li>in the example there was a new chain TRANS defined to show the
capabilities of this great piece of software.</li>
<li>in the example there are no rules for VoIP traffic, one can easily
add them when needed</li>
<li>there are no NAT rules, because NAT is already done by dsld, we use
both firewalls here</li>
<li>we use only some of the available modules, please feel free to load
others using <em>modprobe</em> when needed for special rules</li>
<li>this example is quite restrictive regarding the traffic of the box to
the Internet, anything not explicitly allowed is forbidden.</li>
<li>it gives you only a glimpse of the opportunities iptables offers, for
more information search online for the wiki of iptables / netfilter
in your preferred language.</li>
</ul>
</div>
<div class="section" id="isolate-guest-network-from-lan">
<span id="isolateguestnetworkfromlan"></span><h3>Isolate guest network from LAN<a class="headerlink" href="#isolate-guest-network-from-lan" title="Link zu dieser Überschrift">¶</a></h3>
<p>These rules will prevent access to the local area network, including the
box itself from the guest network:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">INPUT</span> <span class="o">-</span><span class="n">d</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">178.0</span><span class="o">/</span><span class="mi">24</span> <span class="o">-</span><span class="n">i</span> <span class="n">guest</span> <span class="o">-</span><span class="n">j</span> <span class="n">DROP</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">FORWARD</span> <span class="o">-</span><span class="n">i</span> <span class="n">guest</span> <span class="o">-</span><span class="n">o</span> <span class="n">dsl</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">FORWARD</span> <span class="o">-</span><span class="n">i</span> <span class="n">guest</span> <span class="o">-</span><span class="n">j</span> <span class="n">DROP</span>
<span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">OUTPUT</span> <span class="o">-</span><span class="n">s</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">178.0</span><span class="o">/</span><span class="mi">24</span> <span class="o">-</span><span class="n">o</span> <span class="n">guest</span> <span class="o">-</span><span class="n">j</span> <span class="n">DROP</span>
</pre></div>
</div>
<p>The guest network can only use the internet. Assuming the default subnet
(192.168.178.0/24).</p>
</div>
</div>
<div class="section" id="more-links">
<span id="morelinks"></span><h2>More Links<a class="headerlink" href="#more-links" title="Link zu dieser Überschrift">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="../help/howtos/security/switch_config.html">cpmaccfg</a> - How to
build a DMZ</li>
<li><a class="reference external" href="openvpn.html">OpenVPN</a> - VPN Tunnel on the FritzBox</li>
<li><a class="reference external" href="avm-firewall.html">AVM Firewall</a> - The little Brother of iptables</li>
<li><a class="reference external" href="../help/howtos/security/router_and_firewall.html">Freetz as interner Router /
Firewall</a></li>
<li><a class="reference external" href="../help/howtos/security/split_wlan_lan.html">Split WLAN and LAN using
iptables</a></li>
<li><a class="reference external" href="http://www.ip-phone-forum.de/showpost.php?p=1488444&amp;postcount=74">​IPv6
Sicherheit</a></li>
<li><a class="reference external" href="http://wiki.openwrt.org/doc/howto/netfilter">​On Netfilter</a></li>
<li>Search <a class="reference external" href="http://www.ip-phone-forum.de/forumdisplay.php?f=525">​Freetz -
Forum</a> - Best
place for questions regarding Freetz!</li>
</ul>
</div>
<div class="section" id="questions">
<span id="id1"></span><h2>Questions<a class="headerlink" href="#questions" title="Link zu dieser Überschrift">¶</a></h2>
<ul class="simple">
<li>Should UDP 80 not be blocked?</li>
<li>Should 224.0.0.1/24 and 239.255.255.250 not be blocked on the WAN
side?</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="dnsd.en.html" class="btn btn-neutral float-right" title="dnsd" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="mediaserver.html" class="btn btn-neutral float-left" title="Mediaserver" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Freetz Developers

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>