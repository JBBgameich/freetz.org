<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      packages/rudi-shell/usage – Freetz
    </title>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="/search" />
        <link rel="help" href="../../TracGuide.html" />
        <link rel="alternate" href="usage%3Fformat=txt" type="text/x-trac-wiki" title="Reiner Text" />
        <link rel="up" href="../rudi-shell.html" title="Übergeordnete Wiki-Seite anzeigen" />
        <link rel="start" href="/wiki" />
        <link rel="stylesheet" href="../../../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../../../chrome/common/css/wiki.css" type="text/css" /><link rel="stylesheet" href="../../../chrome/wikiextras/css/phrases.css" type="text/css" /><link rel="stylesheet" href="../../../chrome/wikiextras/css/boxes.css" type="text/css" /><link rel="stylesheet" href="../../../chrome/wikiextras/css/boxes-300.css" type="text/css" /><link rel="stylesheet" href="../../../chrome/wikiextras/css/boxes-narrow-toc.css" type="text/css" /><link rel="stylesheet" href="../../../wikicss.css" type="text/css" /><link rel="stylesheet" href="../../../chrome/tags/css/tractags.css" type="text/css" /><link rel="stylesheet" href="../../../chrome/wikinegotiator/css/langmenu-ctxnav.css" type="text/css" />
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="/favicon.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="/search/opensearch" title="Freetz durchsuchen" />
      <script type="text/javascript" charset="utf-8" src="../../../chrome/common/js/jquery.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../../chrome/common/js/babel.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../../chrome/common/js/messages/de.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../../chrome/common/js/trac.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../../chrome/common/js/search.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../../chrome/common/js/folding.js"></script>
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("#content").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $("#content").find(".wikianchor").each(function() {
          $(this).addAnchor(babel.format(_("Link to #%(id)s"), {id: $(this).attr('id')}));
        });
        $(".foldable").enableFolding(true, true);
      });
    </script>
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="/wiki"><img src="../../../chrome/common/freetz_motd.png" alt="Freetz" /></a>
      </div>
      <form id="search" action="/search" method="get">
        <div>
          <label for="proj-search">Suche:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Suche" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="/login">Anmelden</a></li><li><a href="/prefs">Einstellungen</a></li><li><a href="../../TracGuide.html">Hilfe/Anleitung</a></li><li><a href="/about">Über Trac</a></li><li><a href="/notification" title="Wiki Pages Change Notifications">My Notifications</a></li><li><a href="/register">Registrieren</a></li><li class="last"><a href="../../Impressum.html">Impressum</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first active"><a href="/wiki">Wiki</a></li><li><a href="/timeline">Journal</a></li><li><a href="/roadmap">Projektplan</a></li><li><a href="/browser">Quellen durchsehen</a></li><li><a href="/report">Tickets anzeigen</a></li><li><a href="/search">Suche</a></li><li><a href="/tags">Tags</a></li><li><a href="/downloads">Downloads</a></li><li class="last"><a href="/screenshots">Bildschirmfotos</a></li>
    </ul>
  </div>
    <div id="langmenu"><ul><li class="first"><span title="Select a language of wiki content">Language:</span></li><li class=" active"><a class="" href="usage..html" title="displaying language (default)">German</a></li><li class=" last"><a class=" notexist" href="/wiki/packages/rudi-shell/usage.en" title="(not available)">English</a></li></ul></div><div id="main">
      <div id="pagepath" class="noprint">
  <a class="pathentry first" title="Zeige WikiStart an" href="/wiki">Wiki:</a><a class="pathentry" href="../../packages.html" title="Zeige packages an">packages</a><span class="pathentry sep">/</span><a class="pathentry" href="../rudi-shell.html" title="Zeige packages/rudi-shell an">rudi-shell</a><span class="pathentry sep">/</span><a class="pathentry" href="usage.html" title="Zeige packages/rudi-shell/usage an">usage</a>
</div>
      <div id="ctxtnav" class="nav">
        <h2>Kontext-Navigation</h2>
        <ul>
          <li class="first"><a href="../rudi-shell.html">Aufwärts</a></li><li><a href="../../WikiStart.html">Startseite</a></li><li><a href="../../TitleIndex.html">Inhaltsverzeichnis</a></li><li><a href="usage%3Faction=history.html">Änderungshistorie</a></li><li class="last"><a href="/notification/packages/rudi-shell/usage" title="Watch Page">Watch Page</a></li>
        </ul>
        <hr />
      </div>
    <div id="content" class="wiki">
      <div class="wikipage searchable">
        
          <div id="wikipage" class="trac-content"><p>
</p><div class="wiki-toc"><h4>Inhaltsverzeichnis</h4><ol><li><a href="../rudi-shell.html#Rudi-Shell">Rudi-Shell</a><ol><li><a href="../rudi-shell.html#Feature-Übersicht">Feature-Übersicht</a></li><li><a href="../rudi-shell.html#Systemvoraussetzungen">Systemvoraussetzungen</a><ol><li><a href="../rudi-shell.html#Server">Server</a></li><li><a href="../rudi-shell.html#Client">Client</a></li><li><a href="../rudi-shell.html#WasNICHTgebrauchtwird">Was NICHT gebraucht wird</a></li><li><a href="../rudi-shell.html#PlatzbedarfderRudi-Shell">Platzbedarf der Rudi-Shell</a></li></ol></li></ol></li><li><a href="install.html#Installation">Installation</a></li><li><a href="functions.html#Funktionsweise">Funktionsweise</a></li><li class="active"><a href="usage.html#IllustrierteAnwendungsfälle">Illustrierte Anwendungsfälle</a><ol><li class="active"><a href="usage.html#Shell-Skriptausführen">Shell-Skript ausführen</a></li><li class="active"><a href="usage.html#Historieverwenden">Historie verwenden</a></li><li class="active"><a href="usage.html#DownloadTar-Archiv">Download Tar-Archiv</a></li><li class="active"><a href="usage.html#DownloadlangerKonsolenausgabe">Download langer Konsolenausgabe</a></li><li class="active"><a href="usage.html#Datei-Upload">Datei-Upload</a></li></ol></li><li><a href="limits.html#GrenzenEinschränkungen">Grenzen &amp; Einschränkungen</a></li><li><a href="tips.html#TipsTricks">Tips &amp; Tricks</a><ol><li><a href="tips.html#SichererZugriffviaHTTPS">Sicherer Zugriff via HTTPS</a></li><li><a href="tips.html#HTTPS-Zugriffreloadedimproved">HTTPS-Zugriff reloaded &amp; improved</a></li><li><a href="tips.html#Firmwareremoteflashen">Firmware remote flashen</a></li></ol></li></ol></div><p>
</p>
<h1 id="IllustrierteAnwendungsfälle">Illustrierte Anwendungsfälle</h1>
<h2 id="Shell-Skriptausführen">Shell-Skript ausführen</h2>
<p>
Befehl eingeben, ausführen, Ergebnis anschauen - fertig.
</p>
<p>
<span class="thumbnail"><span class="aux" style="width: 663px;"><a style="border-width: 1px;" href="/screenshots/40?format=raw" title="Rudi-Shell: Shell-Skript ausführen"><img src="/screenshots/40?width=661&amp;format=raw&amp;height=459" alt="Rudi-Shell: Shell-Skript ausführen" /></a><span class="description" style="width: 663px;">Rudi-Shell: Shell-Skript ausführen</span></span></span>
</p>
<h2 id="Historieverwenden">Historie verwenden</h2>
<p>
Historien-Liste öffnen, per Maus oder Tastatur durchblättern. Beim Blättern aktualisieren sich schon Befehlsfenster und Ergebniskonsole. Durch Drücken des Knopfes "Hist. löschen" wird die Historie bereinigt und ist wieder jungfräulich.
</p>
<p>
<span class="thumbnail"><span class="aux" style="width: 379px;"><a style="border-width: 1px;" href="/screenshots/41?format=raw" title="Rudi-Shell: History"><img src="/screenshots/41?width=377&amp;format=raw&amp;height=330" alt="Rudi-Shell: History" /></a><span class="description" style="width: 379px;">Rudi-Shell: History</span></span></span>
</p>
<h2 id="DownloadTar-Archiv">Download Tar-Archiv</h2>
<p>
Man kann mittels eines Befehls wie <tt>tar c *</tt> ein Archiv erzeugen, im Beispiel von allen Dateien und Unterverzeichnissen im aktuellen Verzeichnis - übrigens bei Shellskript-Start immer <tt>/usr/mww/cgi-bin</tt>, weil von dort aus die CGI-Skripten ausgeführt werden. Wenn man zusätzlich den Download-Schalter vor dem Ausführen aktiviert und evtl. zur Bequemlichkeit noch den Dateiendung-Schalter <em>.tar</em>, erhält man das Archiv direkt als Download, den man speichern kann, wohin man will. Was hier technisch passiert, ist, daß die Standardausgabe der Shell - wir haben ja keine Zieldatei für <em>Tar</em> angegeben, also gilt die Standardausgabe - umgeleitet wird, und zwar in den Rückgabekanal des CGI-Skripts hin zum Browser des Benutzers.
</p>
<p>
<strong>Trouble-Shooting:</strong> Manchmal kommt es vor, daß <em>Tar</em> (oder auch andere Shell-Befehle) zusätzlich zur eigentlichen Ausgabe noch Meldungen (Fehler, Informationen, Warnungen) in einen anderen Ausgabekanal, die sog. Fehlerausgabe, schreiben. Da ohne weitere Vorkehrungen bei der Rudi-Shell - wie bei anderen interaktiven Shells auch - Standard- und Fehlerausgabe gebündelt werden, landen evtl. Informationen im Download, die wir dort gar nicht haben wollen. Im Falle unseres <em>Tar</em>-Archivs wird dadurch die Datei "verunreinigt" und ist nicht mehr entpackbar. Um das zu diagnostizieren, lassen wir uns das Tar-Archiv einfach kurzerhand auf die Konsole ausgeben (Download-Schalter deaktivieren). Das sieht dann so aus:
</p>
<p>
<span class="thumbnail"><span class="aux" style="width: 496px;"><a style="border-width: 1px;" href="/screenshots/42?format=raw" title="Rudi-Shell: Tar Diagnose"><img src="/screenshots/42?width=494&amp;format=raw&amp;height=332" alt="Rudi-Shell: Tar Diagnose" /></a><span class="description" style="width: 496px;">mit Fehlermeldungen verunreinigtes Tar-Archiv</span></span></span>
</p>
<p>
Es gibt im Prinzip zwei Möglichkeiten, solche Verunreinigungen zu umgehen: Erstens kann man die Shell explizit anweisen, die Fehlerausgabe umzuleiten in eine Datei, auf eine andere Konsole oder ins Nirgendwo (<tt>/dev/null</tt>, das beliebte Faß ohne Boden), wie im folgenden Beispiel:
</p>
<p>
<span class="thumbnail"><span class="aux" style="width: 497px;"><a style="border-width: 1px;" href="/screenshots/43?format=raw" title="Rudi-Shell: Fehlerausgabe ins Nirvana umleiten"><img src="/screenshots/43?width=495&amp;format=raw&amp;height=321" alt="Rudi-Shell: Fehlerausgabe ins Nirvana umleiten" /></a><span class="description" style="width: 497px;">Rudi-Shell: Fehlerausgabe ins Nirvana umleiten</span></span></span>
</p>
<p>
Die zweite (etwas unsicherere, da nicht immer vorhersehbare) Möglichkeit besteht schlicht in der Vermeidung von Fehlerausgaben, indem man vorher die Syntax von Befehlen, notwendige Berechtigungen etc. prüft. In unserem Fall kann man die Meldung vermeiden, indem man vorher in das passende Basisverzeichnis wechselt, aus dem heraus <em>Tar</em> operieren soll:
</p>
<p>
<span class="thumbnail"><span class="aux" style="width: 493px;"><a style="border-width: 1px;" href="/screenshots/44?format=raw" title="Rudi-Shell: Fehlerausgabe durch vorbereitende Schritte vermeiden"><img src="/screenshots/44?width=491&amp;format=raw&amp;height=310" alt="Rudi-Shell: Fehlerausgabe durch vorbereitende Schritte vermeiden" /></a><span class="description" style="width: 493px;">Rudi-Shell: Fehlerausgabe durch vorbereitende Schritte vermeiden</span></span></span>
</p>
<h2 id="DownloadlangerKonsolenausgabe">Download langer Konsolenausgabe</h2>
<p>
Lange Konsolenausgaben eines Skripts werden von Rudi auf knapp 64 KB gekürzt, weil je nach Browser das Umkopieren mehrerer hundert KB langer Ausgaben aus dem unsichtbaren IFrame, worin die Original-Ausgabe zunächst landet, den Browser extrem ausbremst. Außerdem ist solch ein langer Text im Browser nur schlecht zu analysieren, das sollte man lieber offline in einem leistungsfähigen Editor mit guten Suchfunktionen machen. Ein Beispiel für eine lange Ausgabe ist z.B. <tt>ls -leAR /</tt>, also die detaillierte Anzeige sämtlicher Dateien mit vollem Datum usw, rekursiv beginnend im Wurzelverzeichnis.
</p>
<p>
Es gibt browserbedingte Unterschiede, die beeinflussen, wieviel von diesen 64 KB tatsächlich beim Umkopieren im Hauptfenster ankommen. Der <em>Internet Explorer</em> schneidet gar nichts ab (er würde auch 1 MB umkopieren und daraufhin, warum auch immer, für eine Weile blockieren). Opera kappt den Text bei 32 KB, Firefox bereits bei 8 KB. Nun sind 8 KB nicht sehr viel, aber in den meisten Fällen ausreichend für normale Befehle. Im Hinblick auf die Historie, welche ja u.U. sehr viele Befehle mit zugehörigen Ausgaben speichern muß, ist die Begrenzung auch gesund.
</p>
<p>
Wer nun also eine lange Konsolenausgabe in voller Länge genießen will, aktiviert einfach den Download-Schalter und lädt sich das Ganze als Textdatei herunter:
</p>
<p>
<span class="thumbnail"><span class="aux" style="width: 485px;"><a style="border-width: 1px;" href="/screenshots/45?format=raw" title="Rudi-Shell: Lange Konsolenausgabe als Datei-Download"><img src="/screenshots/45?width=483&amp;format=raw&amp;height=183" alt="Rudi-Shell: Lange Konsolenausgabe als Datei-Download" /></a><span class="description" style="width: 485px;">Rudi-Shell: Lange Konsolenausgabe als Datei-Download</span></span></span>
</p>
<h2 id="Datei-Upload">Datei-Upload</h2>
<p>
Das Ausführen von Befehlen und das Herunterladen von Dateien und Konsolen-Ausgaben sind bereits mächtige Werkzeuge, aber richtig Spaß macht die Arbeit mit der Rudi-Shell erst durch die Möglichkeit, beliebige Dateien hochzuladen. Das geht ganz einfach:
</p>
<p>
<span class="thumbnail"><span class="aux" style="width: 546px;"><a style="border-width: 1px;" href="/screenshots/46?format=raw" title="Rudi-Shell: Erfolgreicher Datei-Upload"><img src="/screenshots/46?width=544&amp;format=raw&amp;height=180" alt="Rudi-Shell: Erfolgreicher Datei-Upload" /></a><span class="description" style="width: 546px;">Rudi-Shell: Erfolgreicher Datei-Upload</span></span></span>
</p>
<p>
<em>Für die Techniker: Es handelt sich um einen normalen Form-based Upload gemäß <a class="ext-link" href="http://www.ietf.org/rfc/rfc1867.txt"><span class="icon">​</span>RFC 1867</a>.</em>
</p>
<p>
Nun kann beim Upload auch mal etwas schief gehen. Dann benötigt man eine entsprechende, einigermaßen informative Rückmeldung des Systems. Auch hierfür ist gesorgt - das sieht dann so aus:
</p>
<p>
<span class="thumbnail"><span class="aux" style="width: 541px;"><a style="border-width: 1px;" href="/screenshots/47?format=raw" title="Rudi-Shell: Fehler beim Datei-Upload"><img src="/screenshots/47?width=539&amp;format=raw&amp;height=216" alt="Rudi-Shell: Fehler beim Datei-Upload" /></a><span class="description" style="width: 541px;">Rudi-Shell: Fehler beim Datei-Upload</span></span></span>
</p>
</div>
          
          <div class="trac-modifiedby">
            <span><a href="usage%3Faction=diff&amp;version=2.html" title="Version 2 von Izzy">zuletzt geändert</a> <a class="timeline" href="/timeline?from=2008-09-21T13%3A51%3A41Z&amp;precision=second" title="Siehe Journal am 21.09.2008 13:51:41">vor 10 Jahren</a></span>
            <span class="trac-print">Zuletzt geändert am 21.09.2008 13:51:41</span>
          </div>
        
        
      </div><ul class="tags"><li class="header">Tags</li><li><a href="/tags/rudi-shell" rel="tag">rudi-shell</a> </li></ul>
      

    </div>
    <script type="text/javascript">
        jQuery.loadStyleSheet("/chrome/screenshots/css/screenshots.css", "text/css");
    </script>
    <div id="altlinks">
      <h3>In anderen Formaten herunterladen:</h3>
      <ul>
        <li class="last first">
          <a rel="nofollow" href="usage%3Fformat=txt">Reiner Text</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../../../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Betrieben mit <a href="/about"><strong>Trac 1.0.1</strong></a><br />
        von <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right"><div class="field" align="right"><form action="https://www.paypal.com/cgi-bin/webscr" method="post"><input type="hidden" name="cmd" value="_donations"/><input type="hidden" name="business" value="spenden@freetz.org"/><input type="hidden" name="item_name" value="Freetz Entwickler-Team"/><input type="hidden" name="no_shipping" value="1"/><input type="hidden" name="return" value="http://freetz.org"/><input type="hidden" name="cn" value="Name oder IPPF-Pseudonym"/><input type="hidden" name="currency_code" value="EUR"/><input type="hidden" name="tax" value="0"/><input type="hidden" name="lc" value="DE"/><input type="hidden" name="bn" value="PP-DonationsBF"/><input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" alt="Zahlen Sie mit PayPal - schnell, kostenlos und sicher!"/><img alt="" border="0" src="/pixel.gif" width="1" height="1"/></form></div></p>
    </div>
  </body>
</html>