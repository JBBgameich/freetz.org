

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="de" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="de" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Patches &mdash; Freetz master Dokumentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Stichwortverzeichnis" href="../genindex.html" />
    <link rel="search" title="Suche" href="../search.html" />
    <link rel="next" title="Freetz in public press &amp; web" href="Press.en.html" />
    <link rel="prev" title="FreetzConf 2011" href="FreetzConf2011.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Freetz
          

          
            
            <img src="../_static/freetz.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Generelles</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="packages_tagged.html">Pakete nach Anwendungsgebieten</a></li>
<li class="toctree-l1"><a class="reference internal" href="Download.html">Stabile Versionen</a></li>
<li class="toctree-l1"><a class="reference internal" href="Download.html#entwickler-versionen">Entwickler Versionen</a></li>
<li class="toctree-l1"><a class="reference internal" href="Download.html#upload-und-statistik">Upload und Statistik</a></li>
<li class="toctree-l1"><a class="reference internal" href="Download.html#veraltete-versionen">Veraltete Versionen</a></li>
<li class="toctree-l1"><a class="reference internal" href="freetz.html">Freetz macht mehr aus der Box!</a></li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">Freetz-FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="Impressum.html">Impressum</a></li>
<li class="toctree-l1"><a class="reference internal" href="libs_tagged.html">Bibliotheken nach Anwendungsgebieten</a></li>
<li class="toctree-l1"><a class="reference internal" href="ticket.html">Was sollte ich bei der Erstellung eines neuen Tickets beachten?</a></li>
<li class="toctree-l1"><a class="reference internal" href="style.html">Aussehen</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages.html">Pakete, Addons und CGI-Erweiterungen</a></li>
<li class="toctree-l1"><a class="reference internal" href="FreetzConf2011.html">FreetzConf 2011</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Patches</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#aufbau-eines-patches">Aufbau eines Patches</a></li>
<li class="toctree-l2"><a class="reference internal" href="#erzeugen-eines-patches">Erzeugen eines Patches</a></li>
<li class="toctree-l2"><a class="reference internal" href="#patch-anwenden-oder-ruckgangig-machen">Patch anwenden oder rückgängig machen</a></li>
<li class="toctree-l2"><a class="reference internal" href="#wie-finde-ich-die-zu-patchende-stelle">Wie finde ich die zu patchende Stelle?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#links">Links</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Press.en.html">Freetz in public press &amp; web</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches.html">Freetz Patches</a></li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Hilfe</a></li>
<li class="toctree-l1"><a class="reference internal" href="libs.html">Bibliotheken (libraries)</a></li>
<li class="toctree-l1"><a class="reference internal" href="costumscript_dublesyslog.html">Schritte zur Lösung, kann übersprungen werden…</a></li>
<li class="toctree-l1"><a class="reference internal" href="costumscript_dublesyslog.html#also-hier-die-anleitung-zur-editierung-der-rc-costum-ueber-die-shell">Also hier die Anleitung zur Editierung der rc.costum ueber die shell:</a></li>
<li class="toctree-l1"><a class="reference internal" href="costumscript_dublesyslog.html#weiter-durch-die-herleitung-schritte-zur-loesung-whatever">weiter durch die herleitung (schritte zur loesung, whatever)</a></li>
<li class="toctree-l1"><a class="reference internal" href="costumscript_dublesyslog.html#losung">…Lösung:</a></li>
<li class="toctree-l1"><a class="reference internal" href="kernel.html">Tree like overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="Press.html">Freetz in Presse und Web</a></li>
<li class="toctree-l1"><a class="reference internal" href="freetz.en.html">Freetz gets more from the Box!</a></li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.en.html">Freetz-FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="common/source_code.en.html">Source code</a></li>
<li class="toctree-l1"><a class="reference internal" href="common/source_code.html">Quellcode</a></li>
</ul>
<p class="caption"><span class="caption-text">Patches</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="patches/remove_myfritz.html">Remove MyFritz</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches/remove_tr069.html">Remove tr069 stuff</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches/remove_assistant.html">Remove assistant</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches/remove_help.html">Remove help</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches/remove_usermand.html">Remove usermand &amp; userman.ko</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches/remove_samba.html">Remove Samba daemon (smbd)</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches/signed.html">Patch Webmenu Signed Message</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches/remove_upnp.html">Remove uPnP daemon</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches/usb_names.html">Patch USB storage names, make FAT filesystems world-writable, automount feature</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches/remove_mediasrv.html">Remove MediaServer daemon (mediasrv)</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches/remove_dsld.html">Remove dsld</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches/onlinechanged.html">Onlinechanged</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches/freetzmount.html">FREETZMOUNT</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches/replace_onlinechanged.html">Replace onlinechanged</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches/remove_capi.html">Remove CapiOverTCP</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches/exec_autorun.html">Execute autorun.sh/autoend.sh script on (un)mount</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches/exec_autorun.html#hinweis">Hinweis</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches/maxdevcount.html">MaxDevCount</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches/remove_minid.html">Remove minid</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches/multpile_printers.html">FritzBox als Printserver für mehrere Drucker</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches/alarmclock.html">Patch third alarm-clock</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches/freetzmount.en.html">FREETZMOUNT</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches/remove_vpn.html">Remove AVM vpn</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches/remove_support.html">Remove the support-files</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches/remove_ftpd.html">Remove FTP deamon (ftpd)</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches/remove_aura_usb.html">Remove aura USB</a></li>
</ul>
<p class="caption"><span class="caption-text">Hilfe</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="help/howtos.html">HowTos</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/trouble_shooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/fritz_faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/irc.html">Intro</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/irc.html#irc-netiquette">IRC Netiquette</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/irc.html#troubleshooting-irc">Troubleshooting IRC</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/irc.html#konfiguration-chatzilla-plugin-in-firefox">Konfiguration Chatzilla-Plugin in Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/wikiedit.html">Wiki Bearbeitung - Tipps und Tricks</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/common.html">Allgemeines</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/troubleshoot.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development.html">Development Howtos</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/common/freetz_linux.html">Freetz Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/common/shutdown.html">Rechner im Netz herunterfahren</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/common/newbie.en.html">Freetz for beginners</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/common/first_trunk.html">Wie baue ich meinen ersten trunk ?</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/common/install.en.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/common/install.en.html#aktualisierung">Aktualisierung</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/common/install.en.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/common/install.en.html#weiterfuhrende-links">Weiterführende Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/common/external.html">External</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/common/external.html#konfiguration">Konfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/common/external.html#auswahl">Auswahl</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/common/external.html#installation">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/common/external.html#automatisches-starten-stoppen-von-diensten">Automatisches starten/stoppen von Diensten</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/common/external.html#firmware-build-prozess-und-update">Firmware-build-Prozess und Update</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/common/create_swap.html">Swap-File anlegen</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/common/install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/common/install.html#aktualisierung">Aktualisierung</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/common/install.html#fehlerbehebung">Fehlerbehebung</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/common/install.html#manuelles-einspielen-des-images">Manuelles einspielen des Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/common/install.html#weiterfuhrende-links">Weiterführende Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/common/newbie.html">Erste Schritte mit Freetz</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/common/wol.html">Wake on Lan (WoL) mit der Fritzbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/common/user.html">Benutzer dauerhaft in der passwd speichern</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/common/busybox_httpd.html">Kleiner Webserver mit BusyBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/common/install/menuconfig.html">Konfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/common/newbie/other.html">Sonstige Infos für Newbie’s</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/common/newbie/errors.html">Was mache ich, wenn sich meine Box nicht Freetzen lässt</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/troubleshoot/repair_phonebook.html">Kaputtes Telefonbuch reparieren</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/troubleshoot/recover_firmware.html">Original Firmware wiederherstellen</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/troubleshoot/reboots.html">Häufige selbständige Reboots</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/security/switch_config.html">Konfiguration des eingebauten Switches</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/security/router_and_firewall.html">Freetz als interner Router mit Firewall</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/security/user_management.html">Benutzerverwaltung</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/security/split_wlan_lan.html">WLAN von LAN trennen mit iptables</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/sign_image.html">Signieren von Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/sign_image.html#konkrete-anwendung-in-freetz">Konkrete Anwendung in Freetz</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/integrate_patches.html">Patches in Freetz einspielen</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/bandwidth_svg.html">Dynamische Bandbreitenanzeige per SVG</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/create_cross-compiler_toolchain.html">Cross-Compiler / Toolchain erstellen</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/create_cross-compiler_toolchain.html#eigene-download-toolchain-erstellen">Eigene Download-Toolchain erstellen</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/create_cross-compiler_toolchain.html#target-native-compiler-toolchain-erstellen">Target/Native-Compiler-Toolchain erstellen</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/release_management.html">Release Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/package_creation.html">Wie baue ich ein eigenes Paket für Freetz?</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/save_mtd_2.html">Flash-Partitionen von außen mit FTP sichern</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/developer_information.html">Developer Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/create_gui.html">Erstellen einer GUI für Pakete in Freetz</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/manipulation_detection.html">Wie die FritzBox Manipulationen erkennt</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/freetz_make.html">Freetz Build-Prozeß</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/urlader_flags.html">Einstellungen speichern im Urlader-Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/flash.html">Flash Partitionierung</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/firmware_update_details.html">Ablauf eines Firmware-Updates</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/repack_fw.html">Entpacken und Packen von Firmware-Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/install_addon.html">Addon Paket installieren</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/make_busybox.html">Busybox konfigurieren und kompilieren</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/adam2.html">ADAM2-Bootloader</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/save_mtd_1.html">Flash-Partitionen im laufenden Betrieb sichern</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/integrate_own_files.html">Eigene Dateien in die Firmware integrieren</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/analyse_image_names.html">Firmware-Image-Namen analysieren und interpretieren</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/menuconfig.html">Menükonfiguration pflegen</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/compile_own_progs.html">Eigene Programme kompilieren</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/make_kernel.html">Kernel konfigurieren und kompilieren</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/make_room.html">Platz sparen im Dateisystem der FritzBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/developer_information/package_development.html">Package Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/developer_information/post_commit_hook.html">Trac Hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/developer_information/shell_coding_conventions.html">Shell Coding Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/developer_information/package_development_advanced.html">Package Developing - Advanced Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/developer_information/package_development_dynamic.html">Paketverwaltung für Freetz</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/developer_information/package_development_start.html">First steps - How to start your first freetz package</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/developer_information/package_development_start/example_2.html">Example 2: par2cmdline</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/developer_information/package_development_start/example_1.html">Example 1: Httptunnel</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/developer_information/package_development_start/.language.html">.language</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/developer_information/package_development_start/webinterface_example_1.html">Web-interface HTTPTunnel</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/developer_information/package_development_start/example_3.html">Example 3: NZBGet</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/howtos/development/developer_information/webif/libmodcgi.html">libmodcgi.sh</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/wikiedit/screenshots.html">Screenshots</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/wikiedit/toc.html">Inhaltsverzeichnis erstellen (lassen)</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/wikiedit/tagging.html">Tagging</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/wikiedit/tables.html">Tabellen</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/wikiedit/formatting_guide.html">Formatierungs-Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="help/wikiedit/goodies.html">Wiki Goodies</a></li>
<li class="toctree-l1"><a class="reference internal" href="style/tagging.html">Tagging</a></li>
<li class="toctree-l1"><a class="reference internal" href="style/skins.html">Skins</a></li>
<li class="toctree-l1"><a class="reference internal" href="style/favicons.html">Favicons</a></li>
<li class="toctree-l1"><a class="reference internal" href="style/mounted.html">Aussehen von mounted.cgi</a></li>
<li class="toctree-l1"><a class="reference internal" href="libs/ftdi.html">ftdi</a></li>
<li class="toctree-l1"><a class="reference internal" href="libs/ftdi.en.html">libftdi</a></li>
</ul>
<p class="caption"><span class="caption-text">Pakete</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="packages/bridge-utils.html">bridge-utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/sispmctl.html">sispmctl</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/empty.html">Empty</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/apache.html">Apache Webserver mit PHP CGI</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/polipo.en.html">Using with Tor</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/polipo.en.html#using-at-your-office">Using at your office</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/polipo.en.html#security">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/polipo.en.html#blocking-domains">Blocking domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/polipo.en.html#issues">Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/polipo.en.html#links">Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/autofs.html">autofs</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/strace.html">strace</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/syslogd.html">Syslogd</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/lsof.html">lsof</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/dns2tcp.html">Dns2Tcp</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/tinyproxy.html">Tinyproxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/davfs2.html">WebDAV mit davfs2</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/s3fslite.html">s3fslite</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/dropbear.en.html">Dropbear</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/ctorrent.html">CTorrent</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/irssi.html">irssi</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/hplip.html">HPLIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/lighttpd.html">lighttpd Webserver</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/privoxy.html">Privoxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/radvd.en.html">RADVD</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/usbroot.html">USB-Root</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/vim.html">vim</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/bluez-utils.html">Bluez-Utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/sane-backends.html">SANE</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/usbip.html">USB/IP</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/dropbear.html">Dropbear</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/iptables-cgi.html">iptables-cgi</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/hd-idle.html">hd-idle</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/fhem.html">FHEM</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/igmpproxy.html">igmpproxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/usbutils.html">usbutils</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/inotify-tools.html">Inotify-Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/authorized-keys.en.html">authorized-keys</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/rrdstats.html">RRDstats</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/mcabber.html">mcabber</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/dtmfbox.html">DTMFBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/nfsd.en.html">NFSD_CGI</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/espeak.html">eSpeak</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/dnsd.html">dnsd</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/tor.html">Tor Proxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/spindown.html">Spindown</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/ncftp.html">ncftp</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/lynx.html">Lynx</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/smstools3.html">SMStools3</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/smstools3.html#weiteres">Weiteres</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/debootstrap.html">Debootstrap</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/ppp.html">ppp-cgi</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/xmail.html">Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/sundtek.html">Sundtek DVB Treiber</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/iptables.html">iptables</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/iptables.html#altere-beitrage-betreffen-fritzboxen-vor-der-72xx-serie">Ältere Beiträge (betreffen FritzBoxen vor der 72xx Serie)</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/subversion.html">Subversion</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/dtach.html">dtach</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/vsftpd.html">VSFTPd</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/ziproxy.html">ziproxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/ntfs-3g.html">NTFS-3G</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/ruby.html">Ruby</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/aiccu.html">Aiccu</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/mc.html">Midnight Commander</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/nfs.html">NFS</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/streamripper.html">Streamripper</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/htpdate.html">htpdate</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/lua.html">Lua</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/emailrelay.html">E-MailRelay</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/madplay.html">madplay</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/nhipt.html">NHIPT - iptables firewall GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/netsnmp.html">Net-SNMP</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/transmission.en.html">Blocklist</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/transmission.en.html#number-of-peers">Number of peers</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/transmission.en.html#memory-usage">Memory usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/transmission.en.html#limit-memory-usage">Limit memory usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/transmission.en.html#watchdog">Watchdog</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/transmission.en.html#links">Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/imapproxy.en.html">ImapProxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/fuse.html">FUSE</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/hiawatha.html">hiawatha</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/cifsmount.html">cifsmount</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/matrixtunnel.html">matrixtunnel</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/ndas.en.html">NDAS</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/nfs-utils.html">NFS-Utils / NFS-Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/vpnc.html">vpnc</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/haserl.html">Haserl</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/obexftp.html">ObexFTP</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/nmap.html">Nmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/httptunnel.html">httptunnel</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/onlinechanged.html">Onlinechanged</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/mini_fo.html">mini_fo</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/pingtunnel.html">pingtunnel</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/tcp_wrappers.html">TCP Wrapper</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/netsnmp.en.html">Net-SNMP</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/netsnmp.en.html#mrtg">MRTG</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/wol.html">Wake on LAN (WoL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/cpmaccfg.html">cpmaccfg</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/cpmaccfg.html#cpmaccfg-cgi">cpmaccfg-cgi</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/syslogd.en.html">Syslog</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/checkmaild.html">checkmaild 0.4.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/portmap.html">portmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/digitemp.html">Digitemp</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/downloader.html">Downloader-CGI</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/bip.html">BIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/fortune.html">fortune</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/xrelayd.html">xrelayd</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/tinc.html">Tinc</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/bird.html">Bird</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/onlinechanged_cgi.html">Onlinechanged-CGI</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/php.html">PHP</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/pptp.html">PPTP Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/mediatomb.html">MediaTomb</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/inetd.html">inetd</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/owfs.html">owfs</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/unbound.html">Unbound</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/fstyp.html">fstyp</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/prosody.en.html">Prosody IM</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/bftpd.html">Bftpd</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/mod.html">(Freetz-) MOD</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/br2684ctl.en.html">br2684ctl</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/deco.html">Demos Commander</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/trickle.html">trickle</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/radvd.html">Radvd</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/opendd.html">OpenDD</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/pptpd.html">PoPTop - PPTP-VPN-Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/mediaserver.html">Mediaserver</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/iptables.en.html">iptables</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/dnsd.en.html">dnsd</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/hp-utils.html">hp-utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/screen.html">screen</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/ndas.html">NDAS</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/dnsmasq.html">dnsmasq</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/wget.html">wget</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/e2fsprogs.html">e2fsprogs</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/bind.html">bind</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/tcpdump.html">tcpdump</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/gw6.html">gw6</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/nhipt.en.html">NHIPT - iptables firewall GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/openntpd.html">OpenNTPD</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/rudi-shell.html">Rudi-Shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/nano.html">nano</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/nfsd.html">NFSD_CGI</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/stunnel.html">Stunnel</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/rrdtool.html">RRDTool</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/ldd.html">ldd</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/prosody.html">Prosody IM</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/fhzctrl.html">fhzctrl</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/aiccu.en.html">AICCU</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/authorized-keys.html">authorized_keys</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/pciutils.html">pciutils</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/vtund.html">VTUN freetz Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/fritzload.html">FritzLoad</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/jamvm.html">JamVM</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/callmonitor.html">Callmonitor</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/br2684ctl.html">br2684ctl</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/netcat.html">netcat</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/quagga.html">Quagga</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/samba.html">Samba</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/iodine.html">iodine</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/nagios.html">Nagios</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/smartmontools.html">Smartmontools (smartctl)</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/mtr.html">mtr</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/avm-firewall.html">AVM-firewall-cgi</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/bash.html">Bash</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/bash.html#ash">Ash</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/bash.html#bash-als-loginshell">Bash als Loginshell</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/asterisk.html">Asterisk</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/microperl.html">microperl</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/nano-shell.html">Nano-Shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/m-i-t.html">module-init-tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/minidlna.html">MiniDLNA</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/inadyn-mt.html">Inadyn-MT</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/bluez.html">BlueZ 4.x</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/DemoPackageA.html">DemoPackageA „Hello World“</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/openvpn.html">OpenVPN freetz Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/knock.html">knockd</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/ltrace.html">ltrace</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/curl.html">cURL</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/inadyn-mt.en.html">Inadyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/virtualip.html">Virtual IP</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/socat.html">socat</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/transmission.html">Transmission</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages/netsnmp/mrtg.en.html">MRTG</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Freetz</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Patches</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/wiki/patch.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="patches">
<span id="aufbaueinespatches"></span><h1>Patches<a class="headerlink" href="#patches" title="Link zu dieser Überschrift">¶</a></h1>
<div class="section" id="aufbau-eines-patches">
<h2>Aufbau eines Patches<a class="headerlink" href="#aufbau-eines-patches" title="Link zu dieser Überschrift">¶</a></h2>
<p>Ein Patch ist eine Datei im Textformat, die für gewöhnlich die Endung
.patch (manchmal auf .diff) hat und eine Liste von Unterschieden
zwischen zwei Version einer Datei enthält. Patches enthalten nur
Unterschiede in Textdateien. Unterschiede in Binärdateien können nicht
gepatched werden.</p>
<p>Zu Beginn eines Patch kann ein Kommentar stehen, der beschreibt wo der
Patch herkommt, wer daran mitgewirkt hat, welches Problem er löst usw.
Der eigentliche Beginn der Unterschiede wird durch <code class="docutils literal notranslate"><span class="pre">---</span></code>
gekennzeichnet. Für gewöhnlich enthält ein Patch 3 Zeilen Kontext vor
und nach jeder geänderten Zeile. Diese dienen als Referenz, so dass der
Patch auch noch angewendet werden kann falls an der zu patchenden Datei
eine Änderung vorgenommen wurde und die Zeilennummern nicht mehr korrekt
sind.</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Dieser</span> <span class="n">Patch</span> <span class="n">ist</span> <span class="n">ein</span> <span class="n">Beispiel</span> <span class="n">und</span> <span class="n">fügt</span> <span class="n">menuconfig</span> <span class="n">einen</span> <span class="n">neuen</span> <span class="n">Eintrag</span> <span class="n">hinzu</span><span class="o">.</span>

<span class="n">Index</span><span class="p">:</span> <span class="n">make</span><span class="o">/</span><span class="n">Config</span><span class="o">.</span><span class="ow">in</span>
<span class="o">===================================================================</span>
<span class="o">---</span> <span class="n">make</span><span class="o">/</span><span class="n">Config</span><span class="o">.</span><span class="ow">in</span>   <span class="p">(</span><span class="n">Revision</span> <span class="mi">7307</span><span class="p">)</span>
<span class="o">+++</span> <span class="n">make</span><span class="o">/</span><span class="n">Config</span><span class="o">.</span><span class="ow">in</span>   <span class="p">(</span><span class="n">Arbeitskopie</span><span class="p">)</span>
<span class="o">@@</span> <span class="o">-</span><span class="mi">51</span><span class="p">,</span><span class="mi">6</span> <span class="o">+</span><span class="mi">51</span><span class="p">,</span><span class="mi">7</span> <span class="o">@@</span>
 <span class="n">source</span> <span class="n">make</span><span class="o">/</span><span class="n">netcat</span><span class="o">/</span><span class="n">Config</span><span class="o">.</span><span class="ow">in</span>
 <span class="n">source</span> <span class="n">make</span><span class="o">/</span><span class="n">nc6</span><span class="o">/</span><span class="n">Config</span><span class="o">.</span><span class="ow">in</span>
 <span class="n">source</span> <span class="n">make</span><span class="o">/</span><span class="n">netsnmp</span><span class="o">/</span><span class="n">Config</span><span class="o">.</span><span class="ow">in</span>
<span class="o">+</span><span class="n">source</span> <span class="n">make</span><span class="o">/</span><span class="n">newpackage</span><span class="o">/</span><span class="n">Config</span><span class="o">.</span><span class="ow">in</span>
 <span class="n">source</span> <span class="n">make</span><span class="o">/</span><span class="n">nfs</span><span class="o">-</span><span class="n">utils</span><span class="o">/</span><span class="n">Config</span><span class="o">.</span><span class="ow">in</span>
 <span class="n">source</span> <span class="n">make</span><span class="o">/</span><span class="n">ntfs</span><span class="o">/</span><span class="n">Config</span><span class="o">.</span><span class="ow">in</span>
 <span class="n">source</span> <span class="n">make</span><span class="o">/</span><span class="n">openntpd</span><span class="o">/</span><span class="n">Config</span><span class="o">.</span><span class="ow">in</span>
</pre></div>
</div>
<p>In den meisten Fällen lauten die 2 Dateinamen (hier make/Config.in)
gleich, manchmal Unterscheiden sie sich in der Endung (.orig), je
nachdem wie der Patch erstellt wurde. Im Beispiel ist also eine Änderung
an der Datei make/Config.in beschrieben. Konkret wurde hier ein neues
Paket <em>newpackage</em> geschrieben und soll jetzt dem menuconfig hinzugefügt
werden. Die fünfte Zeile des Patches enthält Informationen darüber wo
sich der zu patchende Abschnitt (hunk) in der Datei befindet und wie
viele Textzeilen der Patch verändert. Im Beispiel beginnt der Patch ab
Zeile 51 und fügt eine Zeile (7-6=1), gekennzeichnet durch ein <code class="docutils literal notranslate"><span class="pre">+</span></code>,
hinzu. Man könnte also das gleiche Ergebnis erreichen, wenn man die
Datei make/Config.in in einem Texteditor öffnet und die Zeile
<code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">make/newpackage/Config.in</span></code> an der beschriebenen Stelle
hinzufügt.</p>
</div>
<div class="section" id="erzeugen-eines-patches">
<span id="erzeugeneinespatches"></span><h2>Erzeugen eines Patches<a class="headerlink" href="#erzeugen-eines-patches" title="Link zu dieser Überschrift">¶</a></h2>
<p>Man hat eine Datei (Config.in) geändert und difft sie gegen SVN:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">svn</span> <span class="n">diff</span> <span class="n">Config</span><span class="o">.</span><span class="ow">in</span> <span class="o">&gt;</span> <span class="n">Config</span><span class="o">.</span><span class="n">patch</span>
</pre></div>
</div>
<p>Alle Änderungen im Verzeichnis + Unterverzeichnisse:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">svn</span> <span class="n">diff</span> <span class="o">&gt;</span> <span class="nb">all</span><span class="o">.</span><span class="n">patch</span>
</pre></div>
</div>
<p>Falls man neue Dateien angelegt hat müssen diese erst dem SVN
hinzugefügt werden:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">svn</span> <span class="n">add</span> <span class="n">Datei</span><span class="o">-</span> <span class="n">oder</span> <span class="n">Verzeichnisname</span>
</pre></div>
</div>
</div>
<div class="section" id="patch-anwenden-oder-ruckgangig-machen">
<span id="patchanwendenoderruckgangigmachen"></span><h2>Patch anwenden oder rückgängig machen<a class="headerlink" href="#patch-anwenden-oder-ruckgangig-machen" title="Link zu dieser Überschrift">¶</a></h2>
<p>Patch anwenden:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>$ patch -p0 &lt; Config.patch
patching file Config.in
$
</pre></div>
</div>
<p>Patch rückgängig machen:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>$ patch -Rp0 &lt; Config.patch
patching file Config.in
$
</pre></div>
</div>
<p>Falls ihr so etwas seht:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>$ patch -p0 &lt; Config.patch
patching file Config.in
Hunk #1 FAILED at 1.
1 out of 1 hunk FAILED -- saving rejects to file Config.in.rej
</pre></div>
</div>
<p>Dann passt der Patch nicht mehr und muss erneuert werden.</p>
<ul class="simple">
<li>TODO (evtl. aus dem
<a class="reference external" href="http://wiki.ip-phone-forum.de/software:ds-mod:howtos#patches_in_den_ds-mod_einspielen">​ippf-Wiki</a>
kopieren)</li>
</ul>
</div>
<div class="section" id="wie-finde-ich-die-zu-patchende-stelle">
<span id="wiefindeichdiezupatchendestelle"></span><h2>Wie finde ich die zu patchende Stelle?<a class="headerlink" href="#wie-finde-ich-die-zu-patchende-stelle" title="Link zu dieser Überschrift">¶</a></h2>
<p>Auf diese Frage muss man primär antworten: Es kommt darauf an, worum es
geht. Weil das aber hier im Wiki natürlich nicht so befriedigend ist,
folgen ein paar Tipps von RalfFriedl am konkreten Beispiel von crond
bzw. dem Frotend dazu, nämlich dem crontab-Fenster im Freetz WebGUI.</p>
<p>Da cron nicht ein extra Paket ist, sondern zum Freetz Basis-System
gehört, liegen die Dateien für cron unter dem Verzeichnis
„make/mod/root/files“. Wenn es ein eigenes Paket wäre, z.B. inetd, wären
die Dateien unter „make/inetd/files/root“.</p>
<p>Im folgenden geht es darum, wie man die Web-Oberfläche von crontab
ändert und dann patcht. Am einfachsten findet man die Datei, wenn man
nach einem Text sucht, der sonst hoffentlich selten vorkommt, „crontab“
scheint hier ein guter Wert zu sein.</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>$ grep -r crontab make 2&gt; /dev/null | fgrep -v /.svn/
make/mod/files/root/etc/init.d/rc.crond:        cat /tmp/flash/mod/crontab /etc/cron.d/* /tmp/cron.d/* 2&gt; /dev/null |
make/mod/files/root/etc/init.d/rc.crond:            crontab -u root -
make/mod/files/root/etc/init.d/rc.crond:                [ -r /tmp/flash/crontab.save ] &amp;&amp; mv /tmp/flash/crontab.save /tmp/flash/mod/crontab
make/mod/files/root/etc/init.d/rc.crond:                modreg file mod crontab &#39;crontab&#39; 0 &quot;crontab&quot;
make/mod/files/root/etc/init.d/rc.crond:                modunreg file mod crontab
make/mod/files/root/etc/default.mod/crontab.def:CAPTION=&#39;Freetz: crontab&#39;
make/mod/files/root/etc/default.mod/crontab.def:CONFIG_FILE=&#39;/tmp/flash/mod/crontab&#39;
</pre></div>
</div>
<p>Das suchen in „make“ ist nur für den Fall, dass man nicht sicher ist, in
welchem Verzeichnis sich die Dateien befinden. Wenn man weiss, daß cron
zum Hauptsystem gehört, kann man direkt in „make/mod/files“ suchen, dann
geht es schneller. Die Umleitung „2&gt; /dev/null“ unterdrückt
Fehlermeldungen wegen nicht gefundener Dateien/Links.</p>
<p>Die Ergebnisse in Dateien mit „/.svn/“ im Pfad sind hier nicht von
Bedeutung.</p>
<p>Der Text „crontab“ kommt also in den Dateien rc.crond und crontab.def
vor. Das sagt uns leider noch nicht, was man machen muss, um eine Hilfe
auf die Seite zu bringen. Also suchen wir einmal nach „Hosts“, weil auf
der Hosts-Seite schon eine Hilfe da ist.</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>$ grep -r Hosts make 2&gt; /dev/null | fgrep -v /.svn/
...
make/mod/files/root/etc/default.mod/hosts.def:CAPTION=&#39;Freetz: hosts&#39;
root/etc/init.d/rc.mod:         modreg file &#39;exhosts&#39; &#39;Hosts&#39; 1 &quot;$deffile&quot;
... und noch viele andere Treffer
</pre></div>
</div>
<p>Die Definitionsdatei, aus der der Text „hosts“ kommt, ist also
make/mod/files/root/etc/default.mod/hosts.def. Schauen wir uns also mal
die Datei an:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>$ cat make/mod/files/root/etc/default.mod/hosts.def
CAPTION=&#39;Freetz: hosts&#39;
DESCRIPTION=&#39;Syntax: &amp;lt;ip&amp;gt; &amp;lt;mac&amp;gt; &amp;lt;interface&amp;gt; &amp;lt;host&amp;gt; [&amp;lt;aliases|#description&amp;gt;]&lt;br&gt;
($(lang de:&quot;z.B.: 10.0.0.1 * * www.local mfh1 # Mein Server&quot; en:&quot;e.g. 10.0.0.1 * * www.local mfh1 # my server&quot;)) *=&amp;quot;$(lang de:&quot;nicht definiert&quot; en:&quot;not defined&quot;)&amp;quot;&#39;
... der Rest ist hier nicht von Bedeutung
</pre></div>
</div>
<p>Wir sehen also, dass die Beschreibung aus dem Eintrag DESCRIPTION kommt,
der in der Datei make/mod/files/root/etc/default.mod/crontab.def nicht
vorhanden ist. Man muss also in der Datei
make/mod/files/root/etc/default.mod/crontab.def einen Eintrag
DESCRIPTION anlegen.</p>
<p>Wenn man will, dass mehrere Sprachen mit $(lang …) unterstützt werden,
dann muss man auch sicherstellen, dass die Datei in der passenden Liste
hinterlegt ist. Dies ist die datei „.language“ im Verzeichnis
make/&lt;Paket&gt;/files.</p>
<p>Die Datei sieht so aus:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>$ cat .language
languages
{ de en }
default
{ en }
files
{
        etc/default.mod/*.def
        etc/init.d/rc.mod
        usr/bin/modreg
        ...
}
</pre></div>
</div>
<p>Wir sehen hier, dass alle Dateien etc/default.mod/<a href="#id1"><span class="problematic" id="id2">*</span></a>.def schon inkludiert
werden und kein weiterer Eintrag notwendig ist.</p>
<p>Die geänderte Datei ist in diesem Fall nur
make/mod/files/root/etc/default.mod/crontab.def und es geht weiter wie
unten beschrieben.</p>
<p>Hintergrundinfos finden sich in diesem
<a class="reference external" href="http://www.ip-phone-forum.de/showthread.php?p=1274104#post1274104">​IPPF-Thread</a>.</p>
</div>
<div class="section" id="links">
<span id="id3"></span><h2>Links<a class="headerlink" href="#links" title="Link zu dieser Überschrift">¶</a></h2>
<p><a class="reference external" href="http://en.wikipedia.org/wiki/Diff">​Wikipedia Artikel zu diff
(Englisch)</a> <a class="reference external" href="http://en.wikipedia.org/wiki/Patch_(Unix)">​Wikipedia Artikel zu
patch (Englisch)</a></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Press.en.html" class="btn btn-neutral float-right" title="Freetz in public press &amp; web" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="FreetzConf2011.html" class="btn btn-neutral float-left" title="FreetzConf 2011" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Freetz Developers

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>