<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      help/howtos/common/external – Freetz
    </title>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="/search" />
        <link rel="help" href="../../../TracGuide.html" />
        <link rel="alternate" href="external%3Fformat=txt" type="text/x-trac-wiki" title="Reiner Text" />
        <link rel="up" href="../common.html" title="Übergeordnete Wiki-Seite anzeigen" />
        <link rel="start" href="/wiki" />
        <link rel="stylesheet" href="../../../../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../../../../chrome/common/css/wiki.css" type="text/css" /><link rel="stylesheet" href="../../../../chrome/wikiextras/css/phrases.css" type="text/css" /><link rel="stylesheet" href="../../../../chrome/wikiextras/css/boxes.css" type="text/css" /><link rel="stylesheet" href="../../../../chrome/wikiextras/css/boxes-300.css" type="text/css" /><link rel="stylesheet" href="../../../../chrome/wikiextras/css/boxes-narrow-toc.css" type="text/css" /><link rel="stylesheet" href="../../../../wikicss.css" type="text/css" /><link rel="stylesheet" href="../../../../chrome/tags/css/tractags.css" type="text/css" /><link rel="stylesheet" href="../../../../chrome/wikinegotiator/css/langmenu-ctxnav.css" type="text/css" />
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="/favicon.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="/search/opensearch" title="Freetz durchsuchen" />
      <script type="text/javascript" charset="utf-8" src="../../../../chrome/common/js/jquery.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../../../chrome/common/js/babel.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../../../chrome/common/js/messages/de.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../../../chrome/common/js/trac.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../../../chrome/common/js/search.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../../../chrome/common/js/folding.js"></script>
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("#content").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $("#content").find(".wikianchor").each(function() {
          $(this).addAnchor(babel.format(_("Link to #%(id)s"), {id: $(this).attr('id')}));
        });
        $(".foldable").enableFolding(true, true);
      });
    </script>
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="/wiki"><img src="../../../../chrome/common/freetz_motd.png" alt="Freetz" /></a>
      </div>
      <form id="search" action="/search" method="get">
        <div>
          <label for="proj-search">Suche:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Suche" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="/login">Anmelden</a></li><li><a href="/prefs">Einstellungen</a></li><li><a href="../../../TracGuide.html">Hilfe/Anleitung</a></li><li><a href="/about">Über Trac</a></li><li><a href="/notification" title="Wiki Pages Change Notifications">My Notifications</a></li><li><a href="/register">Registrieren</a></li><li class="last"><a href="../../../Impressum.html">Impressum</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first active"><a href="/wiki">Wiki</a></li><li><a href="/timeline">Journal</a></li><li><a href="/roadmap">Projektplan</a></li><li><a href="/browser">Quellen durchsehen</a></li><li><a href="/report">Tickets anzeigen</a></li><li><a href="/search">Suche</a></li><li><a href="/tags">Tags</a></li><li><a href="/downloads">Downloads</a></li><li class="last"><a href="/screenshots">Bildschirmfotos</a></li>
    </ul>
  </div>
    <div id="langmenu"><ul><li class="first"><span title="Select a language of wiki content">Language:</span></li><li class=" active"><a class="" href="external..html" title="displaying language (default)">German</a></li><li class=" last"><a class=" notexist" href="/wiki/help/howtos/common/external.en" title="(not available)">English</a></li></ul></div><div id="main">
      <div id="pagepath" class="noprint">
  <a class="pathentry first" title="Zeige WikiStart an" href="/wiki">Wiki:</a><a class="pathentry" href="../../../help.html" title="Zeige help an">help</a><span class="pathentry sep">/</span><a class="pathentry" href="../../howtos.html" title="Zeige help/howtos an">howtos</a><span class="pathentry sep">/</span><a class="pathentry" href="../common.html" title="Zeige help/howtos/common an">common</a><span class="pathentry sep">/</span><a class="pathentry" href="external.html" title="Zeige help/howtos/common/external an">external</a>
</div>
      <div id="ctxtnav" class="nav">
        <h2>Kontext-Navigation</h2>
        <ul>
          <li class="first"><a href="../common.html">Aufwärts</a></li><li><a href="../../../WikiStart.html">Startseite</a></li><li><a href="../../../TitleIndex.html">Inhaltsverzeichnis</a></li><li><a href="external%3Faction=history.html">Änderungshistorie</a></li><li class="last"><a href="/notification/help/howtos/common/external." title="Watch Page">Watch Page</a></li>
        </ul>
        <hr />
      </div>
    <div id="content" class="wiki">
      <div class="wikipage searchable">
        
          <div id="wikipage" class="trac-content"><h1 id="External">External</h1>
<p>
<span class="thumbnail-right"><span class="aux" style="width: 360px;"><a style="border-width: 1px;" href="/screenshots/118?format=raw" title="external menuconfig page"><img src="/screenshots/118?width=358&amp;format=raw&amp;height=415" alt="external menuconfig page" /></a><span class="description" style="width: 360px;">external menuconfig page</span></span></span> 
</p>
<p>
Entstanden aus diesem Thread im IPPF: <a class="ext-link" href="http://www.ip-phone-forum.de/showthread.php?t=160920"><span class="icon">​</span>http://www.ip-phone-forum.de/showthread.php?t=160920</a>
</p>
<p>
Mit "External" kann dem Platzproblem im Flash der Fritzboxen entgegengewirkt werden, man kann also ein größeres Image als das Flash zulassen würde installieren. Hierzu werden Packages, Librarys als auch benutzerdefinierte Dateien aus dem Image "externalisiert" oder ausgelagert. Bei Boxen mit USB-Host bietet sich hierzu ein angeschlossener USB-Stick an. Bei älteren Boxen können unter Zuhilfenahme des <a class="wiki" href="../../../packages/downloader.html">Downloader-CGIs</a> die Dateien von einem FTP- oder HTTP-Server in den RAM nachgeladen werden. Alternativ können die Dateien auch per <a class="wiki" href="../../../packages/autofs.html">autofs</a> eingebunden werden.<br />
Mit External kann man die Meldung <a class="wiki" href="../../../FAQ.html#Filesystemimagetoobig">Filesystem image too big</a> vermeiden.<br />
</p>
<p>
<img src="../../../../chrome/wikiextras-icons-16/exclamation.png" style="vertical-align: text-bottom" alt="/!\" /> Der Pfad zu den external-Dateien kann im Webinterface unter Freetz &rarr; Einstellungen &rarr; external konfiguriert werden.<br />
</p>
<p>
In diesem dürfen sich keine andere Dateien befinden, dies könnte zu <a class="ext-link" href="http://www.ip-phone-forum.de/showthread.php?p=1469406#post1469406"><span class="icon">​</span>Fehlern</a> führen.
</p>
<p>
<img src="../../../../chrome/wikiextras-icons-16/exclamation.png" style="vertical-align: text-bottom" alt="/!\" /> Es können nur Pakete ausgelagert werden, die zur Installation ausgewählt wurden.<br /><br />
</p>
<h1 id="Konfiguration">Konfiguration</h1>
<p>
zu finden im menuconfig unter "Advanced Options" &rarr; "External"
</p>
<h3 id="PreparefilesforDownloader">Prepare files for Downloader</h3>
<p>
Diese Option ist nur zu sehen, wenn das Downloader-CGI zur Installation ausgewählt wurde.<br />Es werden hiermit beim make-Prozess Pakete für den späteren <a class="wiki" href="../../../Download.html">Download</a> erstellt.<br />Näheres hierzu beim <a class="wiki" href="../../../packages/downloader.html">Downloader-CGI</a>.
</p>
<h3 id="Keepsubdirectories">Keep subdirectories</h3>
<p>
Die Verzeichnisstruktur der ausgelagerten Dateien wird beibehalten. Dies hat den Vorteil dass eine gleichlautende Datei an verschiedenen Stellen im Image ausgelagert werden kann. Ein Nachteil ist, dass das händische Kopieren auf die Box umständlicher ist.
</p>
<h3 id="Createfileforupload">Create file for upload</h3>
<p>
Alle ausgelagerten Dateien werden in eine Datei gepackt, die mittels Freetz-Webinterface auf die Box geladen werden kann. Die Datei ist im Verzeichnis .<em>image</em> zu finden und trägt den gleiche Namen wie das erstellte Image, weist aber die Endung ".external" auf.
</p>
<h3 id="ownfiles">own files</h3>
<p>
Hier können noch zusätzliche Dateien zum auslagern angegeben werden. Es ist der Pfad auf der Fritzbox anzugeben! Wenn es mehr als eine Datei ist, sind diese mit einem Leerzeichen voneinander zu trennen.
</p>
<h1 id="Auswahl">Auswahl</h1>
<h3 id="packages">packages</h3>
<p>
Hier können verschiedene "binary-only" Packages zum auslagern ausgewählt werden. Es sollten alle unproblematisch sein.
</p>
<h3 id="services">services</h3>
<p>
Hier können verschiedene automatisch startende Packages zum auslagern ausgewählt werden.
</p>
<p>
<img src="../../../../chrome/wikiextras-icons-16/exclamation.png" style="vertical-align: text-bottom" alt="/!\" /> Diese werden erst geladen wenn der USB-Stick verfügbar ist und die Option zum automatischen Starten von ausgelagerten Diensten im Webinterface aktiviert ist.
</p>
<h3 id="libraries">libraries</h3>
<p>
Hier können verschieden Libraries zum auslagern ausgewählt werden.
</p>
<p>
<img src="../../../../chrome/wikiextras-icons-16/exclamation.png" style="vertical-align: text-bottom" alt="/!\" /> Zu beachten ist, dass Programme, die gegen diese gelinkt sind, erst gestartet werden können, wenn die Datei auf der Box geladen ist. Also vorher bitte die Abhängigkeiten prüfen.
</p>
<h1 id="Installation">Installation</h1>
<p>
Die Dateien, die für external ausgewählt wurden, müssen auf der Box verfügbar gemacht werden.
</p>
<p>
Im Falle eines USB-Sticks sollte man bei der Konfiguration die Option "Create file for upload" auswählen. Die damit erzeugte Datei kann man über das installierte Freetz Webinterface System" &rarr; "Firmware-Update" &rarr; Option "external-Datei hochladen" auf die Box kopieren.
</p>
<p>
Wenn man einen FTP/HTTP-Server oder einen NFS-Server verwendet, muß man selbst dafür sorgen, daß die Box auf die Dateien zugreifen kann.
</p>
<h1 id="AutomatischesstartenstoppenvonDiensten">Automatisches starten/stoppen von Diensten</h1>
<p>
Dies kann im Webinterface unter <tt>Einstellungen</tt> konfiguriert werden. Dienste die hier eingetragen sind erscheinen im Webinterface nur solange der Datenträger mit den ausgelagerten Dateien zur Verfügung steht.<br />
Ansonsten müssten die Optionen selbsterklärend sein. Hier noch ein Screenshot davon:
<span class="thumbnail"><span class="aux" style="width: 482px;"><a style="border-width: 1px;" href="/screenshots/175?format=raw" title="external_services"><img src="/screenshots/175?width=480&amp;format=raw&amp;height=260" alt="external_services" /></a><span class="description" style="width: 482px;">external_services</span></span></span>
</p>
<p>
Unter <tt>Logdateien</tt> wird im Webinterface die <tt>/var/log/external.log</tt> angezeigt.<br />In dieser bedeutet in den "Waiting" Zeilen jeder Punk, dass 1 Sekunde gewartet wurde. Falls es also "tausende" Punkte sind, behindert irgendetwas das saubere hochfahren der Box, vermutlich ein Timer in der rc.custom oder debug.cfg.
</p>
<h1 id="Firmware-build-ProzessundUpdate">Firmware-build-Prozess und Update</h1>
<p>
Beim Firmware-build werden zwei Dateien erzeugt:
xxx.image     &rarr; die eigentliche Firmware-Image
xxx.external  &rarr; Die Dateien, die externalisiert werden sollen
</p>
<p>
Beide Dateien sind im Ordner [images] zu finden. Bei der external-Datei handelt es sich um eine gepackte tar-Datei, die beim Upload übers Freetz-Webinterface automatisch ins Zielverzeichnis entpackt wird.
Es wird empfohlen, erst die external hochzuladen [Freetz-WebIf &rarr; System &rarr; Firmware-Update] und danach erst die Firmware. So stehen die external-Pakete der aktualisierten Firmware schon zur Verfügung.
</p>
</div>
          
          <div class="trac-modifiedby">
            <span><a href="external%3Faction=diff&amp;version=14.html" title="Version 14 von cuma: typo">zuletzt geändert</a> <a class="timeline" href="/timeline?from=2013-10-10T11%3A22%3A45Z&amp;precision=second" title="Siehe Journal am 10.10.2013 11:22:45">vor 5 Jahren</a></span>
            <span class="trac-print">Zuletzt geändert am 10.10.2013 11:22:45</span>
          </div>
        
        
      </div><ul class="tags"><li class="header">Tags</li><li><a href="/tags/external" rel="tag">external</a> </li></ul>
      

    </div>
    <script type="text/javascript">
        jQuery.loadStyleSheet("/chrome/screenshots/css/screenshots.css", "text/css");
    </script>
    <div id="altlinks">
      <h3>In anderen Formaten herunterladen:</h3>
      <ul>
        <li class="last first">
          <a rel="nofollow" href="external%3Fformat=txt">Reiner Text</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../../../../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Betrieben mit <a href="/about"><strong>Trac 1.0.1</strong></a><br />
        von <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right"><div class="field" align="right"><form action="https://www.paypal.com/cgi-bin/webscr" method="post"><input type="hidden" name="cmd" value="_donations"/><input type="hidden" name="business" value="spenden@freetz.org"/><input type="hidden" name="item_name" value="Freetz Entwickler-Team"/><input type="hidden" name="no_shipping" value="1"/><input type="hidden" name="return" value="http://freetz.org"/><input type="hidden" name="cn" value="Name oder IPPF-Pseudonym"/><input type="hidden" name="currency_code" value="EUR"/><input type="hidden" name="tax" value="0"/><input type="hidden" name="lc" value="DE"/><input type="hidden" name="bn" value="PP-DonationsBF"/><input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" alt="Zahlen Sie mit PayPal - schnell, kostenlos und sicher!"/><img alt="" border="0" src="/pixel.gif" width="1" height="1"/></form></div></p>
    </div>
  </body>
</html>