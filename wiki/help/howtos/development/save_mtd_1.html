

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="de" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="de" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Flash-Partitionen im laufenden Betrieb sichern &mdash; Freetz master Dokumentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../../_static/language_data.js"></script>
        <script type="text/javascript" src="../../../../_static/translations.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Stichwortverzeichnis" href="../../../../genindex.html" />
    <link rel="search" title="Suche" href="../../../../search.html" />
    <link rel="next" title="Eigene Dateien in die Firmware integrieren" href="integrate_own_files.html" />
    <link rel="prev" title="ADAM2-Bootloader" href="adam2.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home"> Freetz
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Inhaltsverzeichnis</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../packages_tagged.html">Pakete nach Anwendungsgebieten</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Download.html">Stabile Versionen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Download.html#entwickler-versionen">Entwickler Versionen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Download.html#upload-und-statistik">Upload und Statistik</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Download.html#veraltete-versionen">Veraltete Versionen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../freetz.html">Freetz macht mehr aus der Box!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../FAQ.html">Freetz-FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Impressum.html">Impressum</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../libs_tagged.html">Bibliotheken nach Anwendungsgebieten</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ticket.html">Was sollte ich bei der Erstellung eines neuen Tickets beachten?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../style.html">Aussehen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages.html">Pakete, Addons und CGI-Erweiterungen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../FreetzConf2011.html">FreetzConf 2011</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patch.html">Aufbau eines Patches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patch.html#erzeugen-eines-patches">Erzeugen eines Patches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patch.html#patch-anwenden-oder-ruckgangig-machen">Patch anwenden oder rückgängig machen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patch.html#wie-finde-ich-die-zu-patchende-stelle">Wie finde ich die zu patchende Stelle?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patch.html#links">Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Press.en.html">Freetz in public press &amp; web</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patches.html">Freetz Patches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../help.html">Hilfe</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../libs.html">Bibliotheken (libraries)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../costumscript_dublesyslog.html">Schritte zur Lösung, kann übersprungen werden…</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../costumscript_dublesyslog.html#also-hier-die-anleitung-zur-editierung-der-rc-costum-ueber-die-shell">Also hier die Anleitung zur Editierung der rc.costum ueber die shell:</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../costumscript_dublesyslog.html#weiter-durch-die-herleitung-schritte-zur-loesung-whatever">weiter durch die herleitung (schritte zur loesung, whatever)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../costumscript_dublesyslog.html#losung">…Lösung:</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../kernel.html">Tree like overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Press.html">Freetz in Presse und Web</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../freetz.en.html">Freetz gets more from the Box!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../FAQ.en.html">Freetz-FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../common/source_code.en.html">Source code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../common/source_code.html">Quellcode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patches/remove_myfritz.html">Remove MyFritz</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patches/remove_tr069.html">Remove tr069 stuff</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patches/remove_assistant.html">Remove assistant</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patches/remove_help.html">Remove help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patches/remove_usermand.html">Remove usermand &amp; userman.ko</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patches/remove_samba.html">Remove Samba daemon (smbd)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patches/signed.html">Patch Webmenu Signed Message</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patches/remove_upnp.html">Remove uPnP daemon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patches/usb_names.html">Patch USB storage names, make FAT filesystems world-writable, automount feature</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patches/remove_mediasrv.html">Remove MediaServer daemon (mediasrv)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patches/remove_dsld.html">Remove dsld</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patches/onlinechanged.html">Onlinechanged</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patches/freetzmount.html">FREETZMOUNT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patches/replace_onlinechanged.html">Replace onlinechanged</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patches/remove_capi.html">Remove CapiOverTCP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patches/exec_autorun.html">Execute autorun.sh/autoend.sh script on (un)mount</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patches/exec_autorun.html#hinweis">Hinweis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patches/maxdevcount.html">MaxDevCount</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patches/remove_minid.html">Remove minid</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patches/multpile_printers.html">FritzBox als Printserver für mehrere Drucker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patches/alarmclock.html">Patch third alarm-clock</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patches/freetzmount.en.html">FREETZMOUNT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patches/remove_vpn.html">Remove AVM vpn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patches/remove_support.html">Remove the support-files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patches/remove_ftpd.html">Remove FTP deamon (ftpd)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../patches/remove_aura_usb.html">Remove aura USB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../howtos.html">HowTos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../trouble_shooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fritz_faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../irc.html">Intro</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../irc.html#irc-netiquette">IRC Netiquette</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../irc.html#troubleshooting-irc">Troubleshooting IRC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../irc.html#konfiguration-chatzilla-plugin-in-firefox">Konfiguration Chatzilla-Plugin in Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../wikiedit.html">Wiki Bearbeitung - Tipps und Tricks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common.html">Allgemeines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshoot.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Development Howtos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/freetz_linux.html">Freetz Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/shutdown.html">Rechner im Netz herunterfahren</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/newbie.en.html">Freetz for beginners</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/first_trunk.html">Wie baue ich meinen ersten trunk ?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/install.en.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/install.en.html#aktualisierung">Aktualisierung</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/install.en.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/install.en.html#weiterfuhrende-links">Weiterführende Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/external.html">External</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/external.html#konfiguration">Konfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/external.html#auswahl">Auswahl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/external.html#installation">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/external.html#automatisches-starten-stoppen-von-diensten">Automatisches starten/stoppen von Diensten</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/external.html#firmware-build-prozess-und-update">Firmware-build-Prozess und Update</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/create_swap.html">Swap-File anlegen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/install.html#aktualisierung">Aktualisierung</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/install.html#fehlerbehebung">Fehlerbehebung</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/install.html#manuelles-einspielen-des-images">Manuelles einspielen des Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/install.html#weiterfuhrende-links">Weiterführende Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/newbie.html">Erste Schritte mit Freetz</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/wol.html">Wake on Lan (WoL) mit der Fritzbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/user.html">Benutzer dauerhaft in der passwd speichern</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/busybox_httpd.html">Kleiner Webserver mit BusyBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/install/menuconfig.html">Konfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/newbie/other.html">Sonstige Infos für Newbie’s</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/newbie/errors.html">Was mache ich, wenn sich meine Box nicht Freetzen lässt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshoot/repair_phonebook.html">Kaputtes Telefonbuch reparieren</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshoot/recover_firmware.html">Original Firmware wiederherstellen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshoot/reboots.html">Häufige selbständige Reboots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security/switch_config.html">Konfiguration des eingebauten Switches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security/router_and_firewall.html">Freetz als interner Router mit Firewall</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security/user_management.html">Benutzerverwaltung</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security/split_wlan_lan.html">WLAN von LAN trennen mit iptables</a></li>
<li class="toctree-l1"><a class="reference internal" href="sign_image.html">Signieren von Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="sign_image.html#konkrete-anwendung-in-freetz">Konkrete Anwendung in Freetz</a></li>
<li class="toctree-l1"><a class="reference internal" href="integrate_patches.html">Patches in Freetz einspielen</a></li>
<li class="toctree-l1"><a class="reference internal" href="bandwidth_svg.html">Dynamische Bandbreitenanzeige per SVG</a></li>
<li class="toctree-l1"><a class="reference internal" href="create_cross-compiler_toolchain.html">Cross-Compiler / Toolchain erstellen</a></li>
<li class="toctree-l1"><a class="reference internal" href="create_cross-compiler_toolchain.html#eigene-download-toolchain-erstellen">Eigene Download-Toolchain erstellen</a></li>
<li class="toctree-l1"><a class="reference internal" href="create_cross-compiler_toolchain.html#target-native-compiler-toolchain-erstellen">Target/Native-Compiler-Toolchain erstellen</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_management.html">Release Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="package_creation.html">Wie baue ich ein eigenes Paket für Freetz?</a></li>
<li class="toctree-l1"><a class="reference internal" href="save_mtd_2.html">Flash-Partitionen von außen mit FTP sichern</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_information.html">Developer Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="create_gui.html">Erstellen einer GUI für Pakete in Freetz</a></li>
<li class="toctree-l1"><a class="reference internal" href="manipulation_detection.html">Wie die FritzBox Manipulationen erkennt</a></li>
<li class="toctree-l1"><a class="reference internal" href="freetz_make.html">Freetz Build-Prozeß</a></li>
<li class="toctree-l1"><a class="reference internal" href="urlader_flags.html">Einstellungen speichern im Urlader-Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="flash.html">Flash Partitionierung</a></li>
<li class="toctree-l1"><a class="reference internal" href="firmware_update_details.html">Ablauf eines Firmware-Updates</a></li>
<li class="toctree-l1"><a class="reference internal" href="repack_fw.html">Entpacken und Packen von Firmware-Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="install_addon.html">Addon Paket installieren</a></li>
<li class="toctree-l1"><a class="reference internal" href="make_busybox.html">Busybox konfigurieren und kompilieren</a></li>
<li class="toctree-l1"><a class="reference internal" href="adam2.html">ADAM2-Bootloader</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Flash-Partitionen im laufenden Betrieb sichern</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#motivation">Motivation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#voraussetzungen">Voraussetzungen</a></li>
<li class="toctree-l2"><a class="reference internal" href="#losungsweg">Lösungsweg</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#kopien-von-block-devices-mtdblock">Kopien von Block Devices (mtdblock*)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#kopien-von-character-devices-mtd">Kopien von Character Devices (mtd*)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ein-gefahrlicher-tip-ohne-gewahr">Ein (gefährlicher?) Tip, ohne Gewähr</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#wege-sich-schnell-einen-uberblick-zu-verschaffen">Wege, sich schnell einen Überblick zu verschaffen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#proc-partitions">/proc/partitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#proc-mtd">/proc/mtd</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#backup-von-urlader-kernel-und-dateisystem">Backup von Urlader, Kernel und Dateisystem</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#anmerkungen-zur-7270v3-mit-2-6er-kernel-mit-version-74-04-88-getestet">Anmerkungen zur 7270v3 mit 2.6er Kernel (mit Version 74.04.88 getestet)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#zusammenfassung">Zusammenfassung</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="integrate_own_files.html">Eigene Dateien in die Firmware integrieren</a></li>
<li class="toctree-l1"><a class="reference internal" href="analyse_image_names.html">Firmware-Image-Namen analysieren und interpretieren</a></li>
<li class="toctree-l1"><a class="reference internal" href="menuconfig.html">Menükonfiguration pflegen</a></li>
<li class="toctree-l1"><a class="reference internal" href="compile_own_progs.html">Eigene Programme kompilieren</a></li>
<li class="toctree-l1"><a class="reference internal" href="make_kernel.html">Kernel konfigurieren und kompilieren</a></li>
<li class="toctree-l1"><a class="reference internal" href="make_room.html">Platz sparen im Dateisystem der FritzBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_information/package_development.html">Package Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_information/post_commit_hook.html">Trac Hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_information/shell_coding_conventions.html">Shell Coding Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_information/package_development_advanced.html">Package Developing - Advanced Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_information/package_development_dynamic.html">Paketverwaltung für Freetz</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_information/package_development_start.html">First steps - How to start your first freetz package</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_information/package_development_start/example_2.html">Example 2: par2cmdline</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_information/package_development_start/example_1.html">Example 1: Httptunnel</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_information/package_development_start/.language.html">.language</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_information/package_development_start/webinterface_example_1.html">Web-interface HTTPTunnel</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_information/package_development_start/example_3.html">Example 3: NZBGet</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_information/webif/libmodcgi.html">libmodcgi.sh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../wikiedit/screenshots.html">Screenshots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../wikiedit/toc.html">Inhaltsverzeichnis erstellen (lassen)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../wikiedit/tagging.html">Tagging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../wikiedit/tables.html">Tabellen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../wikiedit/formatting_guide.html">Formatierungs-Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../wikiedit/goodies.html">Wiki Goodies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../style/tagging.html">Tagging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../style/skins.html">Skins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../style/favicons.html">Favicons</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../style/mounted.html">Aussehen von mounted.cgi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../libs/ftdi.html">ftdi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../libs/ftdi.en.html">libftdi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/bridge-utils.html">bridge-utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/sispmctl.html">sispmctl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/empty.html">Empty</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/apache.html">Apache Webserver mit PHP CGI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/polipo.en.html">Using with Tor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/polipo.en.html#using-at-your-office">Using at your office</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/polipo.en.html#security">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/polipo.en.html#blocking-domains">Blocking domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/polipo.en.html#issues">Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/polipo.en.html#links">Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/autofs.html">autofs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/strace.html">strace</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/syslogd.html">Syslogd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/lsof.html">lsof</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/dns2tcp.html">Dns2Tcp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/tinyproxy.html">Tinyproxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/davfs2.html">WebDAV mit davfs2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/s3fslite.html">s3fslite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/dropbear.en.html">Dropbear</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/ctorrent.html">CTorrent</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/irssi.html">irssi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/hplip.html">HPLIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/lighttpd.html">lighttpd Webserver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/privoxy.html">Privoxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/radvd.en.html">RADVD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/usbroot.html">USB-Root</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/vim.html">vim</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/bluez-utils.html">Bluez-Utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/sane-backends.html">SANE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/usbip.html">USB/IP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/dropbear.html">Dropbear</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/iptables-cgi.html">iptables-cgi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/hd-idle.html">hd-idle</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/fhem.html">FHEM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/igmpproxy.html">igmpproxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/usbutils.html">usbutils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/inotify-tools.html">Inotify-Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/authorized-keys.en.html">authorized-keys</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/rrdstats.html">RRDstats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/mcabber.html">mcabber</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/dtmfbox.html">DTMFBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/nfsd.en.html">NFSD_CGI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/espeak.html">eSpeak</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/dnsd.html">dnsd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/tor.html">Tor Proxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/spindown.html">Spindown</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/ncftp.html">ncftp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/lynx.html">Lynx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/smstools3.html">SMStools3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/smstools3.html#weiteres">Weiteres</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/debootstrap.html">Debootstrap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/ppp.html">ppp-cgi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/ppp.html#allgemeine-konfiguration">Allgemeine Konfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/ppp.html#konfiguration-fur-umts">Konfiguration für UMTS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/ppp.html#namensauflosung">Namensauflösung</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/ppp.html#firewall-routing-nat">Firewall, Routing &amp; NAT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/ppp.html#fallback">Fallback</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/ppp.html#treiberprobleme">Treiberprobleme</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/ppp.html#was-ist-noch-zu-beachten-2do-liste">Was ist noch zu beachten? (2do-Liste)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/ppp.html#weiteres">Weiteres</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/xmail.html">Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/sundtek.html">Sundtek DVB Treiber</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/iptables.html">iptables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/iptables.html#altere-beitrage-betreffen-fritzboxen-vor-der-72xx-serie">Ältere Beiträge (betreffen FritzBoxen vor der 72xx Serie)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/subversion.html">Subversion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/dtach.html">dtach</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/vsftpd.html">VSFTPd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/ziproxy.html">ziproxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/ntfs-3g.html">NTFS-3G</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/ruby.html">Ruby</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/aiccu.html">Aiccu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/mc.html">Midnight Commander</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/nfs.html">NFS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/streamripper.html">Streamripper</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/htpdate.html">htpdate</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/lua.html">Lua</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/emailrelay.html">E-MailRelay</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/madplay.html">madplay</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/nhipt.html">NHIPT - iptables firewall GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/netsnmp.html">Net-SNMP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/transmission.en.html">Blocklist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/transmission.en.html#number-of-peers">Number of peers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/transmission.en.html#memory-usage">Memory usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/transmission.en.html#limit-memory-usage">Limit memory usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/transmission.en.html#watchdog">Watchdog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/transmission.en.html#links">Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/imapproxy.en.html">ImapProxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/fuse.html">FUSE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/hiawatha.html">hiawatha</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/cifsmount.html">cifsmount</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/matrixtunnel.html">matrixtunnel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/ndas.en.html">NDAS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/nfs-utils.html">NFS-Utils / NFS-Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/vpnc.html">vpnc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/haserl.html">Haserl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/obexftp.html">ObexFTP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/nmap.html">Nmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/httptunnel.html">httptunnel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/onlinechanged.html">Onlinechanged</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/mini_fo.html">mini_fo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/mini_fo.html#konfiguration-webinterface">Konfiguration (Webinterface)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/mini_fo.html#konfiguration-per-hand">Konfiguration (per Hand)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/mini_fo.html#mogliche-nebeneffekte">Mögliche Nebeneffekte</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/mini_fo.html#restore-original-file">Restore original file</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/mini_fo.html#siehe-auch">Siehe auch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/pingtunnel.html">pingtunnel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/tcp_wrappers.html">TCP Wrapper</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/netsnmp.en.html">Net-SNMP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/netsnmp.en.html#mrtg">MRTG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/wol.html">Wake on LAN (WoL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/cpmaccfg.html">cpmaccfg</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/cpmaccfg.html#cpmaccfg-cgi">cpmaccfg-cgi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/syslogd.en.html">Syslog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/checkmaild.html">checkmaild 0.4.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/portmap.html">portmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/digitemp.html"><strong>Was ist digitemp?</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/digitemp.html#wichtiger-hinweis">Wichtiger Hinweis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/digitemp.html#tipp-bei-verwendung-mehrerer-usb-rs232-adapter-an-einer-fritzbox">Tipp bei Verwendung mehrerer USB-RS232-Adapter an einer Fritzbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/digitemp.html#datenbank">Datenbank</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/digitemp.html#weiterfuhrende-links">Weiterführende Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/downloader.html">Downloader-CGI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/bip.html">BIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/fortune.html">fortune</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/xrelayd.html">xrelayd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/tinc.html">Tinc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/bird.html">Bird</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/onlinechanged_cgi.html">Onlinechanged-CGI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/php.html">PHP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/phpxmail.en.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/phpxmail.en.html#basic-setup-guide">Basic setup guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/phpxmail.en.html#setup-ssl">Setup SSL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/phpxmail.en.html#useful-links">Useful links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/pptp.html">PPTP Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/mediatomb.html">MediaTomb</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/inetd.html">inetd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/owfs.html">owfs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/unbound.html">Unbound</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/fstyp.html">fstyp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/prosody.en.html">Prosody IM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/bftpd.html">Bftpd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/mod.html">(Freetz-) MOD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/br2684ctl.en.html">br2684ctl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/deco.html">Demos Commander</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/trickle.html">trickle</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/radvd.html">Radvd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/opendd.html">OpenDD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/pptpd.html">PoPTop - PPTP-VPN-Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/mediaserver.html">Mediaserver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/iptables.en.html">iptables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/dnsd.en.html">dnsd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/hp-utils.html">hp-utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/screen.html">screen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/ndas.html">1. Using NDAS driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/ndas.html#using-ndas-harddisk-array">2. Using NDAS harddisk array</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/ndas.html#share-the-data-files-on-the-ndas-hard-disks">3. Share the data/files on the NDAS hard disks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/ndas.html#ndas-robustnes">4. NDAS robustnes?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/ndas.html#referenzen">Referenzen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/dnsmasq.html">dnsmasq</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/wget.html">wget</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/e2fsprogs.html">e2fsprogs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/bind.html">bind</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/tcpdump.html">tcpdump</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/gw6.html">gw6</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/nhipt.en.html">NHIPT - iptables firewall GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/openntpd.html">OpenNTPD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/rudi-shell.html">Rudi-Shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/nano.html">nano</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/nfsd.html">NFSD_CGI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/stunnel.html">Stunnel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/rrdtool.html">RRDTool</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/ldd.html">ldd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/prosody.html">Prosody IM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/fhzctrl.html">fhzctrl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/aiccu.en.html">AICCU</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/authorized-keys.html">authorized_keys</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/pciutils.html">pciutils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/vtund.html">VTUN freetz Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/fritzload.html">FritzLoad</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/jamvm.html">JamVM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor.html">Callmonitor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/br2684ctl.html">br2684ctl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/netcat.html">netcat</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/quagga.html">Quagga</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/samba.html">Samba</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/iodine.html">iodine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/nagios.html">Nagios</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/smartmontools.html">Smartmontools (smartctl)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/mtr.html">mtr</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/avm-firewall.html">AVM-firewall-cgi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/bash.html">Bash</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/bash.html#ash">Ash</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/bash.html#bash-als-loginshell">Bash als Loginshell</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/asterisk.html">Asterisk</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/microperl.html">microperl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/nano-shell.html">Nano-Shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/m-i-t.html">module-init-tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/minidlna.html">MiniDLNA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/inadyn-mt.html">Inadyn-MT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/bluez.html">BlueZ 4.x</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/DemoPackageA.html">DemoPackageA „Hello World“</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/DemoPackageA.html#quellen">Quellen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/openvpn.html">OpenVPN freetz Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/knock.html">knockd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/ltrace.html">ltrace</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/curl.html">cURL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/inadyn-mt.en.html">Inadyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/virtualip.html">Virtual IP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/socat.html">socat</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/transmission.html">Transmission</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/config.html">Konfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/reverse_search.html">Rückwärtssuche</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/phonebook.html">Telefonbuch (Callers)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/maintenance.html">Wartung</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/adapt_messages.html">Anpassen der Benachrichtigungstexte</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/actions.html">Aktionen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/listeners.html">Regeln (Listeners)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/testcall.html">Testanruf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/faq.html">Callmonitor-FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/events.html">Ereignisse</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/actions/config.html">FritzBox-Konfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/actions/config.html#alternative">Alternative</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/actions/call.html">Allgemeine Hinweise zu Funktionsaufrufen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/actions/relook.html">DGStation Relook 400S</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/actions/rawmsg.html">Einfache TCP-Verbindungen (rawmsg)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/actions/snarl.html">Listener-Eintrag:</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/actions/snarl.html#screenshots">Screenshots:</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/actions/dbox.html">DBox2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/actions/xbox.html">XBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/actions/getmsg.html">HTTP-Requests (getmsg)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/actions/mail.html">E-Mail-Benachrichtigung</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/actions/samsung.html">Benachrichtigung auf einem Samsung TV</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/actions/self-defined.html">Selbstdefinierte Aktionen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/actions/wol.html">Wake on LAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/actions/yac.html">YAC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/actions/dial.html">Wählhilfe</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/actions/vdr.html">VDR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/actions/dreambox.html">DreamBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/actions/password.html">Benutzernamen und Passwörter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/actions/musicpal.html">Freecom MusicPal</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/callmonitor/actions/soundbridge.html">Roku SoundBridge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/netsnmp/mrtg.en.html">MRTG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/pptpd/config.html">Konfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/pptpd/webif.html">Das Web-Frontend zum Paket</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/pptpd/install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/rudi-shell/tips.html">Tips &amp; Tricks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/rudi-shell/limits.html">Grenzen &amp; Einschränkungen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/rudi-shell/install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/rudi-shell/usage.html">Illustrierte Anwendungsfälle</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../packages/rudi-shell/functions.html">Funktionsweise</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Freetz</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html">Docs</a> &raquo;</li>
        
      <li>Flash-Partitionen im laufenden Betrieb sichern</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../../_sources/wiki/help/howtos/development/save_mtd_1.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="flash-partitionen-im-laufenden-betrieb-sichern">
<span id="flash-partitionenimlaufendenbetriebsichern"></span><h1>Flash-Partitionen im laufenden Betrieb sichern<a class="headerlink" href="#flash-partitionen-im-laufenden-betrieb-sichern" title="Link zu dieser Überschrift">¶</a></h1>
<p>Dieser Artikel baut auf dem Artikel
<a class="reference external" href="flash.html">Flash-Partitionierung</a> auf. Ihn vorher zu lesen, schadet
also nicht.</p>
<p>Die überarbeitete Version des Artikels füllt einige Lücken bzgl. der
Frage nach der Numerierung von Devices. Dafür gebührt unser Dank
<a class="reference external" href="http://www.ip-phone-forum.de/member.php?u=58639">​Oliver
(olistudent)</a>.</p>
<p>Wie man Partitionen direkt über den Urlader/Bootloader sichert, findet
sich weiter unten.</p>
<div class="section" id="motivation">
<span id="id1"></span><h2>Motivation<a class="headerlink" href="#motivation" title="Link zu dieser Überschrift">¶</a></h2>
<p>Ich habe noch nie mit dem <a class="reference external" href="adam2.html">ADAM2</a>-Bootloader via FTP
gearbeitet und werde das auch vermutlich erst dann tun, wenn es
notwendig ist oder höchstens mal, um vorher zu üben. Um aber für den
Notfall gerüstet zu sein, wollte ich in der Lage sein, nicht nur Backups
von Kernel und Dateisystem zu ziehen, sondern auch eine Sicherungskopie
vom Bootloader selbst machen können - alles idealerweise, ohne ADAM2
selbst zu benutzen, also einfach im laufenden Betrieb über
Shell-Skripten. Dieser Artikel beschreibt, wie das geht.</p>
</div>
<div class="section" id="voraussetzungen">
<span id="id2"></span><h2>Voraussetzungen<a class="headerlink" href="#voraussetzungen" title="Link zu dieser Überschrift">¶</a></h2>
<p>Ich habe eine FritzBox Fon WLAN 7170, darf mich also zu den gut
ausgestatteten AVM-Kunden zählen, weil die 7170 momentan das Modell mit
dem größten Flash-Speicher und den umfangreichsten
Anschlussmöglichkeiten ist. Ich schreibe das nicht, um Werbung zu
machen, sondern um klar zu machen, dass das Folgende nicht 1:1 für alle
anderen Boxen gelten muss und dies vermutlich auch nicht tut.
Insbesondere Zahlenwerte sind auf die Verhältnisse der anderen Boxen
anzupassen.</p>
<p>Die Box hat folgende Merkmale:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>{
  echo Kernel: $(uname -a)
  echo Firmware: $CONFIG_VERSION_MAJOR.$CONFIG_VERSION $CONFIG_SUBVERSION
  echo Flash-Partitionierung:
  cat /proc/sys/urlader/environment | grep mtd
}

# Kernel: Linux fritz.box 2.6.13.1-ohio #1 Sat Jan 27 12:00:36 CET 2007 mips unknown
# Firmware: 29.04.29 ds-0.2.9     --&gt;  _26-13
# Flash-Partitionierung:
# mtd0    0x90000000,0x90000000   --&gt;  Hidden Root, 0 KB
# mtd1    0x90010000,0x90780000   --&gt;  Kernel + Filesystem, 7.616 KB
# mtd2    0x90000000,0x90010000   --&gt;  ADAM2 Bootloader, 64 KB
# mtd3    0x90780000,0x907C0000   --&gt;  TFFS für Konfig-Daten, 256 KB
# mtd4    0x907C0000,0x90800000   --&gt;  Kopie TFFS (Double Buffering), 256 KB
</pre></div>
</div>
<p>Die Anmerkungen hinter den Pfeilen wurden manuell eingefügt.</p>
</div>
<div class="section" id="losungsweg">
<span id="id3"></span><h2>Lösungsweg<a class="headerlink" href="#losungsweg" title="Link zu dieser Überschrift">¶</a></h2>
<p>Wenn wir uns das Pseudo-Dateisystem <code class="docutils literal notranslate"><span class="pre">/dev/</span></code> anschauen, erkennen wir
schnell, dass es folgende Geräte (Devices) gibt, die offenbar mit
unserer Aufgabe im Zusammenhang stehen:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">/dev/mtd0/</span></code> bis <code class="docutils literal notranslate"><span class="pre">/dev/mtd10</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">/dev/mtdblock0</span></code> bis <code class="docutils literal notranslate"><span class="pre">/dev/mtdblock10</span></code></li>
</ul>
<p>Worin besteht nun der Unterschied zwischen diesen Geräten? Es scheint,
als seien sie alle doppelt vorhanden unter verschiedenen Namen. In
gewissem Sinne stimmt das auch, und weshalb das so ist, sehen wir hier:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ls</span> <span class="o">-</span><span class="n">l</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">mtd</span><span class="o">*</span>

<span class="c1"># crw-r-----    1 root     root      90,   0 Jan  1  2000 /dev/mtd0</span>
<span class="c1"># crw-r-----    1 root     root      90,   1 Jan  1  2000 /dev/mtd1</span>
<span class="c1"># ...</span>
<span class="c1"># brw-r-----    1 root     root      31,   0 Jan  1  2000 /dev/mtdblock0</span>
<span class="c1"># brw-r-----    1 root     root      31,   1 Jan  1  2000 /dev/mtdblock1</span>
<span class="c1"># ...</span>
</pre></div>
</div>
<p>Die jeweils ersten Buchstaben des File Mode bringen es an den Tag: Die
<code class="docutils literal notranslate"><span class="pre">mtd*</span></code> sind zeichenorientierte Geräte (Character Devices, Kürzel „c“),
<code class="docutils literal notranslate"><span class="pre">mtdblock*</span></code> sind blockorientierte Geräte (Block Devices, Kürzel „b“).
Man könnte also sagen, es gibt zwei unterschiedliche Sichten auf den
Flash-Speicher: Zum einen kann man ihn als kontinuierlichen Zeichenstrom
sehen, zum anderen als Gerät mit blockweisem Direktzugriff (wie eine
Festplatte). Genaueres gibt es in der
<a class="reference external" href="http://de.wikipedia.org/wiki/Ger%C3%A4tedatei">​Wikipedia</a>.</p>
<p>Für den Zweck unserer Sicherheitskopie ist es im Grunde herzlich egal,
wie diese zustande kommt (Zeichen für Zeichen oder blockweise), solange
sich am Ende nur eine komplette Datei pro Flash-Partition auf unserer
Festplatte befindet. Ich habe beide Varianten ausprobiert und bin bei
beiden auf noch ungeklärte Phänomene gestoßen, aber mit den Block
Devices funktionieren die Datensicherungen besser, wie wir sehen werden.</p>
<p>Für die weiteren Erklärungen gehe ich davon aus, daß ein Mount Point
<code class="docutils literal notranslate"><span class="pre">/var/fritz</span></code> existiert, der einen größeren Datenspeicher darstellt.
Bei mir ist das eine über <em>smbmount</em> angebundene Windows-Freigabe, es
könnten aber auch USB-Sticks oder -Festplatten in Frage kommen. Genügend
freien RAM-Speicher auf der Box vorausgesetzt, kann man die Kopien auch
irgendwo unterhalb von <code class="docutils literal notranslate"><span class="pre">/var</span></code> zwischenspeichern und via FTP oder SCP
abtransportieren.</p>
<div class="section" id="kopien-von-block-devices-mtdblock">
<span id="kopienvonblockdevicesmtdblock"></span><h3>Kopien von Block Devices (mtdblock*)<a class="headerlink" href="#kopien-von-block-devices-mtdblock" title="Link zu dieser Überschrift">¶</a></h3>
<p>Ich hatte erwartet, mit folgendem Befehl den ADAM2-Bootloader, welcher
sich nach Konfiguration laut Urlader (s.o.) ja in Partition <code class="docutils literal notranslate"><span class="pre">mtd2</span></code>
befinden soll, sichern zu können:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">mtdblock2</span> <span class="o">&gt;</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">fritz</span><span class="o">/</span><span class="n">adam2</span>
</pre></div>
</div>
<p>Doch weit gefehlt, was finde ich auf meiner Festplatte? Eine Datei der
Größe 7.798.784 Bytes, das sind genau 7.616 KB und somit exakt die Größe
der eigentlich unter <code class="docutils literal notranslate"><span class="pre">mtd1</span></code> beheimateten Kombination aus Kernel und
direkt daran anschließendem Dateisystem. Das Ganze scheint mit der
Zählweise zusammenzuhängen, denn es ergibt sich folgendes Bild:</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Blockgerät</td>
<td>Partition</td>
<td>Größe</td>
<td>Beschreibung</td>
</tr>
<tr class="row-even"><td>mtdblock0</td>
<td>—-</td>
<td>—-</td>
<td><em>Endlosschleife
beim Auslesen</em></td>
</tr>
<tr class="row-odd"><td>mtdblock1</td>
<td>mtd0</td>
<td>6.966 KB</td>
<td>SquashFS-Filesy
stem
ohne Kernel
(hinterer Teil
von mtd1)</td>
</tr>
<tr class="row-even"><td>mtdblock2</td>
<td>mtd1</td>
<td>7.616 KB</td>
<td>Kernel +
SquashFS-Filesy
stem</td>
</tr>
<tr class="row-odd"><td>mtdblock3</td>
<td>mtd2</td>
<td>64 KB</td>
<td>ADAM2
Bootloader
(„Urlader“)</td>
</tr>
<tr class="row-even"><td>mtdblock4</td>
<td>mtd3</td>
<td>256 KB</td>
<td>TFFS für
Konfig-Daten</td>
</tr>
<tr class="row-odd"><td>mtdblock5</td>
<td>mtd4</td>
<td>256 KB</td>
<td>Kopie TFFS
(Double
Buffering)</td>
</tr>
<tr class="row-even"><td>mtdblock6</td>
<td>(mtd5)</td>
<td>1.664 KB</td>
<td>(Vorbereitet
für) JFFS2</td>
</tr>
<tr class="row-odd"><td>mtdblock7</td>
<td>(mtd6)</td>
<td>5.952 KB</td>
<td>(Vorbereitet
für) Kernel
ohne JFFS2</td>
</tr>
</tbody>
</table>
<p>Die weiteren drei <code class="docutils literal notranslate"><span class="pre">mtdblock</span></code>-Geräte ergeben Ausgaben der Länge null.</p>
<p>Zusammenfassend kann man sagen: Will man eine Kopie der <strong>Partition
``mtd[n]``</strong> haben, muß man offenbar das <strong>Blockgerät
``mtdblock[n+1]``</strong> benutzen.</p>
<p>Anmerkung von
<a class="reference external" href="http://www.ip-phone-forum.de/member.php?u=95502">​maceis</a>
(29.12.2011):</p>
<blockquote>
<div><em>Diese Verschiebung kann ich bei meiner neuen 7270_v3 nicht
feststellen. ``cat /dev/mtdblock1`` ergibt bei mir eine Datei, die
aufs kB genau so groß ist, wie der Kernel. ``cat /dev/mtdblock2`` ist
128 kB groß. Das deckt sich mit den Ausgaben von ``cat /proc/mtd``
und ``cat /proc/partitions``. Der Platz für den Urlader ist also
offensichtlich größer geworden. (Warum?)</em></div></blockquote>
<p>Antwort von <a class="reference external" href="http://www.ip-phone-forum.de/member.php?u=117253">​Alexander Kriegisch
(kriegaex)</a>
(06.01.2012):</p>
<blockquote>
<div><em>Ich sehe die Verschiebung aktuell auch nicht mehr auf meinen beiden
Boxen. Das hängt wohl mit Firmware- bzw. Urladerversionen zusammen,
kann also nicht pauschal für alle Geräte gesagt werden. Der Artikel
ist ja auch schon ziemlich alt, und damals war es eben so. Zur Größe
des Urladers: Tja, auch hier ändern sich offenbar die Zeiten. Während
z.B. die 7170 und die 7270_v1 sowie alle älteren Modelle 64 kB
Urladergröße hatten, sind es bei der</em><a class="reference external" href="http://www.wehavemorefun.de/fritzbox/index.php/7270#Environment">​7270_v2/3 128
kB</a><em>.
Bei ganz neuen Boxen schließe ich auch 256 kB nicht aus, da müßte ich
mal nachforschen, ich habe nur die älteren Geräte.</em></div></blockquote>
</div>
<div class="section" id="kopien-von-character-devices-mtd">
<span id="kopienvoncharacterdevicesmtd"></span><h3>Kopien von Character Devices (mtd*)<a class="headerlink" href="#kopien-von-character-devices-mtd" title="Link zu dieser Überschrift">¶</a></h3>
<p>Jetzt wird es richtig verwirrend, denn bei den Zeichengeräten taucht
jede Partition zweimal hintereinander auf, allerdings nicht bis ganz zu
Ende, da es ja bei der laufenden Nummer 10 aufhört:</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Zeichengerät</td>
<td>Partition</td>
<td>Größe</td>
<td>Beschreibung</td>
</tr>
<tr class="row-even"><td>mtd0/1</td>
<td>—-</td>
<td>—-</td>
<td><em>Endlosschleife
beim Auslesen</em></td>
</tr>
<tr class="row-odd"><td>mtd2/3</td>
<td>mtd0</td>
<td>6.966 KB</td>
<td>SquashFS-Filesy
stem
ohne Kernel
(hinterer Teil
von mtd1)</td>
</tr>
<tr class="row-even"><td>mtd4/5</td>
<td>mtd1</td>
<td>7.616 KB</td>
<td>Kernel +
SquashFS-Filesy
stem</td>
</tr>
<tr class="row-odd"><td>mtd6/7</td>
<td>mtd2</td>
<td>64 KB</td>
<td>ADAM2
Bootloader
(„Urlader“)</td>
</tr>
<tr class="row-even"><td>mtd8/9</td>
<td>mtd3</td>
<td>256 KB</td>
<td>TFFS für
Konfig-Daten</td>
</tr>
<tr class="row-odd"><td>mtd10(/11)</td>
<td>mtd4</td>
<td>256 KB</td>
<td>Kopie TFFS
(Double
Buffering)</td>
</tr>
<tr class="row-even"><td>(mtd12/13)</td>
<td>(mtd5)</td>
<td>1.664 KB</td>
<td>(Vorbereitet
für) JFFS2</td>
</tr>
<tr class="row-odd"><td>(mtd14/15)</td>
<td>(mtd6)</td>
<td>5.952 KB</td>
<td>(Vorbereitet
für) Kernel
ohne JFFS2</td>
</tr>
</tbody>
</table>
<p>Die eingeklammerten Zeichengeräte in der ersten Spalte würde es geben,
wenn <code class="docutils literal notranslate"><span class="pre">/sbin/makedevs</span></code> sie beim Hochfahren anlegen würde. In
<code class="docutils literal notranslate"><span class="pre">/etc/device.table</span></code> müßte dazu Folgendes geändert werden, um die
Devices bis <code class="docutils literal notranslate"><span class="pre">mtd15</span></code> zu erhalten:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Aktuelle Einstellung bei AVM und in Freetz</span>
<span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">mtd</span>        <span class="n">c</span>       <span class="mi">640</span>     <span class="mi">0</span>       <span class="mi">0</span>       <span class="mi">90</span>      <span class="mi">0</span>       <span class="mi">0</span>       <span class="mi">1</span>       <span class="mi">11</span>

<span class="c1"># Geänderte Einstellung (siehe letzte Spalte)</span>
<span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">mtd</span>        <span class="n">c</span>       <span class="mi">640</span>     <span class="mi">0</span>       <span class="mi">0</span>       <span class="mi">90</span>      <span class="mi">0</span>       <span class="mi">0</span>       <span class="mi">1</span>       <span class="mi">16</span>
</pre></div>
</div>
<blockquote>
<div><em>Zitat</em><a class="reference external" href="http://www.ip-phone-forum.de/member.php?u=58639">​Oliver
(olistudent)</a><em>:
„In der original Firmware hört das auch bei 10 auf. Da hab ich das
halt so übernommen.“</em></div></blockquote>
<p>Verständlich, würde ich sagen. Es kann ja jeder für sich ändern, falls
er glaubt, die Geräte zu brauchen.</p>
<p>Der Grund für die Doppelung ist übrigens, daß die Geräte mit den geraden
Nummern Lese-Schreib-Zugriff bieten, die mit den ungeraden
Nur-Lese-Zugriff.</p>
<p>Hier lautet die Formel: Will man eine Kopie der <strong>Partition ``mtd(n)``</strong>
haben, benutzt man das <strong>Zeichengerät ``mtd(2n+2)``</strong> - oder wahlweise
<code class="docutils literal notranslate"><span class="pre">mtd(2n+3)</span></code>.</p>
</div>
<div class="section" id="ein-gefahrlicher-tip-ohne-gewahr">
<span id="eingefahrlichertipohnegewahr"></span><h3>Ein (gefährlicher?) Tip, ohne Gewähr<a class="headerlink" href="#ein-gefahrlicher-tip-ohne-gewahr" title="Link zu dieser Überschrift">¶</a></h3>
<p>Im
<a class="reference external" href="http://forum.openwrt.org/viewtopic.php?pid=18281#p18281">​OpenWRT-Forum</a>
ist nachzulesen, daß man auf diese Weise den Bootloader im laufenden
Betrieb überschreiben könne <em>(Konjunktiv beachten, ich kenne keinen hier
im Forum, der es getestet hat):</em></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Annahme 1: neuer Bootloader liegt schon unter /var/adam2_new</span>
<span class="c1"># Annahme 2: /dev/mtdblock3 entspricht Bootloader-Partition mtd2</span>

<span class="c1"># So nicht: cp /var/adam2_new /dev/mtdblock3/</span>
<span class="n">cat</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">adam2_new</span> <span class="o">&gt;</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">mtdblock3</span>

<span class="n">reboot</span>
</pre></div>
</div>
<p><strong>Update (``cat`` statt ``cp``, s.o.):</strong> Wie unter <a class="reference external" href="adam2.html">ADAM2
überschreiben</a> nachzulesen, klappt das, wie mehrfach
bestätigt wurde und wie AVM auch vormacht in FW-Updates.</p>
<p>Wer will es versuchen? Falls es schief geht und man den Bootloader
löscht statt überschreibt oder das neue Image Mist ist, darf man das
Paket an AVM schon fertig machen :-/, sofern man nicht glücklicher
Besitzer eines
<a class="reference external" href="http://feadispace.fe.funpic.de/FBF7050/">​JTAG-Kabels</a> (siehe auch
<a class="reference external" href="http://wiki.openwrt.org/OpenWrtDocs/Customizing/Hardware/JTAG_Cable">​OpenWrt.org</a>)
mit passender Software ist. Falls man versehentlich „nur“ eine andere
Partition überschreibt, sollte ein Recover reichen.</p>
</div>
</div>
<div class="section" id="wege-sich-schnell-einen-uberblick-zu-verschaffen">
<span id="wegesichschnelleinenuberblickzuverschaffen"></span><h2>Wege, sich schnell einen Überblick zu verschaffen<a class="headerlink" href="#wege-sich-schnell-einen-uberblick-zu-verschaffen" title="Link zu dieser Überschrift">¶</a></h2>
<p>Was ich schon lange beschreiben wollte, da ich es zum Zeitpunkt der
Urfassung dieses Artikels noch nicht wusste, aber später durch
voneinander unabhängige Hinweise von <a class="reference external" href="http://www.ip-phone-forum.de/member.php?u=95274">​Sedat
(dileks)</a> und
<a class="reference external" href="http://www.ip-phone-forum.de/member.php?u=58906">​Enrik (enrik)</a>
gelernt habe, ist, daß es sehr viel einfacher gewesen wäre, obige
Tabellen bzgl. Partitionen und Block Devices zu erstellen, hätte ich
folgende Befehle gekannt, die jeder auf seinem Boxtyp ausführen sollte,
um sich einen Überblick zu verschaffen, denn die Partitionen sind nicht
überall gleich groß und haben nicht überall die gleiche Nummerierung.
Beispielsweise ist der Urlader unter Kernel 2.4 unter
<code class="docutils literal notranslate"><span class="pre">/dev/mtdblock/2</span></code> zu finden und befindet sich unter Kernel 2.6 unter
<code class="docutils literal notranslate"><span class="pre">/dev/mtdblock3</span></code> (andere Nummer, eine Verzeichnisebene höher). Das ist
wichtig zu wissen, wenn man z.B. ein Downgrade auf eine ältere
Firmwareversion vorhat, die auch auf einen älteren Kernel und Bootloader
aufsetzt. Es bringt ja nichts, Letzteren in die falsche Partition zu
schreiben.</p>
<div class="section" id="proc-partitions">
<h3>/proc/partitions<a class="headerlink" href="#proc-partitions" title="Link zu dieser Überschrift">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cat /proc/partitions

major minor  #blocks  name

  31     0       8192 mtdblock0
  31     1       6966 mtdblock1
  31     2       7616 mtdblock2
  31     3         64 mtdblock3
  31     4        256 mtdblock4
  31     5        256 mtdblock5
  31     6       1600 mtdblock6
  31     7       6016 mtdblock7
   8     0      64000 sda
   8     1      63984 sda1
</pre></div>
</div>
<p>Hier sieht man sehr schön die Größen der einzelnen Partitionen samt
Device Major/Minor (wer’s braucht) und passenden Block-Device-Namen.</p>
<p>Auf einer 7270 sieht das etwas anders aus:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>$ cat /proc/partitions

major minor  #blocks  name

  31     0       6732 mtdblock0
  31     1        883 mtdblock1
  31     2         64 mtdblock2
  31     3        256 mtdblock3
  31     4        256 mtdblock4
  31     5       8192 mtdblock5
</pre></div>
</div>
<p>Hier scheint mtdblock2 wirklich der Bootloader zu sein.</p>
</div>
<div class="section" id="proc-mtd">
<h3>/proc/mtd<a class="headerlink" href="#proc-mtd" title="Link zu dieser Überschrift">¶</a></h3>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>$ cat /proc/mtd

dev:    size   erasesize  name
mtd0: 00800000 00010000 &quot;phys_mapped_flash&quot;
mtd1: 006cdb00 00010000 &quot;filesystem&quot;
mtd2: 00770000 00010000 &quot;kernel&quot;
mtd3: 00010000 00010000 &quot;bootloader&quot;
mtd4: 00040000 00010000 &quot;tffs (1)&quot;
mtd5: 00040000 00010000 &quot;tffs (2)&quot;
mtd6: 00190000 00010000 &quot;jffs2&quot;
mtd7: 005e0000 00010000 &quot;Kernel without jffs2&quot;
</pre></div>
</div>
<p>In dieser alternativen Darstellung mit in Hexadezimal-Schreibweise
angegebener Partitionsgröße sieht man noch als Kommentar eine
Beschreibung, die Auskunft darüber gibt, wofür die einzelnen Partitionen
tatsächlich vorgesehen sind. Sehr einfach, sehr praktisch.</p>
<p>Und auch hier wieder die 7270:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>$ cat /proc/mtd

dev:    size   erasesize  name
mtd0: 00693200 00010000 &quot;rootfs&quot;
mtd1: 000dce00 00010000 &quot;kernel&quot;
mtd2: 00010000 00010000 &quot;urlader&quot;
mtd3: 00040000 00010000 &quot;tffs (1)&quot;
mtd4: 00040000 00010000 &quot;tffs (2)&quot;
mtd5: 00800000 00010000 &quot;reserved&quot;
</pre></div>
</div>
<div class="section" id="backup-von-urlader-kernel-und-dateisystem">
<span id="backupvonurladerkernelunddateisystem"></span><h4>Backup von Urlader, Kernel und Dateisystem<a class="headerlink" href="#backup-von-urlader-kernel-und-dateisystem" title="Link zu dieser Überschrift">¶</a></h4>
<p>Wie man bei einer Kernel-2.6-Firmware konkret und effizient
<code class="docutils literal notranslate"><span class="pre">urlader.image</span></code> und <code class="docutils literal notranslate"><span class="pre">kernel.image</span></code> übers Netzwerk wegsichert,
beschreibe ich im
<a class="reference external" href="http://www.ip-phone-forum.de/showthread.php?p=954170#post954170">​Forum</a>.</p>
</div>
</div>
<div class="section" id="anmerkungen-zur-7270v3-mit-2-6er-kernel-mit-version-74-04-88-getestet">
<span id="anmerkungenzur7270v3mit2-6erkernelmitversion74-04-88getestet"></span><h3>Anmerkungen zur 7270v3 mit 2.6er Kernel (mit Version 74.04.88 getestet)<a class="headerlink" href="#anmerkungen-zur-7270v3-mit-2-6er-kernel-mit-version-74-04-88-getestet" title="Link zu dieser Überschrift">¶</a></h3>
<p>Das in den letzten Absätzen angegebene Layout für die 7270 mit obiger
Firmware kann ich noch um folgende Informationen zur letzten „Partition“
ergänzen. Die in „/proc/mtd“ als „reserved“ angegebene „mtd5“ enthält
den gesamten Bereich von „mtd0“ bis „mtd4” hintereinander. Darauf
gebracht hat mich die Größe von 16 MiB (0x800000). Hat man in Freetz das
Programm „dd“ mit den Funktionen „if“ und „of“ (beides ist auszuwählen
im Menuconfig; getestet mit Freetz 1.2) integriert, läßt sich auf
einfache Weise eine vollständige Sicherheitskopie ziehen und
zurückspielen:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>$ dd if=/dev/mtdblock5 of=/var/media/ftp/uStor00/mtd5.bak
</pre></div>
</div>
<p>Wiederherstellen geht dann umgekehrt:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>$ dd of=/dev/mtdblock5 if=/var/media/ftp/uStor00/mtd5.bak
</pre></div>
</div>
<p>Das Programm „cat“ ist zum Sichern ebenso geeignet, hier muß dann die
Ausgabe in die Zieldatei umgeleitet werden. Der erste eingesteckte
USB-Speicher ist für gewöhnlich als „/var/media/ftp/uStor00“ eingehängt,
das kann natürlich im Einzelfall anders heißen. Mit „bzip2“ kann man es
bei Bedarf noch geringfügig komprimieren. Für die Kopien habe ich ein
Skript auf dem USB-Speicher liegen, daß regelmäßig eine solche Kopie per
Cron anfertigt.</p>
<p>Getestet habe ich das auch: als der Router in einer Reboot-Schleife
hing, habe ich durch das Zurückspielen einer solchen Kopie erfolgreich
einen früheren Zustand wiederhergestellt.</p>
<p>Beachte, daß AVM das Layout in künftigen Versionen ohne weiteres wieder
ändern kann, tippe also niemals ohne eigene Prüfung einfach die
Befehlszeilen oben ab. <a class="reference external" href="http://www.ip-phone-forum.de/member.php?u=121255">​Christoph
Franzen</a></p>
</div>
</div>
<div class="section" id="zusammenfassung">
<span id="id4"></span><h2>Zusammenfassung<a class="headerlink" href="#zusammenfassung" title="Link zu dieser Überschrift">¶</a></h2>
<p>Wer Kopien seiner Flash-Partitionen haben möchte, macht das im laufenden
Betrieb am besten, indem er das passende Block Device auswählt (Vorsicht
bei der verschobenen Numerierung!) und mittels <code class="docutils literal notranslate"><span class="pre">cat</span></code> die Daten auf ein
externes Medium wegsichert. <em>ADAM2</em> benötigt man hierfür jedenfalls
nicht zwingend, es geht auch so. Am besten kontrolliert man anhand der
sich ergebenden Dateigrößen, ob man die richtigen Partitionen erwischt
hat. Der Bootloader hat immer 64 KB, das TFFS 256 KB, der Rest hängt von
der Box und der Firmware-Version ab.</p>
<p><a class="reference external" href="http://www.ip-phone-forum.de/member.php?u=117253">​Alexander Kriegisch
(kriegaex)</a></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="integrate_own_files.html" class="btn btn-neutral float-right" title="Eigene Dateien in die Firmware integrieren" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="adam2.html" class="btn btn-neutral float-left" title="ADAM2-Bootloader" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Freetz Developers

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>